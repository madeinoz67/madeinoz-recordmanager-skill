<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Expert record keeping with paperless-ngx integration" name="description"/><link href="https://madeinoz67.github.io/madeinoz-recordmanager-skill/architecture/upload-workflow/" rel="canonical"/><link href="../layers/" rel="prev"/><link href="../retention-lifecycle/" rel="next"/><link href="../../assets/favicon.svg" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/><title>Upload Workflow - Records Manager Skill (PAI Pack)</title><link href="../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../css/timeago.css" rel="stylesheet"/><link href="../../stylesheets/extra.css" rel="stylesheet"/><link href="../../assets/stylesheets/panzoom.css" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta name="panzoom-theme" content="material">
<meta name="panzoom-data" content='{"selectors": [".d2", ".mermaid"], "initial_zoom_level": 1.0}'> </head> <body data-md-color-accent="purple" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#upload-workflow"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="Records Manager Skill (PAI Pack)" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Records Manager Skill (PAI Pack)"> <img alt="logo" src="../../assets/icon.svg"/> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Records Manager Skill (PAI Pack) </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Upload Workflow </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="purple" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="purple" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/madeinoz67/madeinoz-recordmanager-skill" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> madeinoz67/madeinoz-recordmanager-skill </div> </a> </div> </nav> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href="../.."> Home </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../getting-started/"> Getting Started </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../user-guide/"> User Guide </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../configuration/"> Configuration </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../tutorials/"> Tutorials </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../reference/"> Reference </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../extending/"> Extending </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../examples/"> Examples </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a class="md-tabs__link" href="../"> Architecture </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../troubleshooting/"> Troubleshooting </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="Records Manager Skill (PAI Pack)" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Records Manager Skill (PAI Pack)"> <img alt="logo" src="../../assets/icon.svg"/> </a> Records Manager Skill (PAI Pack) </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/madeinoz67/madeinoz-recordmanager-skill" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg> </div> <div class="md-source__repository"> madeinoz67/madeinoz-recordmanager-skill </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../.."> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../getting-started/"> <span class="md-ellipsis"> Getting Started </span> </a> <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../getting-started/installation/"> <span class="md-ellipsis"> Installation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../getting-started/prerequisites/"> <span class="md-ellipsis"> Prerequisites </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../getting-started/quickstart/"> <span class="md-ellipsis"> Quick Start </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../user-guide/"> <span class="md-ellipsis"> User Guide </span> </a> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/daily-usage/"> <span class="md-ellipsis"> Daily Usage </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/search/"> <span class="md-ellipsis"> Search </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/tagging/"> <span class="md-ellipsis"> Tagging </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/retention/"> <span class="md-ellipsis"> Retention </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/trusts/"> <span class="md-ellipsis"> Trusts </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user-guide/workflows/"> <span class="md-ellipsis"> Workflows </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../configuration/"> <span class="md-ellipsis"> Configuration </span> </a> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../configuration/environment/"> <span class="md-ellipsis"> Environment Variables </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../configuration/paperless-setup/"> <span class="md-ellipsis"> paperless-ngx Setup </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../configuration/country-selection/"> <span class="md-ellipsis"> Country Selection </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../tutorials/"> <span class="md-ellipsis"> Tutorials </span> </a> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/first-upload/"> <span class="md-ellipsis"> First Upload </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/entity-creation/"> <span class="md-ellipsis"> Entity Creation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/retention-check/"> <span class="md-ellipsis"> Retention Check </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/batch-import/"> <span class="md-ellipsis"> Batch Import </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../reference/"> <span class="md-ellipsis"> Reference </span> </a> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/cli/"> <span class="md-ellipsis"> CLI Commands </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/agents/"> <span class="md-ellipsis"> Agents </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/taxonomy-data-structure/"> <span class="md-ellipsis"> Taxonomy Data Structure </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/changelog/"> <span class="md-ellipsis"> Changelog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../extending/"> <span class="md-ellipsis"> Extending </span> </a> <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> Extending </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../extending/taxonomies/"> <span class="md-ellipsis"> Taxonomies </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../extending/custom-entities/"> <span class="md-ellipsis"> Custom Entities </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../extending/custom-taxonomies/"> <span class="md-ellipsis"> Custom Taxonomies </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../extending/validation/"> <span class="md-ellipsis"> Validation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../examples/"> <span class="md-ellipsis"> Examples </span> </a> <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../examples/prompts/"> <span class="md-ellipsis"> Example Prompts </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../"> <span class="md-ellipsis"> Architecture </span> </a> <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex=""> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="true" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_9"> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../overview/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../layers/"> <span class="md-ellipsis"> Layers </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Upload Workflow </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> Upload Workflow </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#overview"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-workflow-sequence-diagram"> <span class="md-ellipsis"> Upload Workflow Sequence Diagram </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#processing-steps"> <span class="md-ellipsis"> Processing Steps </span> </a> <nav aria-label="Processing Steps" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#1-initial-request-processing"> <span class="md-ellipsis"> 1. Initial Request Processing </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#2-intent-detection"> <span class="md-ellipsis"> 2. Intent Detection </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#3-taxonomy-classification"> <span class="md-ellipsis"> 3. Taxonomy Classification </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#4-trust-compliance-check"> <span class="md-ellipsis"> 4. Trust Compliance Check </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#5-sensitivity-assessment"> <span class="md-ellipsis"> 5. Sensitivity Assessment </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#6-entity-management"> <span class="md-ellipsis"> 6. Entity Management </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#7-workflow-recommendation"> <span class="md-ellipsis"> 7. Workflow Recommendation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#8-document-upload"> <span class="md-ellipsis"> 8. Document Upload </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#9-post-processing"> <span class="md-ellipsis"> 9. Post-Processing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#key-interactions"> <span class="md-ellipsis"> Key Interactions </span> </a> <nav aria-label="Key Interactions" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#classification-flow"> <span class="md-ellipsis"> Classification Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#trust-compliance-flow"> <span class="md-ellipsis"> Trust Compliance Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#sensitivity-flow"> <span class="md-ellipsis"> Sensitivity Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#entity-management-flow"> <span class="md-ellipsis"> Entity Management Flow </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#error-handling"> <span class="md-ellipsis"> Error Handling </span> </a> <nav aria-label="Error Handling" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#common-upload-errors"> <span class="md-ellipsis"> Common Upload Errors </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#recovery-mechanisms"> <span class="md-ellipsis"> Recovery Mechanisms </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#performance-considerations"> <span class="md-ellipsis"> Performance Considerations </span> </a> <nav aria-label="Performance Considerations" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#optimization-techniques"> <span class="md-ellipsis"> Optimization Techniques </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#scalability-features"> <span class="md-ellipsis"> Scalability Features </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#security-features"> <span class="md-ellipsis"> Security Features </span> </a> <nav aria-label="Security Features" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-security"> <span class="md-ellipsis"> Upload Security </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#data-protection"> <span class="md-ellipsis"> Data Protection </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#configuration-parameters"> <span class="md-ellipsis"> Configuration Parameters </span> </a> <nav aria-label="Configuration Parameters" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#environment-variables"> <span class="md-ellipsis"> Environment Variables </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-options"> <span class="md-ellipsis"> Upload Options </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../retention-lifecycle/"> <span class="md-ellipsis"> Retention Lifecycle </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../troubleshooting/"> <span class="md-ellipsis"> Troubleshooting </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#overview"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-workflow-sequence-diagram"> <span class="md-ellipsis"> Upload Workflow Sequence Diagram </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#processing-steps"> <span class="md-ellipsis"> Processing Steps </span> </a> <nav aria-label="Processing Steps" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#1-initial-request-processing"> <span class="md-ellipsis"> 1. Initial Request Processing </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#2-intent-detection"> <span class="md-ellipsis"> 2. Intent Detection </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#3-taxonomy-classification"> <span class="md-ellipsis"> 3. Taxonomy Classification </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#4-trust-compliance-check"> <span class="md-ellipsis"> 4. Trust Compliance Check </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#5-sensitivity-assessment"> <span class="md-ellipsis"> 5. Sensitivity Assessment </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#6-entity-management"> <span class="md-ellipsis"> 6. Entity Management </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#7-workflow-recommendation"> <span class="md-ellipsis"> 7. Workflow Recommendation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#8-document-upload"> <span class="md-ellipsis"> 8. Document Upload </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#9-post-processing"> <span class="md-ellipsis"> 9. Post-Processing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#key-interactions"> <span class="md-ellipsis"> Key Interactions </span> </a> <nav aria-label="Key Interactions" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#classification-flow"> <span class="md-ellipsis"> Classification Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#trust-compliance-flow"> <span class="md-ellipsis"> Trust Compliance Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#sensitivity-flow"> <span class="md-ellipsis"> Sensitivity Flow </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#entity-management-flow"> <span class="md-ellipsis"> Entity Management Flow </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#error-handling"> <span class="md-ellipsis"> Error Handling </span> </a> <nav aria-label="Error Handling" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#common-upload-errors"> <span class="md-ellipsis"> Common Upload Errors </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#recovery-mechanisms"> <span class="md-ellipsis"> Recovery Mechanisms </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#performance-considerations"> <span class="md-ellipsis"> Performance Considerations </span> </a> <nav aria-label="Performance Considerations" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#optimization-techniques"> <span class="md-ellipsis"> Optimization Techniques </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#scalability-features"> <span class="md-ellipsis"> Scalability Features </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#security-features"> <span class="md-ellipsis"> Security Features </span> </a> <nav aria-label="Security Features" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-security"> <span class="md-ellipsis"> Upload Security </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#data-protection"> <span class="md-ellipsis"> Data Protection </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#configuration-parameters"> <span class="md-ellipsis"> Configuration Parameters </span> </a> <nav aria-label="Configuration Parameters" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#environment-variables"> <span class="md-ellipsis"> Environment Variables </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#upload-options"> <span class="md-ellipsis"> Upload Options </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <nav aria-label="Navigation" class="md-path"> <ol class="md-path__list"> <li class="md-path__item"> <a class="md-path__link" href="../.."> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-path__item"> <a class="md-path__link" href="../"> <span class="md-ellipsis"> Architecture </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <h1 id="upload-workflow">Upload Workflow<a class="headerlink" href="#upload-workflow" title="Permanent link">¶</a></h1> <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2> <p>The document upload workflow demonstrates how the Records Manager Skill processes documents through the three-layer architecture. This sequence diagram shows the flow from user request to document storage in paperless-ngx.</p> <h2 id="upload-workflow-sequence-diagram">Upload Workflow Sequence Diagram<a class="headerlink" href="#upload-workflow-sequence-diagram" title="Permanent link">¶</a></h2> <div class="panzoom-box" data-key="none" id="panzoom0" oncontextmenu="return false;"> <nav class="panzoom-nav"> <button class="panzoom-reset panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"></path> </svg> </button><button class="panzoom-max panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"></path> </svg> </button><button class="panzoom-min panzoom-button panzoom-hidden"> <svg class="panzoom-icon" viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"> <path d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 320c-17.7 0-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0z"></path> </svg> </button> </nav> <pre class="mermaid"><code>sequenceDiagram
    participant User as User
    participant CLI as RecordManager CLI
    participant Skill as SKILL.md
    participant Taxonomy as TaxonomyExpert
    participant Trust as TrustExpert
    participant Sensitivity as SensitivityExpert
    participant Entity as EntityCreator
    participant Workflow as WorkflowExpert
    participant Client as PaperlessClient
    participant API as paperless-ngx API

    User-&gt;&gt;+CLI: upload &lt;file&gt; --domain &lt;entity&gt;
    CLI-&gt;&gt;CLI: Parse arguments and validate

    CLI-&gt;&gt;+Skill: Process upload request
    Skill-&gt;&gt;Skill: Detect document type from filename/content

    Skill-&gt;&gt;+Taxonomy: Classify document
    Taxonomy-&gt;&gt;Taxonomy: Apply country taxonomy rules
    Taxonomy--&gt;&gt;-Skill: Return classification (type, tags)

    Skill-&gt;&gt;+Trust: Check trust compliance (if applicable)
    Trust-&gt;&gt;Trust: Validate FTE dates, deed requirements
    Trust--&gt;&gt;-Skill: Return compliance status

    Skill-&gt;&gt;+Sensitivity: Assess document sensitivity
    Sensitivity-&gt;&gt;Sensitivity: Apply sensitivity rules
    Sensitivity--&gt;&gt;-Skill: Return sensitivity level

    Skill-&gt;&gt;+Entity: Verify entity configuration
    Entity-&gt;&gt;Entity: Check entity existence
    Entity--&gt;&gt;-Skill: Return entity status

    Skill-&gt;&gt;+Workflow: Recommend workflow
    Workflow-&gt;&gt;Workflow: Determine automated processing
    Workflow--&gt;&gt;-Skill: Return workflow suggestions

    Skill-&gt;&gt;-CLI: Return processing plan

    CLI-&gt;&gt;+Client: Upload document
    Client-&gt;&gt;Client: Prepare API request
    Client-&gt;&gt;+API: POST /api/documents/
    API--&gt;&gt;-Client: Return document ID

    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/tags/
    Note over API,Client: Apply classification tags
    API--&gt;&gt;-Client: Tags applied

    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/correspondents/
    Note over API,Client: Set entity correspondent
    API--&gt;&gt;-Client: Correspondent set

    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/document_types/
    Note over API,Client: Set document type
    API--&gt;&gt;-Client: Type set

    Client--&gt;&gt;-CLI: Upload complete
    CLI--&gt;&gt;-User: Document uploaded successfully

    %% Alternative paths
    alt Trust document detected
        Skill-&gt;&gt;+Trust: Validate trust relationship
        Trust-&gt;&gt;Trust: Check FTE date rules
        Trust--&gt;&gt;-Skill: FTE validation results
    end

    alt High sensitivity detected
        Skill-&gt;&gt;+Sensitivity: Apply enhanced security
        Sensitivity-&gt;&gt;Sensitivity: Flag for review
        Sensitivity--&gt;&gt;-Skill: Security requirements
    end

    alt Automated workflow triggered
        Skill-&gt;&gt;+Workflow: Execute workflow
        Workflow-&gt;&gt;Workflow: Process document
        Workflow--&gt;&gt;-Skill: Workflow complete
    end</code></pre> <div class="panzoom-info-box panzoom-info-box-bottom"> Use mouse to pan and zoom </div> </div> <h2 id="processing-steps">Processing Steps<a class="headerlink" href="#processing-steps" title="Permanent link">¶</a></h2> <h3 id="1-initial-request-processing">1. Initial Request Processing<a class="headerlink" href="#1-initial-request-processing" title="Permanent link">¶</a></h3> <ul> <li><strong>User Command</strong>: <code>upload document.pdf --domain household</code></li> <li><strong>CLI Parsing</strong>: Extract filename, entity type, and options</li> <li><strong>Validation</strong>: Check file existence and entity validity</li> </ul> <h3 id="2-intent-detection">2. Intent Detection<a class="headerlink" href="#2-intent-detection" title="Permanent link">¶</a></h3> <ul> <li><strong>SKILL.md</strong>: Analyzes user request to determine intent</li> <li><strong>Document Classification</strong>: Examines filename and content hints</li> <li><strong>Intent Confirmation</strong>: Confirms this is an upload operation</li> </ul> <h3 id="3-taxonomy-classification">3. Taxonomy Classification<a class="headerlink" href="#3-taxonomy-classification" title="Permanent link">¶</a></h3> <ul> <li><strong>TaxonomyExpert</strong>: Applies country-specific classification rules</li> <li><strong>Document Type</strong>: Determines primary document type (invoice, receipt, etc.)</li> <li><strong>Tags Generation</strong>: Creates appropriate tags based on taxonomy</li> <li><strong>Retention Rules</strong>: Sets initial retention period</li> </ul> <h3 id="4-trust-compliance-check">4. Trust Compliance Check<a class="headerlink" href="#4-trust-compliance-check" title="Permanent link">¶</a></h3> <ul> <li><strong>TrustExpert</strong>: Validates if document relates to trust entities</li> <li><strong>FTE Validation</strong>: Checks Family Trust Election compliance</li> <li><strong>Deed Requirements</strong>: Validates trust deed documents</li> <li><strong>Distribution Rules</strong>: Applies trust-specific retention rules</li> </ul> <h3 id="5-sensitivity-assessment">5. Sensitivity Assessment<a class="headerlink" href="#5-sensitivity-assessment" title="Permanent link">¶</a></h3> <ul> <li><strong>SensitivityExpert</strong>: Evaluates document sensitivity</li> <li><strong>Data Classification</strong>: Applies GDPR, Privacy Act, or local regulations</li> <li><strong>Security Requirements</strong>: Determines handling restrictions</li> <li><strong>Access Control</strong>: Sets appropriate access permissions</li> </ul> <h3 id="6-entity-management">6. Entity Management<a class="headerlink" href="#6-entity-management" title="Permanent link">¶</a></h3> <ul> <li><strong>EntityCreator</strong>: Verifies entity configuration</li> <li><strong>Correspondent Assignment</strong>: Links document to entity</li> <li><strong>Domain Validation</strong>: Ensures entity exists and is valid</li> <li><strong>Hierarchy Management</strong>: Handles nested entity relationships</li> </ul> <h3 id="7-workflow-recommendation">7. Workflow Recommendation<a class="headerlink" href="#7-workflow-recommendation" title="Permanent link">¶</a></h3> <ul> <li><strong>WorkflowExpert</strong>: Suggests automated processing</li> <li><strong>OCR Processing</strong>: Recommends OCR for scanned documents</li> <li><strong>Automation</strong>: Identifies potential workflow triggers</li> <li><strong>Review Requirements</strong>: Flags documents needing manual review</li> </ul> <h3 id="8-document-upload">8. Document Upload<a class="headerlink" href="#8-document-upload" title="Permanent link">¶</a></h3> <ul> <li><strong>PaperlessClient</strong>: Constructs API request</li> <li><strong>File Upload</strong>: Sends document to paperless-ngx</li> <li><strong>Metadata Application</strong>: Applies tags, types, correspondents</li> <li><strong>Response Handling</strong>: Processes API response</li> </ul> <h3 id="9-post-processing">9. Post-Processing<a class="headerlink" href="#9-post-processing" title="Permanent link">¶</a></h3> <ul> <li><strong>Confirmation</strong>: Provides success message to user</li> <li><strong>Logging</strong>: Records upload in audit trail</li> <li><strong>Notification</strong>: Triggers follow-up workflows if needed</li> <li><strong>Cleanup</strong>: Removes temporary files</li> </ul> <h2 id="key-interactions">Key Interactions<a class="headerlink" href="#key-interactions" title="Permanent link">¶</a></h2> <h3 id="classification-flow">Classification Flow<a class="headerlink" href="#classification-flow" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>User Request → SKILL.md → TaxonomyExpert → Classification Result
</code></pre></div> <h3 id="trust-compliance-flow">Trust Compliance Flow<a class="headerlink" href="#trust-compliance-flow" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>Trust Document → TrustExpert → FTE Validation → Compliance Status
</code></pre></div> <h3 id="sensitivity-flow">Sensitivity Flow<a class="headerlink" href="#sensitivity-flow" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>Document Content → SensitivityExpert → Security Level → Handling Rules
</code></pre></div> <h3 id="entity-management-flow">Entity Management Flow<a class="headerlink" href="#entity-management-flow" title="Permanent link">¶</a></h3> <div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>Entity Specification → EntityCreator → Verification → Assignment
</code></pre></div> <h2 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">¶</a></h2> <h3 id="common-upload-errors">Common Upload Errors<a class="headerlink" href="#common-upload-errors" title="Permanent link">¶</a></h3> <ol> <li> <p><strong>Invalid Entity</strong>: System validates entity exists before processing</p> </li> <li> <p><strong>File Errors</strong>: CLI validates file accessibility and format</p> </li> <li> <p><strong>API Failures</strong>: PaperlessClient handles paperless-ngx errors</p> </li> <li> <p><strong>Classification Issues</strong>: Fallback to manual classification</p> </li> </ol> <h3 id="recovery-mechanisms">Recovery Mechanisms<a class="headerlink" href="#recovery-mechanisms" title="Permanent link">¶</a></h3> <ul> <li> <p><strong>Retry Logic</strong>: Automatic retry for transient failures</p> </li> <li> <p><strong>Rollback</strong>: Partial uploads are cleaned up</p> </li> <li> <p><strong>Error Reporting</strong>: Detailed error messages with suggestions</p> </li> <li> <p><strong>Logging</strong>: Complete audit trail for troubleshooting</p> </li> </ul> <h2 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">¶</a></h2> <h3 id="optimization-techniques">Optimization Techniques<a class="headerlink" href="#optimization-techniques" title="Permanent link">¶</a></h3> <ul> <li> <p><strong>Parallel Processing</strong>: Multiple experts can work simultaneously</p> </li> <li> <p><strong>Caching</strong>: Classification results cached for similar documents</p> </li> <li> <p><strong>Batch Operations</strong>: Multiple tags applied in single API call</p> </li> <li> <p><strong>Stream Processing</strong>: Large files streamed without loading entirely</p> </li> </ul> <h3 id="scalability-features">Scalability Features<a class="headerlink" href="#scalability-features" title="Permanent link">¶</a></h3> <ul> <li> <p><strong>Horizontal Scaling</strong>: Multiple instances can handle uploads</p> </li> <li> <p><strong>Load Balancing</strong>: Distributed processing across experts</p> </li> <li> <p><strong>Queue Management</strong>: Backpressure handling during peak loads</p> </li> <li> <p><strong>Resource Management</strong>: Memory-efficient processing</p> </li> </ul> <h2 id="security-features">Security Features<a class="headerlink" href="#security-features" title="Permanent link">¶</a></h2> <h3 id="upload-security">Upload Security<a class="headerlink" href="#upload-security" title="Permanent link">¶</a></h3> <ul> <li> <p><strong>File Validation</strong>: Malware scanning and format checking</p> </li> <li> <p><strong>Permission Checks</strong>: User authorization for entity access</p> </li> <li> <p><strong>Content Scanning</strong>: Sensitive data detection</p> </li> <li> <p><strong>Audit Logging</strong>: Complete operation tracking</p> </li> </ul> <h3 id="data-protection">Data Protection<a class="headerlink" href="#data-protection" title="Permanent link">¶</a></h3> <ul> <li> <p><strong>Encryption</strong>: Optional encryption for sensitive documents</p> </li> <li> <p><strong>Access Control</strong>: Role-based access management</p> </li> <li> <p><strong>Retention Policies</strong>: Automated compliance enforcement</p> </li> <li> <p><strong>Privacy Protection</strong>: GDPR and privacy act compliance</p> </li> </ul> <h2 id="configuration-parameters">Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permanent link">¶</a></h2> <h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">¶</a></h3> <ul> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code>: paperless-ngx instance URL</li> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code>: API authentication token</li> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_COUNTRY</code>: Country for taxonomy rules</li> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_DEFAULT_DOMAIN</code>: Default entity domain</li> </ul> <h3 id="upload-options">Upload Options<a class="headerlink" href="#upload-options" title="Permanent link">¶</a></h3> <ul> <li><code>--domain</code>: Entity for document assignment</li> <li><code>--tags</code>: Additional tags to apply</li> <li><code>--correspondent</code>: Override correspondent assignment</li> <li><code>--type</code>: Override document type</li> <li><code>--workflow</code>: Specific workflow to trigger</li> </ul> <p>This upload workflow demonstrates how the three-layer architecture ensures safe, compliant, and efficient document processing while maintaining complete auditability and user control.</p> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="Last update"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 23, 2026 14:43:53 UTC"><span class="timeago" datetime="2026-01-23T14:43:53+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 23, 2026 14:43:53 UTC">2026-01-23</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="Created"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="January 23, 2026 14:43:53 UTC"><span class="timeago" datetime="2026-01-23T14:43:53+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="January 23, 2026 14:43:53 UTC">2026-01-23</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <nav aria-label="Footer" class="md-footer__inner md-grid"> <a aria-label="Previous: Layers" class="md-footer__link md-footer__link--prev" href="../layers/"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> Layers </div> </div> </a> <a aria-label="Next: Retention Lifecycle" class="md-footer__link md-footer__link--next" href="../retention-lifecycle/"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Retention Lifecycle </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.path", "navigation.top", "navigation.footer", "navigation.instant", "navigation.instant.progress", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../../js/timeago.min.js"></script> <script src="../../js/timeago_mkdocs_material.js"></script> <script src="../../assets/javascripts/panzoom.min.js"></script> <script src="../../assets/javascripts/zoompan.js"></script> </body> </html>