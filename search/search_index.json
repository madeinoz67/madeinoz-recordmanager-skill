{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Records Manager Skill","text":"<p>Expert record keeping system with paperless-ngx integration, country-specific taxonomies, and intelligent document management</p> <p> </p> <p>DISCLAIMER: Use at Your Own Risk</p> <p>The project owner and contributors are NOT responsible for any data loss, accidental deletions, or damages caused by using this software.</p> <p>This tool interacts with your paperless-ngx instance and can delete documents. Despite safety features including:</p> <ul> <li>Mandatory deletion confirmation workflows</li> <li>Deletion Auditor agent approval requirements</li> <li>Explicit confirmation prompts</li> </ul> <p>You are solely responsible for:</p> <ul> <li>Backing up your data before using this tool</li> <li>Verifying all deletion operations before confirming</li> <li>Understanding your legal retention requirements</li> <li>Following paperless-ngx security best practices</li> </ul> <p>Before using this tool, you MUST:</p> <ol> <li>\u2705 Set up a dedicated PAI user with limited permissions - see Security Best Practices</li> <li>\u2705 Enable paperless-ngx backup and recovery - see paperless-ngx backup documentation</li> <li>\u2705 Test the deletion confirmation workflow in a safe environment</li> <li>\u2705 Understand that deleted documents cannot be recovered without a backup</li> </ol> <p>By using this software, you agree that you have read and understood this disclaimer, and that you have taken appropriate steps to protect your data.</p>"},{"location":"#overview","title":"Overview","text":"<p>The Records Manager Skill is a comprehensive document management system that transforms how you organize, search, and retain documents. Built as a PAI (Personal AI Infrastructure) pack, it integrates seamlessly with paperless-ngx to provide intelligent, taxonomy-driven document management for households, businesses, and projects.</p> <p>Core principle: Organize once, find forever. Your AI assistant becomes an expert records manager that knows how to properly categorize, tag, and manage documents according to best practices and local requirements.</p>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#intelligent-document-organization","title":"Intelligent Document Organization","text":"<ul> <li> <p>Automatic tagging and categorization based on document content</p> </li> <li> <p>Domain-specific taxonomies for household, corporate, and project records</p> </li> <li> <p>Smart suggestions for document types and metadata</p> </li> </ul>"},{"location":"#country-specific-compliance","title":"Country-Specific Compliance","text":"<ul> <li> <p>Record keeping guidelines tailored to your jurisdiction (Australia, US, UK)</p> </li> <li> <p>Automatic retention period recommendations</p> </li> <li> <p>ATO-compliant trust document management for Australian users</p> </li> </ul>"},{"location":"#safe-operations","title":"Safe Operations","text":"<ul> <li> <p>Mandatory deletion confirmation workflow prevents catastrophic data loss</p> </li> <li> <p>Explicit approval required for any document destruction</p> </li> <li> <p>Complete audit trail for compliance and legal protection</p> </li> </ul>"},{"location":"#powerful-search","title":"Powerful Search","text":"<ul> <li> <p>Optimized data structures for finding relevant documents quickly</p> </li> <li> <p>Search by tags, document types, dates, and content</p> </li> <li> <p>Filterable results with retention status indicators</p> </li> </ul>"},{"location":"#specialized-agents","title":"Specialized Agents","text":"<ul> <li> <p>Records Keeper - Taxonomy design and organization</p> </li> <li> <p>Compliance Guardian - Legal retention requirements</p> </li> <li> <p>Archive Architect - Storage and retrieval strategy</p> </li> <li> <p>Deletion Auditor - Safety checkpoint for all deletions</p> </li> <li> <p>Sensitivity Scanner - Data classification and DLP</p> </li> <li> <p>Retention Monitor - Time-based compliance tracking</p> </li> </ul>"},{"location":"#extensible-architecture","title":"Extensible Architecture","text":"<ul> <li> <p>Create custom entity types with their own taxonomies</p> </li> <li> <p>Define country-specific retention rules</p> </li> <li> <p>Add domain-specific tags and categories</p> </li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<ol> <li> <p>Download the latest release from GitHub Releases</p> </li> <li> <p>Extract to your Packs directory:</p> </li> </ol> <pre><code>mkdir -p ~/pai/Packs\nunzip madeinoz-recordmanager-skill-*.zip -d ~/pai/Packs/\n</code></pre> <ol> <li>Open Claude Code in the pack directory:</li> </ol> <pre><code>cd ~/pai/Packs/madeinoz-recordmanager-skill\nclaude\n</code></pre> <ol> <li>Tell the AI: \"Install this pack\"</li> </ol> <p>The AI will handle the rest: *   Copy the skill to <code>$PAI_DIR/skills/</code> *   Configure environment variables *   Verify installation</p> <ol> <li>Start managing records:</li> </ol> <pre><code>Upload this invoice and organize it properly\n</code></pre>"},{"location":"#whats-included","title":"What's Included","text":"Component Description Skill Definition Intent detection and workflow routing Paperless API Client Complete paperless-ngx integration Taxonomy Expert Country-specific record keeping guidelines Record Manager CLI Command-line tool for all operations Delete Confirmation Mandatory approval workflow for deletions Specialized Agents Six domain expert agents for complex tasks"},{"location":"#get-started","title":"Get Started","text":""},{"location":"#installation-guide","title":"Installation Guide","text":"<p>Complete setup instructions for PAI integration and paperless-ngx configuration.</p>"},{"location":"#quickstart-tutorial","title":"Quickstart Tutorial","text":"<p>Step-by-step walkthrough for uploading your first document with intelligent tagging.</p>"},{"location":"#prerequisites","title":"Prerequisites","text":"<p>System requirements including PAI, paperless-ngx, and Bun runtime.</p>"},{"location":"#documentation-sections","title":"Documentation Sections","text":""},{"location":"#user-guide","title":"User Guide","text":"<p>Daily workflows for upload, search, tagging, and retention management.</p>"},{"location":"#configuration","title":"Configuration","text":"<p>Environment variables, paperless-ngx setup, and country selection.</p>"},{"location":"#tutorials","title":"Tutorials","text":"<p>Step-by-step guides for common tasks and advanced workflows.</p>"},{"location":"#api-reference","title":"API Reference","text":"<p>CLI commands, library functions, and agent documentation.</p>"},{"location":"#extending","title":"Extending","text":"<p>Create custom taxonomies, add entity types, and extend the system.</p>"},{"location":"#architecture","title":"Architecture","text":"<p>System design, component interaction, and data flows.</p>"},{"location":"#for-ai-assistants","title":"For AI Assistants","text":"<p>If you are an AI coding assistant (Claude, Cursor, Copilot, etc.):</p> <p>Read INSTALL.md before attempting installation.</p>"},{"location":"#example-usage","title":"Example Usage","text":""},{"location":"#upload-with-intelligent-tagging","title":"Upload with Intelligent Tagging","text":"<pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Downloads/medical-bill.pdf \\\n  --domain household \\\n  --country Australia\n\n# Skill automatically:\n# - Detects document type (Medical Receipt)\n# - Suggests tags: medical, receipt, health-insurance\n# - Sets retention: 7 years (ATO requirement)\n# - Applies household accounting tags\n</code></pre>"},{"location":"#search-by-taxonomy","title":"Search by Taxonomy","text":"<pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --tags \"tax,financial,2024\" \\\n  --domain household\n</code></pre>"},{"location":"#retention-check","title":"Retention Check","text":"<pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain corporate\n</code></pre>"},{"location":"#architecture_1","title":"Architecture","text":"<pre><code>User Request\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  RECORDS MANAGER SKILL                                  \u2502\n\u2502  - Triggers on record/document intent                   \u2502\n\u2502  - Routes to appropriate workflow                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  TAXONOMY EXPERT                                        \u2502\n\u2502  - Country-specific guidelines                          \u2502\n\u2502  - Domain expertise (household/corporate/projects)      \u2502\n\u2502  - Suggests tags, types, retention periods              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  PAPERLESS-NGX API CLIENT                               \u2502\n\u2502  - Document upload with OCR                             \u2502\n\u2502  - Tag and document type management                     \u2502\n\u2502  - Search with filters                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  DELETION CONFIRMATION (SPECIAL CASE)                   \u2502\n\u2502  - Explicit approval required                           \u2502\n\u2502  - Explains consequences                                \u2502\n\u2502  - Cannot be bypassed                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"#safety-design","title":"Safety Design","text":""},{"location":"#deletion-protection","title":"Deletion Protection","text":"<p>The Records Manager Skill has a critical safety feature: deletion always requires explicit confirmation.</p> <ul> <li>The <code>PaperlessClient</code> has NO delete methods - they are intentionally excluded</li> <li>All deletion requests route through the <code>DeleteConfirmation</code> workflow</li> <li>The Deletion Auditor agent must approve any deletion</li> <li>Full audit trail maintained for compliance</li> </ul> <p>This prevents catastrophic data loss from accidental bulk deletions.</p>"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE for details.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please read our contributing guidelines and submit pull requests to the main repository.</p>"},{"location":"#links","title":"Links","text":"<ul> <li>GitHub Repository: madeinoz67/madeinoz-recordmanager-skill</li> <li>Issue Tracker: GitHub Issues</li> <li>PAI Project: danielmiessler/PAI</li> <li>paperless-ngx: paperless-ngx/docs</li> </ul> <p>Version: 1.2.0 Last Updated: 2026-01-20</p>"},{"location":"announcement/","title":"\ud83d\udccb Records Manager Skill - Now Available for PAI","text":"<p>Expert record keeping with paperless-ngx integration, country-specific taxonomies, and intelligent document management</p>"},{"location":"announcement/#overview","title":"\ud83c\udfaf Overview","text":"<p>The Records Manager Skill is now available for the PAI (Personal AI Infrastructure) community. This pack transforms how you organize, search, and retain documents by turning your AI assistant into an expert records manager that knows how to properly categorize, tag, and manage documents according to best practices and legal requirements.</p> <p>Core principle: Organize once, find forever.</p>"},{"location":"announcement/#key-features","title":"\u2728 Key Features","text":""},{"location":"announcement/#intelligent-document-organization","title":"\ud83c\udff7\ufe0f Intelligent Document Organization","text":"<ul> <li> <p>Automatic tagging and categorization based on document content</p> </li> <li> <p>Domain-specific taxonomies for household, corporate, and project records</p> </li> <li> <p>Smart suggestions for document types and metadata</p> </li> </ul>"},{"location":"announcement/#country-specific-compliance","title":"\ud83c\udf0d Country-Specific Compliance","text":"<ul> <li> <p>Record keeping guidelines tailored to your jurisdiction (Australia, US, UK)</p> </li> <li> <p>Automatic retention period recommendations</p> </li> <li> <p>ATO-compliant trust document management for Australian users</p> </li> </ul>"},{"location":"announcement/#safe-operations","title":"\ud83d\udee1\ufe0f Safe Operations","text":"<ul> <li> <p>Mandatory deletion confirmation workflow prevents catastrophic data loss</p> </li> <li> <p>Explicit approval required for any document destruction</p> </li> <li> <p>Complete audit trail for compliance and legal protection</p> </li> </ul>"},{"location":"announcement/#powerful-search","title":"\ud83d\udd0d Powerful Search","text":"<ul> <li> <p>Optimized data structures for finding relevant documents quickly</p> </li> <li> <p>Search by tags, document types, dates, and content</p> </li> <li> <p>Filterable results with retention status indicators</p> </li> </ul>"},{"location":"announcement/#specialized-agents","title":"\ud83e\udd16 Specialized Agents","text":"<p>Six domain expert agents for complex tasks:</p> <ul> <li> <p>Records Keeper - Taxonomy design and organization</p> </li> <li> <p>Compliance Guardian - Legal retention requirements</p> </li> <li> <p>Archive Architect - Storage and retrieval strategy</p> </li> <li> <p>Deletion Auditor - Safety checkpoint for all deletions</p> </li> <li> <p>Sensitivity Scanner - Data classification and DLP</p> </li> <li> <p>Retention Monitor - Time-based compliance tracking</p> </li> </ul>"},{"location":"announcement/#extensible-architecture","title":"\ud83d\udd27 Extensible Architecture","text":"<ul> <li> <p>Create custom entity types with their own taxonomies</p> </li> <li> <p>Define country-specific retention rules</p> </li> <li> <p>Add domain-specific tags and categories</p> </li> </ul>"},{"location":"announcement/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<ol> <li> <p>Download the latest release from GitHub Releases</p> </li> <li> <p>Extract to your Packs directory:</p> </li> </ol> <pre><code>mkdir -p ~/pai/Packs\nunzip madeinoz-recordmanager-skill-*.zip -d ~/pai/Packs/\n</code></pre> <ol> <li>Open Claude Code in the pack directory:</li> </ol> <pre><code>cd ~/pai/Packs/madeinoz-recordmanager-skill\nclaude\n</code></pre> <ol> <li> <p>Tell the AI: \"Install this pack\"</p> </li> <li> <p>Start managing records:</p> </li> </ol> <pre><code>Upload this invoice and organize it properly\n</code></pre>"},{"location":"announcement/#documentation","title":"\ud83d\udcda Documentation","text":"<p>Comprehensive documentation is available at: https://madeinoz67.github.io/madeinoz-recordmanager-skill/</p> <p>Includes:</p> <ul> <li>Installation guides and tutorials</li> <li>Configuration reference</li> <li>API documentation</li> <li>Taxonomy customization guide</li> <li>Example prompts and workflows</li> </ul>"},{"location":"announcement/#safety-notice","title":"\u26a0\ufe0f Safety Notice","text":"<p>DISCLAIMER: This tool interacts with your paperless-ngx instance and can delete documents. Despite safety features including mandatory deletion confirmation workflows and Deletion Auditor agent approval requirements, you are solely responsible for backing up your data before using this tool.</p> <p>Before using this tool, you MUST:</p> <ol> <li>\u2705 Set up a dedicated PAI user with limited permissions</li> <li>\u2705 Enable paperless-ngx backup and recovery</li> <li>\u2705 Test the deletion confirmation workflow in a safe environment</li> </ol>"},{"location":"announcement/#requirements","title":"\ud83d\udee0\ufe0f Requirements","text":"<ul> <li>PAI (Personal AI Infrastructure) installed</li> <li>paperless-ngx instance with API access</li> <li>Bun runtime for TypeScript execution</li> </ul>"},{"location":"announcement/#whats-included","title":"\ud83d\udce6 What's Included","text":"Component Description Skill Definition Intent detection and workflow routing Paperless API Client Complete paperless-ngx integration Taxonomy Expert Country-specific record keeping guidelines Record Manager CLI Command-line tool for all operations Delete Confirmation Mandatory approval workflow for deletions Specialized Agents Six domain expert agents for complex tasks"},{"location":"announcement/#contributing","title":"\ud83e\udd1d Contributing","text":"<p>Contributions are welcome! Please read our contributing guidelines and submit pull requests to the main repository.</p>"},{"location":"announcement/#links","title":"\ud83d\udcd6 Links","text":"<ul> <li>GitHub Repository: madeinoz67/madeinoz-recordmanager-skill</li> <li>Documentation: https://madeinoz67.github.io/madeinoz-recordmanager-skill/</li> <li>Issue Tracker: GitHub Issues</li> <li>PAI Project: danielmiessler/PAI</li> </ul> <p>Version: 1.2.0 License: MIT Last Updated: 2026-01-20</p> <p>Transform your document management with AI-powered expertise and country-specific compliance.</p>"},{"location":"release-notes/","title":"\ud83d\udccb Records Manager Skill v1.2.0","text":"<p>Expert record keeping with paperless-ngx integration, country-specific taxonomies, and intelligent document management.</p>"},{"location":"release-notes/#what-is-records-manager-skill","title":"\u2728 What is Records Manager Skill?","text":"<p>A PAI pack that transforms your AI assistant into an expert records manager. It integrates with paperless-ngx to provide intelligent, taxonomy-driven document management for households, businesses, and projects.</p> <p>Core principle: Organize once, find forever.</p>"},{"location":"release-notes/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<pre><code># 1. Download and extract to ~/pai/Packs/\nmkdir -p ~/pai/Packs\nunzip madeinoz-recordmanager-skill-*.zip -d ~/pai/Packs/\n\n# 2. Open Claude in the pack directory\ncd ~/pai/Packs/madeinoz-recordmanager-skill\nclaude\n\n# 3. Tell the AI: \"Install this pack\"\n</code></pre> <p>The AI handles installation, configuration, and setup.</p>"},{"location":"release-notes/#key-features","title":"\u2728 Key Features","text":"<ul> <li>\ud83c\udff7\ufe0f Intelligent Organization - Automatic tagging and categorization</li> <li>\ud83c\udf0d Country-Specific Compliance - AU, US, UK retention guidelines</li> <li>\ud83d\udee1\ufe0f Safe Deletions - Mandatory confirmation workflow with Deletion Auditor</li> <li>\ud83d\udd0d Powerful Search - Find documents by tags, types, dates, content</li> <li>\ud83e\udd16 Six Specialized Agents - Records Keeper, Compliance Guardian, Archive Architect, Deletion Auditor, Sensitivity Scanner, Retention Monitor</li> <li>\ud83d\udd27 Extensible - Custom entity types and taxonomies</li> </ul>"},{"location":"release-notes/#documentation","title":"\ud83d\udcda Documentation","text":"<p>Full Documentation</p>"},{"location":"release-notes/#important-safety-notice","title":"\u26a0\ufe0f Important Safety Notice","text":"<p>This tool can delete documents. Always backup before use.</p> <p>Safety features include: - \u2705 Mandatory deletion confirmation workflow - \u2705 Deletion Auditor agent approval required - \u2705 Complete audit trail</p> <p>Before using: 1. Set up dedicated PAI user with limited permissions 2. Enable paperless-ngx backup and recovery 3. Test deletion workflow in safe environment</p>"},{"location":"release-notes/#requirements","title":"\ud83d\udce6 Requirements","text":"<ul> <li>PAI (Personal AI Infrastructure)</li> <li>paperless-ngx instance with API access</li> <li>Bun runtime</li> </ul>"},{"location":"release-notes/#links","title":"\ud83d\udd17 Links","text":"<ul> <li> <p>GitHub Repository</p> </li> <li> <p>Documentation</p> </li> <li> <p>Issues</p> </li> </ul> <p>Version: 1.2.0 | License: MIT</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>This page covers common issues and solutions when working with the Records Manager Skill and its documentation.</p>"},{"location":"troubleshooting/#documentation-issues","title":"Documentation Issues","text":""},{"location":"troubleshooting/#build-errors","title":"Build Errors","text":"<p>Problem: <code>mkdocs build</code> fails with errors</p> <p>Common causes and solutions:</p> <ol> <li> <p>Invalid Mermaid syntax <pre><code># Look for errors like:\n# ERROR: Invalid mermaid syntax\n\n# Solution: Check mermaid diagram syntax\n# Verify diagram starts with ```mermaid and ends with ```\n</code></pre></p> </li> <li> <p>Broken internal links <pre><code># Look for errors like:\n# WARNING: Documentation file 'xxx.md' not found\n\n# Solution: Update broken link in mkdocs.yml nav section\n# Verify file path is correct relative to docs/ directory\n</code></pre></p> </li> <li> <p>Missing images or assets <pre><code># Look for errors like:\n# WARNING: Image 'path/to/image.png' not found\n\n# Solution: Verify image exists in docs/assets/ or use absolute URL\n</code></pre></p> </li> </ol> <p>Clean build: <pre><code>rm -rf site/\nmkdocs build --clean\n</code></pre></p>"},{"location":"troubleshooting/#local-preview-issues","title":"Local Preview Issues","text":"<p>Problem: <code>mkdocs serve</code> won't start</p> <p>Port already in use: <pre><code># Try alternative port\nmkdocs serve -a localhost:8001\n</code></pre></p> <p>Changes not reflecting:</p> <ul> <li> <p>Hard refresh browser (Ctrl+Shift+R or Cmd+Shift+R)</p> </li> <li> <p>Check file saved in correct location (docs/ directory)</p> </li> <li> <p>Restart server</p> </li> </ul> <p>Blank pages:</p> <ul> <li> <p>Check browser console for JavaScript errors</p> </li> <li> <p>Verify Mermaid syntax is correct</p> </li> <li> <p>Try <code>mkdocs build --strict</code> to find errors</p> </li> </ul>"},{"location":"troubleshooting/#skill-installation-issues","title":"Skill Installation Issues","text":""},{"location":"troubleshooting/#paperless-ngx-connection-failed","title":"Paperless-ngx Connection Failed","text":"<p>Problem: <code>Error: Failed to connect to paperless-ngx</code></p> <p>Solutions:</p> <ol> <li> <p>Verify URL is correct <pre><code>echo $MADEINOZ_RECORDMANAGER_PAPERLESS_URL\n# Should include protocol (http:// or https://)\n</code></pre></p> </li> <li> <p>Test paperless-ngx is accessible <pre><code>curl $MADEINOZ_RECORDMANAGER_PAPERLESS_URL\n# Should return HTML response\n</code></pre></p> </li> <li> <p>Verify API token <pre><code># Test token works\ncurl -H \"Authorization: Token $MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN\" \\\n  $MADEINOZ_RECORDMANAGER_PAPERLESS_URL/api/documents/\n</code></pre></p> </li> <li> <p>Check network/firewall</p> </li> <li>Ensure paperless-ngx URL is accessible from your network</li> <li>Check if VPN is required</li> <li>Verify no firewall blocking connections</li> </ol>"},{"location":"troubleshooting/#api-token-authentication-failed","title":"API Token Authentication Failed","text":"<p>Problem: <code>Error: 401 Unauthorized</code> or <code>Error: 403 Forbidden</code></p> <p>Solutions:</p> <ol> <li>Regenerate API token in paperless-ngx:</li> <li>Go to Settings \u2192 Tokens</li> <li>Create new token with \"Read/Write\" permissions</li> <li> <p>Update environment variable</p> </li> <li> <p>Verify token permissions:</p> </li> <li>Token must have \"Read/Write\" access</li> <li> <p>\"Read only\" tokens cannot upload documents</p> </li> <li> <p>Check token format:    <pre><code># Should not have extra quotes or spaces\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-token-here\"\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#environment-variables-not-set","title":"Environment Variables Not Set","text":"<p>Problem: Commands fail with \"undefined\" errors</p> <p>Solutions:</p> <ol> <li> <p>Check if variables are set:    <pre><code>echo $MADEINOZ_RECORDMANAGER_PAPERLESS_URL\necho $MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN\necho $MADEINOZ_RECORDMANAGER_COUNTRY\necho $MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN\n</code></pre></p> </li> <li> <p>Set variables:    <pre><code># Add to ~/.zshrc or ~/.bashrc\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://your-paperless-url.com\"\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token\"\nexport MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\nexport MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n\n# Reload shell\nsource ~/.zshrc  # or source ~/.bashrc\n</code></pre></p> </li> <li> <p>Use .env file (recommended):    <pre><code># Create .env in PAI directory\ncat &gt; ~/.claude/.env &lt;&lt; EOF\nMADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://your-paperless-url.com\"\nMADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token\"\nMADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\nEOF\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#document-upload-issues","title":"Document Upload Issues","text":""},{"location":"troubleshooting/#upload-fails-with-ocr-timeout","title":"Upload Fails with OCR Timeout","text":"<p>Problem: Document uploaded but OCR processing times out</p> <p>Solutions:</p> <ol> <li>Check paperless-ngx OCR status:</li> <li>Go to paperless-ngx web UI</li> <li>Check \"Tasks\" in left menu</li> <li> <p>Verify OCR tasks are processing</p> </li> <li> <p>Wait for OCR to complete:</p> </li> <li>Large PDFs can take 30-60 seconds</li> <li>Image-heavy documents take longer</li> <li> <p>Check document in paperless-ngx UI for \"Processing\" status</p> </li> <li> <p>Reduce file size:</p> </li> <li>Scan at lower DPI (200 DPI instead of 300)</li> <li>Remove unnecessary pages</li> <li>Compress PDF before upload</li> </ol>"},{"location":"troubleshooting/#no-tags-suggested","title":"No Tags Suggested","text":"<p>Problem: Document uploaded but no tags applied</p> <p>Solutions:</p> <ol> <li>Wait for OCR completion:</li> <li>Tags are applied after OCR finishes</li> <li>Check document in paperless-ngx UI</li> <li> <p>Wait 30-60 seconds for processing</p> </li> <li> <p>Verify document has text:</p> </li> <li>OCR must extract text from document</li> <li>Image-only PDFs won't be tagged</li> <li> <p>Check if document text is selectable in paperless-ngx</p> </li> <li> <p>Check domain taxonomy:    <pre><code># Verify domain supports document type\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts info \\\n  --id &lt;document-id&gt;\n</code></pre></p> </li> <li> <p>Manual tagging:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts tag \\\n  --id &lt;document-id&gt; \\\n  --tags \"manual,tag1,tag2\"\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#search-issues","title":"Search Issues","text":""},{"location":"troubleshooting/#search-returns-no-results","title":"Search Returns No Results","text":"<p>Problem: Can't find recently uploaded documents</p> <p>Solutions:</p> <ol> <li>Wait for OCR processing:</li> <li>Search works on extracted text</li> <li>Wait 30-60 seconds after upload</li> <li> <p>Check document in paperless-ngx UI</p> </li> <li> <p>Broader search terms:    <pre><code># Try without specific tags\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"invoice\" \\\n  --domain household\n\n# Try just one tag\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --tags \"invoice\" \\\n  --domain household\n</code></pre></p> </li> <li> <p>Check document was uploaded:    <pre><code># List recent documents\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"*\" \\\n  --domain household\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#retention-issues","title":"Retention Issues","text":""},{"location":"troubleshooting/#retention-check-shows-wrong-period","title":"Retention Check Shows Wrong Period","text":"<p>Problem: Documents show incorrect retention periods</p> <p>Solutions:</p> <ol> <li> <p>Verify country setting:    <pre><code>echo $MADEINOZ_RECORDMANAGER_COUNTRY\n# Retention varies by country (AU, US, UK)\n</code></pre></p> </li> <li> <p>Check document type:</p> </li> <li>Different document types have different retention</li> <li>Tax documents: 7 years in Australia</li> <li>Medical records: 7 years for tax purposes</li> <li> <p>Insurance policies: While active + retention period</p> </li> <li> <p>Update document type:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts tag \\\n  --id &lt;document-id&gt; \\\n  --doctype \"Tax Return\" \\\n  --domain household\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#deletion-issues","title":"Deletion Issues","text":""},{"location":"troubleshooting/#deletion-blocked-by-auditor","title":"Deletion Blocked by Auditor","text":"<p>Problem: Can't delete documents even though retention expired</p> <p>This is by design - Deletion Auditor requires explicit approval.</p> <p>Solutions:</p> <ol> <li>Understand the workflow:</li> <li>Deletion Auditor is a safety feature</li> <li>Prevents accidental data loss</li> <li> <p>Requires explicit confirmation</p> </li> <li> <p>Follow the approval process:</p> </li> <li>Review what will be deleted</li> <li>Verify retention periods are truly expired</li> <li>Check documents aren't needed for audit</li> <li> <p>Type exact approval phrase when prompted</p> </li> <li> <p>If you truly need to delete:    <pre><code># The deletion workflow will prompt you\n# Read the warning carefully\n# Type: \"I understand this cannot be undone\"\n# when you're absolutely certain\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#hierarchical-taxonomy-issues","title":"Hierarchical Taxonomy Issues","text":""},{"location":"troubleshooting/#path-validation-fails","title":"Path Validation Fails","text":"<p>Problem: <code>Error: Invalid path</code> when trying to classify a document</p> <p>Example: <pre><code>\u274c Invalid path: HealthManagement/InvalidService/SomeActivity/Document\n</code></pre></p> <p>Solutions:</p> <ol> <li> <p>Use autocomplete to find valid paths:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete \\\n  --domain household \\\n  --path \"HealthManagement/\"\n</code></pre></p> </li> <li> <p>Check path structure:</p> </li> <li>Must have all 4 levels: <code>Function/Service/Activity/DocumentType</code></li> <li>Use exact names (case-sensitive)</li> <li> <p>No spaces around slashes</p> </li> <li> <p>Browse available functions:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions \\\n  --domain household\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#cant-find-the-right-document-type","title":"Can't Find the Right Document Type","text":"<p>Problem: Don't know which hierarchical path to use for a document</p> <p>Solutions:</p> <ol> <li> <p>Use keyword search:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy search \\\n  --domain household \\\n  --keywords \"medical receipt consultation\"\n</code></pre>    Returns matching paths with relevance scores.</p> </li> <li> <p>Navigate step-by-step:    <pre><code># Step 1: Get functions\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions --domain household\n\n# Step 2: Get services within a function\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy services \\\n  --domain household \\\n  --function HealthManagement\n\n# Step 3: Get activities within a service\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy activities \\\n  --domain household \\\n  --function HealthManagement \\\n  --service MedicalCare\n\n# Step 4: Get document types for an activity\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy documenttypes \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations\"\n</code></pre></p> </li> <li> <p>Use fuzzy matching:</p> </li> <li>Type partial paths: <code>health/med/cons</code> matches <code>HealthManagement/MedicalCare/Consultations</code></li> <li>Case-insensitive: <code>HEALTH</code> matches <code>HealthManagement</code></li> <li>Autocomplete suggests completions</li> </ol>"},{"location":"troubleshooting/#hierarchical-tags-not-generated","title":"Hierarchical Tags Not Generated","text":"<p>Problem: Document uploaded but no hierarchical tags applied</p> <p>Solutions:</p> <ol> <li> <p>Verify hierarchical taxonomy is enabled:    <pre><code>const expert = new TaxonomyExpert('AUS', 'household');\nconsole.log(expert.isHierarchicalAvailable());  // Should return true\n</code></pre></p> </li> <li> <p>Check path was provided during upload:    <pre><code># Upload with hierarchical path\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  /path/to/document.pdf \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre></p> </li> <li> <p>Manually generate tags for existing document:    <pre><code>const tags = expert.generateHierarchicalTags('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Apply tags to document via paperless API\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#storage-path-generation-fails","title":"Storage Path Generation Fails","text":"<p>Problem: Can't generate filesystem-safe storage path</p> <p>Solutions:</p> <ol> <li> <p>Validate path first:    <pre><code>const validation = expert.validatePath('household', 'HealthManagement/MedicalCare/Consultations/MedicalReceipt');\nif (!validation.valid) {\n  console.error(validation.reason);\n}\n</code></pre></p> </li> <li> <p>Generate storage path from validated hierarchical path:    <pre><code>const storagePath = expert.generateStoragePath('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Returns: 'Health_Management/Medical_Care/Consultations/Medical_Receipt'\n</code></pre></p> </li> <li> <p>Ensure path has all 4 levels:</p> </li> <li>Incomplete paths won't generate storage paths</li> <li>Must specify: Function/Service/Activity/DocumentType</li> </ol>"},{"location":"troubleshooting/#retention-requirements-unclear","title":"Retention Requirements Unclear","text":"<p>Problem: Don't know how long to keep a document with hierarchical path</p> <p>Solutions:</p> <ol> <li> <p>Get retention with full hierarchical context:    <pre><code>const retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations',\n  'Medical Receipt'\n);\nconsole.log(retention.legalCitation);  // Shows legal basis\nconsole.log(retention.years);  // Retention period\nconsole.log(retention.reason);  // Why it can't be deleted\n</code></pre></p> </li> <li> <p>Check country-specific retention:</p> </li> <li>Australia: 7 years for medical expenses (ATO requirement)</li> <li>United States: Varies by state and document type</li> <li> <p>United Kingdom: 6 years for tax documents (HMRC requirement)</p> </li> <li> <p>Verify retention enforcement:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#migration-from-flat-taxonomies","title":"Migration from Flat Taxonomies","text":"<p>Problem: Need to migrate existing flat-tagged documents to hierarchical structure</p> <p>Solutions:</p> <ol> <li>Follow the migration guide:</li> <li>See Migration Guide for step-by-step instructions</li> <li>Automatic mapping for 90%+ of documents</li> <li> <p>Manual review for edge cases</p> </li> <li> <p>Check migration status:    <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts migration status \\\n  --domain household\n</code></pre></p> </li> <li> <p>Use dual-mode during transition:</p> </li> <li>Hierarchical taxonomies support backward compatibility</li> <li>Flat and hierarchical can coexist during migration period</li> <li>Legacy queries still work with flat tags</li> </ol>"},{"location":"troubleshooting/#autocomplete-not-working","title":"Autocomplete Not Working","text":"<p>Problem: Autocomplete doesn't suggest paths as expected</p> <p>Solutions:</p> <ol> <li>Check input format:</li> <li>Use forward slashes: <code>HealthManagement/MedicalCare</code></li> <li>No spaces around slashes</li> <li> <p>Case-insensitive matching supported</p> </li> <li> <p>Try partial path:    <pre><code># Works with partial matches\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete \\\n  --domain household \\\n  --path \"health\"\n# Suggests: HealthManagement/...\n</code></pre></p> </li> <li> <p>Verify domain is correct:</p> </li> <li>Different domains have different taxonomies</li> <li><code>household</code> vs <code>corporate</code> vs <code>unit-trust</code></li> <li>Check domain supports the function you're searching for</li> </ol>"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":""},{"location":"troubleshooting/#still-having-issues","title":"Still Having Issues?","text":"<ol> <li>Check the documentation:</li> <li>Installation Guide</li> <li>User Guide</li> <li> <p>Configuration Guide</p> </li> <li> <p>Search existing issues:</p> </li> <li> <p>GitHub Issues</p> </li> <li> <p>Create a new issue:    Include:</p> </li> <li>Your OS and version</li> <li>paperless-ngx version</li> <li>Error message (full output)</li> <li>Steps to reproduce the problem</li> <li> <p>What you expected to happen</p> </li> <li> <p>Check paperless-ngx documentation:</p> </li> <li>paperless-ngx Docs</li> <li>Many issues are related to paperless-ngx configuration</li> </ol>"},{"location":"troubleshooting/#common-error-messages","title":"Common Error Messages","text":"Error Message Cause Solution <code>Failed to connect to paperless-ngx</code> URL incorrect or service down Verify URL, test connection <code>401 Unauthorized</code> Invalid API token Regenerate token in paperless-ngx <code>Document not found</code> Wrong document ID Search for document to find correct ID <code>No tags suggested</code> OCR not complete or no text Wait for OCR, check document has text <code>Retention period not found</code> Invalid country or document type Verify country and domain settings <code>Deletion requires approval</code> Deletion Auditor safety feature Follow approval workflow <p>Version: 1.2.0 Last Updated: 2026-01-20</p>"},{"location":"architecture/","title":"Architecture Documentation","text":""},{"location":"architecture/#overview","title":"Overview","text":"<p>This section provides comprehensive architectural documentation for the Records Manager Skill, including system design, workflow patterns, and component relationships.</p>"},{"location":"architecture/#architecture-documentation-structure","title":"Architecture Documentation Structure","text":""},{"location":"architecture/#core-architecture","title":"Core Architecture","text":"<ul> <li>System Architecture - High-level system architecture and component interactions</li> <li>Three-Layer Architecture - Detailed explanation of the Intent, Expertise, and Execution layers</li> <li>Upload Workflow - Document upload process and workflow</li> <li>Retention Lifecycle - Document lifecycle management and retention rules</li> </ul>"},{"location":"architecture/#extended-architecture","title":"Extended Architecture","text":"<ul> <li>Taxonomy Inheritance - How taxonomies are structured and extended</li> <li>Agent Collaboration - Agent workflows and handoffs</li> <li>Deletion Safety - Safe document deletion process</li> <li>Trust Document Relationships - Trust document management structure</li> </ul>"},{"location":"architecture/#key-design-principles","title":"Key Design Principles","text":"<p>The Records Manager Skill follows a three-layer architecture that ensures:</p> <ol> <li> <p>Separation of Concerns: Clear boundaries between intent recognition, domain expertise, and execution</p> </li> <li> <p>Safety-First Design: Mandatory checkpoints for destructive operations</p> </li> <li> <p>Extensibility: Modular components that can be easily extended or replaced</p> </li> <li> <p>Compliance: Built-in support for country-specific retention requirements</p> </li> <li> <p>Auditability: Complete tracking of all document operations and state changes</p> </li> </ol>"},{"location":"architecture/#mermaid-diagrams","title":"Mermaid Diagrams","text":"<p>All architecture diagrams use Mermaid syntax for easy rendering in MkDocs and GitHub Pages. Each diagram provides a visual representation of:</p> <ul> <li>Component relationships and data flow</li> <li>State transitions and lifecycle management</li> <li>Decision points and approval workflows</li> <li>Entity relationships and data structures</li> </ul>"},{"location":"architecture/#navigation","title":"Navigation","text":"<p>Use the navigation menu to explore specific architectural components, or start with the System Architecture for a comprehensive overview.</p>"},{"location":"architecture/layers/","title":"Three-Layer Architecture","text":""},{"location":"architecture/layers/#overview","title":"Overview","text":"<p>The Records Manager Skill implements a three-layer architecture that provides clear separation of concerns, ensuring safety, maintainability, and extensibility. Each layer has distinct responsibilities and well-defined interfaces between them.</p>"},{"location":"architecture/layers/#layer-architecture-diagram","title":"Layer Architecture Diagram","text":"<pre><code>graph TB\n    subgraph \"Intent Layer - User Interaction\"\n        subgraph \"Intent Detection\"\n            USER_INPUT[User Request]\n            SKILL[SKILL.md]\n            INTENT_PARSER[Intent Parser]\n        end\n\n        subgraph \"Workflow Routing\"\n            WORKFLOW_DISPATCHER[Workflow Dispatcher]\n            AGENT_SELECTOR[Agent Selector]\n        end\n\n        subgraph \"Configuration\"\n            USER_PREFERENCES[User Preferences]\n            CONTEXT_MANAGER[Context Manager]\n        end\n    end\n\n    subgraph \"Expertise Layer - Domain Knowledge\"\n        subgraph \"Classification Experts\"\n            TAX_EXPERT[TaxonomyExpert&lt;br/&gt;Country-Specific Rules]\n            SENS_EXPERT[SensitivityExpert&lt;br/&gt;Data Classification]\n        end\n\n        subgraph \"Domain Experts\"\n            TRUST_EXPERT[TrustExpert&lt;br/&gt;Trust Compliance]\n            WF_EXPERT[WorkflowExpert&lt;br/&gt;Process Automation]\n        end\n\n        subgraph \"Management Experts\"\n            ENTITY_CREATOR[EntityCreator&lt;br/&gt;Dynamic Entities]\n            RULE_ENGINE[Rule Engine&lt;br/&gt;Decision Logic]\n        end\n    end\n\n    subgraph \"Execution Layer - Operations\"\n        subgraph \"Interface Layer\"\n            CLI[RecordManager CLI]\n            API_ADAPTER[API Adapter]\n        end\n\n        subgraph \"Data Operations\"\n            PAPERLESS_CLIENT[PaperlessClient&lt;br/&gt;Safe API Wrapper]\n            DATA_HANDLER[Data Handler&lt;br/&gt;CRUD Operations]\n        end\n\n        subgraph \"Safety Layer\"\n            VALIDATOR[Validator&lt;br/&gt;Input Validation]\n            AUDITOR[Auditor&lt;br/&gt;Operation Logging]\n        end\n\n        subgraph \"Persistence\"\n            CONFIG_MGR[Config Manager&lt;br/&gt;Environment Variables]\n            CACHE_MGR[Cache Manager&lt;br/&gt;Performance]\n        end\n    end\n\n    %% Inter-layer connections\n    USER_INPUT --&gt; SKILL\n    SKILL --&gt; INTENT_PARSER\n    INTENT_PARSER --&gt; WORKFLOW_DISPATCHER\n    WORKFLOW_DISPATCHER --&gt; AGENT_SELECTOR\n\n    WORKFLOW_DISPATCHER --&gt; TAX_EXPERT\n    WORKFLOW_DISPATCHER --&gt; TRUST_EXPERT\n    WORKFLOW_DISPATCHER --&gt; WF_EXPERT\n    WORKFLOW_DISPATCHER --&gt; ENTITY_CREATOR\n    WORKFLOW_DISPATCHER --&gt; SENS_EXPERT\n\n    TAX_EXPERT --&gt; RULE_ENGINE\n    SENS_EXPERT --&gt; RULE_ENGINE\n    TRUST_EXPERT --&gt; RULE_ENGINE\n\n    TAX_EXPERT --&gt; PAPERLESS_CLIENT\n    SENS_EXPERT --&gt; PAPERLESS_CLIENT\n    TRUST_EXPERT --&gt; PAPERLESS_CLIENT\n    WF_EXPERT --&gt; PAPERLESS_CLIENT\n    ENTITY_CREATOR --&gt; PAPERLESS_CLIENT\n\n    PAPERLESS_CLIENT --&gt; VALIDATOR\n    VALIDATOR --&gt; AUDITOR\n    PAPERLESS_CLIENT --&gt; AUDITOR\n\n    CLI --&gt; API_ADAPTER\n    API_ADAPTER --&gt; PAPERLESS_CLIENT\n\n    API_ADAPTER --&gt; CONFIG_MGR\n    PAPERLESS_CLIENT --&gt; CACHE_MGR\n    VALIDATOR --&gt; CONFIG_MGR\n\n    %% Layer classifications\n    classDef intentLayer fill:#e1f5fe,stroke:#01579b,stroke-width:3px\n    classDef expertiseLayer fill:#f3e5f5,stroke:#4a148c,stroke-width:3px\n    classDef executionLayer fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px\n\n    class USER_INPUT,SKILL,INTENT_PARSER,WORKFLOW_DISPATCHER,AGENT_SELECTOR,USER_PREFERENCES,CONTEXT_MANAGER intentLayer\n    class TAX_EXPERT,SENS_EXPERT,TRUST_EXPERT,WF_EXPERT,ENTITY_CREATOR,RULE_ENGINE expertiseLayer\n    class CLI,API_ADAPTER,PAPERLESS_CLIENT,DATA_HANDLER,VALIDATOR,AUDITOR,CONFIG_MGR,CACHE_MGR executionLayer</code></pre>  Use mouse to pan and zoom"},{"location":"architecture/layers/#intent-layer","title":"Intent Layer","text":""},{"location":"architecture/layers/#purpose","title":"Purpose","text":"<p>The Intent Layer is responsible for understanding user requests and determining the appropriate expertise required to fulfill them. It acts as the primary interface between users and the system.</p>"},{"location":"architecture/layers/#components","title":"Components","text":""},{"location":"architecture/layers/#intent-detection","title":"Intent Detection","text":"<ul> <li> <p>User Input: Accepts and processes user requests via command line interface</p> </li> <li> <p>SKILL.md: Defines workflows and intent patterns for record keeping operations</p> </li> <li> <p>Intent Parser: Analyzes user input to extract intent and parameters</p> </li> </ul>"},{"location":"architecture/layers/#workflow-routing","title":"Workflow Routing","text":"<ul> <li> <p>Workflow Dispatcher: Routes requests to appropriate workflows based on intent</p> </li> <li> <p>Agent Selector: Chooses the right agent for the specific operation type</p> </li> </ul>"},{"location":"architecture/layers/#configuration-management","title":"Configuration Management","text":"<ul> <li> <p>User Preferences: Manages user-specific settings and preferences</p> </li> <li> <p>Context Manager: Maintains context across multiple operations</p> </li> </ul>"},{"location":"architecture/layers/#key-responsibilities","title":"Key Responsibilities","text":"<ul> <li> <p>Parse and understand user requests</p> </li> <li> <p>Route to appropriate domain experts</p> </li> <li> <p>Maintain user context and preferences</p> </li> <li> <p>Provide feedback and error messages</p> </li> <li> <p>Ensure safe operation boundaries</p> </li> </ul>"},{"location":"architecture/layers/#interface-to-expertise-layer","title":"Interface to Expertise Layer","text":"<p>The Intent Layer communicates with the Expertise Layer through well-defined interfaces:</p> <ul> <li> <p>Request classification parameters</p> </li> <li> <p>Domain-specific context</p> </li> <li> <p>User preferences and constraints</p> </li> <li> <p>Operation type and parameters</p> </li> </ul>"},{"location":"architecture/layers/#expertise-layer","title":"Expertise Layer","text":""},{"location":"architecture/layers/#purpose_1","title":"Purpose","text":"<p>The Expertise Layer contains domain-specific knowledge and logic that provides intelligent processing of documents and compliance requirements. It ensures the system has deep understanding of record keeping domains.</p>"},{"location":"architecture/layers/#components_1","title":"Components","text":""},{"location":"architecture/layers/#classification-experts","title":"Classification Experts","text":"<ul> <li> <p>TaxonomyExpert: Implements country-specific document taxonomies and retention rules</p> </li> <li> <p>SensitivityExpert: Classifies document sensitivity and applies appropriate handling</p> </li> </ul>"},{"location":"architecture/layers/#domain-experts","title":"Domain Experts","text":"<ul> <li> <p>TrustExpert: Manages trust-specific compliance, ATO requirements, and document relationships</p> </li> <li> <p>WorkflowExpert: Recommends and automates workflows based on document patterns</p> </li> </ul>"},{"location":"architecture/layers/#management-experts","title":"Management Experts","text":"<ul> <li> <p>EntityCreator: Creates and manages dynamic entities (households, trusts, projects)</p> </li> <li> <p>Rule Engine: Applies business rules and decision logic</p> </li> </ul>"},{"location":"architecture/layers/#key-responsibilities_1","title":"Key Responsibilities","text":"<ul> <li> <p>Apply domain-specific knowledge to document processing</p> </li> <li> <p>Ensure compliance with legal and regulatory requirements</p> </li> <li> <p>Provide intelligent classification and tagging</p> </li> <li> <p>Recommend appropriate workflows</p> </li> <li> <p>Manage entity-specific rules and configurations</p> </li> </ul>"},{"location":"architecture/layers/#inter-layer-communication","title":"Inter-Layer Communication","text":"<ul> <li> <p>Receives: Intent parameters, user context, document metadata</p> </li> <li> <p>Processes: Applies domain expertise, makes classifications, determines actions</p> </li> <li> <p>Returns: Processed documents, recommendations, compliance status</p> </li> </ul>"},{"location":"architecture/layers/#interface-to-execution-layer","title":"Interface to Execution Layer","text":"<p>The Expertise Layer provides structured requirements to the Execution Layer:</p> <ul> <li> <p>Document processing instructions</p> </li> <li> <p>Classification and tagging requirements</p> </li> <li> <p>API operation specifications</p> </li> <li> <p>Safety and validation rules</p> </li> </ul>"},{"location":"architecture/layers/#execution-layer","title":"Execution Layer","text":""},{"location":"architecture/layers/#purpose_2","title":"Purpose","text":"<p>The Execution Layer handles the actual operations and interactions with external systems. It ensures all operations are performed safely and efficiently while maintaining audit trails.</p>"},{"location":"architecture/layers/#components_2","title":"Components","text":""},{"location":"architecture/layers/#interface-layer","title":"Interface Layer","text":"<ul> <li> <p>RecordManager CLI: Command-line interface for all user operations</p> </li> <li> <p>API Adapter: Converts high-level requests to API calls</p> </li> </ul>"},{"location":"architecture/layers/#data-operations","title":"Data Operations","text":"<ul> <li> <p>PaperlessClient: Safe API wrapper for paperless-ngx (intentionally no delete methods)</p> </li> <li> <p>Data Handler: Manages CRUD operations and data transformations</p> </li> </ul>"},{"location":"architecture/layers/#safety-layer","title":"Safety Layer","text":"<ul> <li> <p>Validator: Validates all inputs and operations before execution</p> </li> <li> <p>Auditor: Logs all operations for audit and compliance tracking</p> </li> </ul>"},{"location":"architecture/layers/#persistence-layer","title":"Persistence Layer","text":"<ul> <li> <p>Config Manager: Manages environment variable configuration</p> </li> <li> <p>Cache Manager: Optimizes performance through caching</p> </li> </ul>"},{"location":"architecture/layers/#key-responsibilities_2","title":"Key Responsibilities","text":"<ul> <li> <p>Execute document operations safely</p> </li> <li> <p>Maintain audit trails for all operations</p> </li> <li> <p>Validate inputs and prevent unsafe operations</p> </li> <li> <p>Manage configuration and environment</p> </li> <li> <p>Provide performance optimization</p> </li> </ul>"},{"location":"architecture/layers/#safety-design-features","title":"Safety Design Features","text":"<ul> <li> <p>No Delete Operations: PaperlessClient intentionally omits delete methods</p> </li> <li> <p>Mandatory Validation: All operations pass through validation layer</p> </li> <li> <p>Comprehensive Auditing: Complete operation logging</p> </li> <li> <p>Configuration Validation: Safe handling of environment variables</p> </li> </ul>"},{"location":"architecture/layers/#inter-layer-communication_1","title":"Inter-Layer Communication","text":""},{"location":"architecture/layers/#intent-expertise","title":"Intent \u2192 Expertise","text":"<ul> <li>Direction: Intent Layer \u2192 Expertise Layer</li> <li>Data: User requests, intent parameters, context</li> <li>Flow: Request classification \u2192 Expertise selection \u2192 Requirements generation</li> </ul>"},{"location":"architecture/layers/#expertise-execution","title":"Expertise \u2192 Execution","text":"<ul> <li>Direction: Expertise Layer \u2192 Execution Layer</li> <li>Data: Processing requirements, API specifications, safety rules</li> <li>Flow: Expertise application \u2192 Operation generation \u2192 Safe execution</li> </ul>"},{"location":"architecture/layers/#execution-intent-feedback","title":"Execution \u2192 Intent (Feedback)","text":"<ul> <li>Direction: Execution Layer \u2192 Intent Layer</li> <li>Data: Operation results, status updates, errors</li> <li>Flow: Execution completion \u2192 Status reporting \u2192 User feedback</li> </ul>"},{"location":"architecture/layers/#benefits-of-three-layer-architecture","title":"Benefits of Three-Layer Architecture","text":""},{"location":"architecture/layers/#1-separation-of-concerns","title":"1. Separation of Concerns","text":"<ul> <li> <p>Clear boundaries between different types of responsibilities</p> </li> <li> <p>Easier to understand, maintain, and test individual components</p> </li> <li> <p>Reduced coupling between different aspects of the system</p> </li> </ul>"},{"location":"architecture/layers/#2-safety-and-security","title":"2. Safety and Security","text":"<ul> <li> <p>Multiple validation layers prevent unsafe operations</p> </li> <li> <p>Audit trails provide complete operation tracking</p> </li> <li> <p>Separation prevents accidental data loss</p> </li> </ul>"},{"location":"architecture/layers/#3-extensibility","title":"3. Extensibility","text":"<ul> <li> <p>New expertise can be added without affecting other layers</p> </li> <li> <p>Easy to swap out or extend individual components</p> </li> <li> <p>Clear interfaces allow for multiple implementations</p> </li> </ul>"},{"location":"architecture/layers/#4-maintainability","title":"4. Maintainability","text":"<ul> <li> <p>Components can be tested and modified independently</p> </li> <li> <p>Changes are localized to specific layers</p> </li> <li> <p>Clear documentation of responsibilities and interfaces</p> </li> </ul>"},{"location":"architecture/layers/#5-compliance","title":"5. Compliance","text":"<ul> <li> <p>Domain experts ensure compliance requirements are met</p> </li> <li> <p>Auditing provides evidence of compliance</p> </li> <li> <p>Configuration management supports regulatory requirements</p> </li> </ul>"},{"location":"architecture/layers/#example-flow","title":"Example Flow","text":""},{"location":"architecture/layers/#document-upload-process","title":"Document Upload Process","text":"<ol> <li> <p>Intent Layer: User uploads document \u2192 SKILL.md detects upload intent</p> </li> <li> <p>Expertise Layer: TaxonomyExpert classifies \u2192 TrustExpert checks compliance \u2192 SensitivityExpert assesses</p> </li> <li> <p>Execution Layer: PaperlessClient uploads \u2192 Validator checks \u2192 Auditor logs</p> </li> </ol>"},{"location":"architecture/layers/#document-search-process","title":"Document Search Process","text":"<ol> <li> <p>Intent Layer: User searches \u2192 SKILL.md parses query \u2192 Identifies search type</p> </li> <li> <p>Expertise Layer: TaxonomyExpert refines query \u2192 Recommends search strategies</p> </li> <li> <p>Execution Layer: PaperlessClient searches \u2192 Returns results \u2192 Formats for display</p> </li> </ol> <p>This three-layer architecture ensures the Records Manager Skill remains safe, extensible, and maintainable while providing powerful document management capabilities.</p>"},{"location":"architecture/overview/","title":"System Architecture","text":""},{"location":"architecture/overview/#overview","title":"Overview","text":"<p>The Records Manager Skill follows a three-layer architecture that ensures clear separation of concerns, safety, and extensibility. This diagram shows the high-level system architecture and how components interact within and between layers.</p>"},{"location":"architecture/overview/#system-architecture-diagram","title":"System Architecture Diagram","text":"<pre><code>flowchart TB\n    %% Force top-to-bottom ordering\n    linkStyle default stroke-width:2px,fill:none,stroke:#333\n\n    subgraph Intent[\"Intent Layer\"]\n        SKILL[\"SKILL.md&lt;br/&gt;Intent Detection\"]\n        TAX[\"TaxonomyExpert&lt;br/&gt;Country Rules\"]\n        TRUST[\"TrustExpert&lt;br/&gt;Compliance\"]\n        WF[\"WorkflowExpert&lt;br/&gt;Automation\"]\n        ENTITY[\"EntityCreator&lt;br/&gt;Dynamic Entities\"]\n        SENS[\"SensitivityExpert&lt;br/&gt;Data Classification\"]\n\n        SKILL --&gt; TAX\n        SKILL --&gt; TRUST\n        SKILL --&gt; WF\n        SKILL --&gt; ENTITY\n        SKILL --&gt; SENS\n    end\n\n    subgraph Expertise[\"Expertise Layer\"]\n        direction LR\n        CLIENT[\"PaperlessClient&lt;br/&gt;API Integration\"]\n\n        TAX --&gt; CLIENT\n        TRUST --&gt; CLIENT\n        WF --&gt; CLIENT\n        ENTITY --&gt; CLIENT\n        SENS --&gt; CLIENT\n    end\n\n    subgraph Execution[\"Execution Layer\"]\n        MGR[\"RecordManager CLI&lt;br/&gt;Command Tool\"]\n        API[\"PaperlessClient&lt;br/&gt;Full API\"]\n        NGX[\"paperless-ngx&lt;br/&gt;Document Storage\"]\n        ENV[\"Environment&lt;br/&gt;Configuration\"]\n\n        MGR --&gt; API\n        API --&gt; NGX\n        MGR --&gt; ENV\n    end\n\n    subgraph Safety[\"Safety Features\"]\n        DW[\"DeleteConfirmation&lt;br/&gt;Workflow\"]\n        DA[\"Deletion Auditor&lt;br/&gt;Mandatory Check\"]\n\n        DW --&gt; DA\n        DA --&gt; API\n    end\n\n    %% Layer flow (top to bottom)\n    Intent --&gt; Expertise\n    Expertise --&gt; Execution\n\n    %% Style definitions with better text handling\n    classDef intentStyle fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#000\n    classDef expertiseStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:3px,color:#000\n    classDef executionStyle fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px,color:#000\n    classDef safetyStyle fill:#ffebee,stroke:#b71c1c,stroke-width:3px,color:#000\n\n    class SKILL,TAX,TRUST,WF,ENTITY,SENS intentStyle\n    class CLIENT expertiseStyle\n    class MGR,API,NGX,ENV executionStyle\n    class DW,DA safetyStyle</code></pre>  Use mouse to pan and zoom"},{"location":"architecture/overview/#key-components","title":"Key Components","text":""},{"location":"architecture/overview/#intent-layer-skillmd","title":"Intent Layer (<code>SKILL.md</code>)","text":"<ul> <li> <p>Primary Function: Detects user intent and routes to appropriate expertise</p> </li> <li> <p>Components:</p> </li> <li>TaxonomyExpert for document classification</li> <li>TrustExpert for trust-specific compliance</li> <li>WorkflowExpert for automation recommendations</li> <li>EntityCreator for dynamic entity management</li> <li>SensitivityExpert for data classification</li> </ul>"},{"location":"architecture/overview/#expertise-layer","title":"Expertise Layer","text":"<ul> <li> <p>Primary Function: Provides domain-specific knowledge and processing</p> </li> <li> <p>Components:</p> </li> <li>TaxonomyExpert: Country-specific retention rules and classification</li> <li>TrustExpert: Trust document management and ATO compliance</li> <li>WorkflowExpert: Automated workflow recommendations</li> <li>EntityCreator: Dynamic entity creation and management</li> <li>SensitivityExpert: Document sensitivity classification</li> </ul>"},{"location":"architecture/overview/#execution-layer","title":"Execution Layer","text":"<ul> <li> <p>Primary Function: Executes operations and manages API interactions</p> </li> <li> <p>Components:</p> </li> <li>RecordManager CLI: Main command-line interface</li> <li>PaperlessClient: Full paperless-ngx API wrapper (safe - no delete methods)</li> <li>Environment Variables: Configuration management</li> </ul>"},{"location":"architecture/overview/#safety-features","title":"Safety Features","text":"<ul> <li> <p>Primary Function: Ensures safe operation and prevents data loss</p> </li> <li> <p>Components:</p> </li> <li>DeleteConfirmation Workflow: Mandatory approval for all deletions</li> <li>Deletion Auditor: Safety checkpoint before any destructive operations</li> </ul>"},{"location":"architecture/overview/#external-systems","title":"External Systems","text":"<ul> <li> <p>paperless-ngx: Document management system backend</p> </li> <li> <p>Environment Variables: Configuration with <code>MADEINOZ_RECORDMANAGER_</code> prefix</p> </li> </ul>"},{"location":"architecture/overview/#data-flow","title":"Data Flow","text":"<ol> <li> <p>Intent Detection: User request \u2192 SKILL.md analyzes and determines required expertise</p> </li> <li> <p>Expertise Application: Appropriate experts process the request with domain knowledge</p> </li> <li> <p>Execution: RecordManager CLI calls PaperlessClient for API operations</p> </li> <li> <p>Safety Check: All deletions flow through DeleteConfirmation workflow</p> </li> <li> <p>External Integration: PaperlessClient interfaces with paperless-ngx</p> </li> </ol>"},{"location":"architecture/overview/#safety-design","title":"Safety Design","text":"<p>The architecture includes multiple safety layers:</p> <ul> <li> <p>No Delete Methods: PaperlessClient intentionally omits delete operations</p> </li> <li> <p>Mandatory Workflows: All deletions require explicit user confirmation</p> </li> <li> <p>Audit Trail: Complete tracking of all operations</p> </li> <li> <p>Configuration Validation: Environment variable validation before operations</p> </li> </ul>"},{"location":"architecture/overview/#extensibility-points","title":"Extensibility Points","text":"<p>The modular design allows for easy extension:</p> <ul> <li> <p>New Expert Types: Add new expertise components without affecting existing layers</p> </li> <li> <p>Custom Workflows: Extend workflow system with new automation patterns</p> </li> <li> <p>Entity Types: Support additional entity types beyond household/corporate/trust</p> </li> <li> <p>External Integrations: Interface with other document management systems</p> </li> </ul>"},{"location":"architecture/overview/#configuration","title":"Configuration","text":"<p>All configuration uses environment variables with <code>MADEINOZ_RECORDMANAGER_</code> prefix: - <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> - paperless-ngx instance URL - <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code> - API token - <code>MADEINOZ_RECORDMANAGER_RECORDS_COUNTRY</code> - Country for compliance rules - <code>MADEINOZ_RECORDMANAGER_RECORDS_DEFAULT_DOMAIN</code> - Default domain</p> <p>This architecture ensures the system remains safe, extensible, and maintainable while providing powerful document management capabilities.</p>"},{"location":"architecture/retention-lifecycle/","title":"Retention Lifecycle","text":""},{"location":"architecture/retention-lifecycle/#overview","title":"Overview","text":"<p>Document lifecycle management is a critical aspect of records management. The Records Manager Skill implements a comprehensive state-based lifecycle that ensures documents are properly managed according to retention policies, compliance requirements, and business needs.</p>"},{"location":"architecture/retention-lifecycle/#retention-lifecycle-state-diagram","title":"Retention Lifecycle State Diagram","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Active: Document Upload/Creation\n\n    Active --&gt; Archive Ready: Retention period approaching\n    Active --&gt; Archived: Immediate archival (optional)\n    Active --&gt; Modified: Document update\n    Active --&gt; Superseded: New version created\n\n    Archive Ready --&gt; Archived: Retention period reached\n    Archive Ready --&gt; Active: Retention period extended\n    Archive Ready --&gt; Modified: Document updated\n\n    Archived --&gt; Delete Eligible: Retention period expired\n    Archived --&gt; Extended: Retention period extended\n    Archived --&gt; Modified: Document updated\n\n    Delete Eligible --&gt; Deleted: Approved deletion\n    Delete Eligible --&gt; Extended: Retention period extended\n    Delete Eligible --&gt; Modified: Document updated\n\n    Modified --&gt; Active: Update complete\n    Modified --&gt; Archive Ready: Updated document nearing retention\n    Modified --&gt; Archived: Updated document archived immediately\n\n    Superseded --&gt; Active: Superseding document created\n    Superseded --&gt; Modified: Superseded document updated\n\n    Deleted --&gt; [*]: Final deletion complete\n\n    Extended --&gt; Active: Retention period extended\n    Extended --&gt; Archive Ready: Extended document approaching retention\n    Extended --&gt; Archived: Extended document archived\n    Extended --&gt; Delete Eligible: Extended period expired\n\n    %% State styling with better spacing\n    classDef activeState fill:#c8e6c9,stroke:#1b5e20,stroke-width:3px,color:#000\n    classDef warningState fill:#fff9c4,stroke:#f57f17,stroke-width:3px,color:#000\n    classDef archivedState fill:#bbdefb,stroke:#0d47a1,stroke-width:3px,color:#000\n    classDef dangerState fill:#ffcdd2,stroke:#c62828,stroke-width:3px,color:#000\n    classDef modifiedState fill:#e1bee7,stroke:#4a148c,stroke-width:3px,color:#000\n\n    class Active activeState\n    class Archive Ready,Superseded warningState\n    class Archived,Extended archivedState\n    class Delete Eligible dangerState\n    class Modified modifiedState</code></pre>  Use mouse to pan and zoom"},{"location":"architecture/retention-lifecycle/#state-descriptions","title":"State Descriptions","text":""},{"location":"architecture/retention-lifecycle/#active-state","title":"Active State","text":"<ul> <li>Description: Document is currently in active use and regularly referenced</li> <li>Characteristics:</li> <li>Full searchability and accessibility</li> <li>Regular access patterns</li> <li>Current retention period applies</li> <li>Subject to normal workflows</li> </ul> <p>Transitions From: *   Initial creation/upload *   Document update (Modified \u2192 Active) *   Retention extension (Extended \u2192 Active)</p> <p>Transitions To: *   Archive Ready: When retention period is approaching *   Archived: For immediate archival (optional) *   Modified: When document is updated *   Superseded: When a new version is created</p>"},{"location":"architecture/retention-lifecycle/#archive-ready-state","title":"Archive Ready State","text":"<ul> <li>Description: Document is approaching its retention expiration date</li> <li>Characteristics:</li> <li>May have restricted access</li> <li>Automatic notifications sent</li> <li>Ready for archival process</li> <li>Final review opportunity</li> </ul> <p>Transitions From: *   Active state (retention approaching) *   Archived state (retention extended)</p> <p>Transitions To: *   Archived: When retention period is reached *   Active: If retention period is extended *   Modified: If document is updated</p>"},{"location":"architecture/retention-lifecycle/#archived-state","title":"Archived State","text":"<ul> <li>Description: Document has been archived but not yet eligible for deletion</li> <li>Characteristics:</li> <li>Reduced accessibility (searchable but may require special access)</li> <li>Long-term storage</li> <li>Compliance maintained</li> <li>Audit trail preserved</li> </ul> <p>Transitions From: *   Active (immediate archival) *   Archive Ready (retention reached) *   Modified (updated document archived)</p> <p>Transitions To: *   Delete Eligible: When retention period expires *   Extended: If retention period is extended *   Modified: If document is updated</p>"},{"location":"architecture/retention-lifecycle/#delete-eligible-state","title":"Delete Eligible State","text":"<ul> <li>Description: Document has reached the end of its retention period and is eligible for deletion</li> <li>Characteristics:</li> <li>Subject to deletion review process</li> <li>May be subject to legal hold</li> <li>Requires explicit approval for deletion</li> <li>Audit trail required</li> </ul> <p>Transitions From: *   Archived (retention expired)</p> <p>Transitions To: *   Deleted: When deletion is approved *   Extended: If retention period is extended *   Modified: If document is updated</p>"},{"location":"architecture/retention-lifecycle/#modified-state","title":"Modified State","text":"<ul> <li>Description: Document is being updated or has been updated</li> <li>Characteristics:</li> <li>Update in progress</li> <li>May have version control</li> <li>Retention period may be recalculated</li> <li>Audit trail of changes</li> </ul> <p>Transitions From: *   Active, Archive Ready, Archived, Delete Eligible (document updates)</p> <p>Transitions To: *   Active: When update is complete *   Archive Ready: If updated document is nearing retention *   Archived: If updated document is archived immediately</p>"},{"location":"architecture/retention-lifecycle/#superseded-state","title":"Superseded State","text":"<ul> <li>Description: Document has been replaced by a newer version</li> <li>Characteristics:</li> <li>Historic version</li> <li>May be kept for reference</li> <li>Subject to retention rules</li> <li>Version relationship maintained</li> </ul> <p>Transitions From: *   Active (new version created)</p> <p>Transitions To: *   Active: When superseding document is created *   Modified: When superseded document is updated</p>"},{"location":"architecture/retention-lifecycle/#extended-state","title":"Extended State","text":"<ul> <li>Description: Document retention period has been extended</li> <li>Characteristics:</li> <li>New retention period applied</li> <li>Compliance documentation required</li> <li>Audit trail of extension</li> <li>Business justification needed</li> </ul> <p>Transitions From: *   Archived, Delete Eligible (retention extended)</p> <p>Transitions To: *   Active: Extended period starts fresh *   Archive Ready: Document approaching new retention *   Archived: Extended document archived *   Delete Eligible: Extended period expired</p>"},{"location":"architecture/retention-lifecycle/#deleted-state","title":"Deleted State","text":"<ul> <li>Description: Document has been permanently deleted</li> <li>Characteristics:</li> <li>No longer accessible</li> <li>Deletion audit trail complete</li> <li>Compliance requirements met</li> <li>Final state</li> </ul> <p>Transitions From: *   Delete Eligible (deletion approved)</p> <p>Transitions To: *   [*] (end of lifecycle)</p>"},{"location":"architecture/retention-lifecycle/#transition-triggers","title":"Transition Triggers","text":""},{"location":"architecture/retention-lifecycle/#automatic-triggers","title":"Automatic Triggers","text":"<ul> <li> <p>Time-based: Retention period expiration</p> </li> <li> <p>System Events: Document upload, modification, version creation</p> </li> <li> <p>Workflow Events: Automated archival processes</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#manual-triggers","title":"Manual Triggers","text":"<ul> <li> <p>User Actions: Document updates, archival requests</p> </li> <li> <p>Administrative Actions: Retention period extensions, deletion approvals</p> </li> <li> <p>Business Events: New version creation, supersession</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#conditional-triggers","title":"Conditional Triggers","text":"<ul> <li> <p>Compliance Events: Legal holds, audit requirements</p> </li> <li> <p>Business Rules: Departmental policies, project completion</p> </li> <li> <p>System Conditions: Storage optimization, cleanup processes</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#retention-policies","title":"Retention Policies","text":""},{"location":"architecture/retention-lifecycle/#country-specific-rules","title":"Country-Specific Rules","text":"<ul> <li> <p>Australia: ATO requirements, FTE document retention, Privacy Act compliance</p> </li> <li> <p>United States: IRS rules, state-specific requirements, federal regulations</p> </li> <li> <p>United Kingdom: HMRC guidelines, GDPR compliance, document retention schedules</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#entity-specific-rules","title":"Entity-Specific Rules","text":"<ul> <li> <p>Household: Personal document retention, tax document rules</p> </li> <li> <p>Corporate: Business records, financial compliance, audit requirements</p> </li> <li> <p>Trust: Trust deed permanence, FTE documents, distribution records</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#document-type-rules","title":"Document Type Rules","text":"<ul> <li> <p>Financial: Tax documents, invoices, bank statements (7-10 years)</p> </li> <li> <p>Legal: Contracts, agreements, court documents (10-25 years)</p> </li> <li> <p>Personal: Identification, certificates, personal records (varies)</p> </li> <li> <p>Trust: Trust deeds (permanent), FTE documents (5+ years from FTE)</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#compliance-features","title":"Compliance Features","text":""},{"location":"architecture/retention-lifecycle/#audit-trail","title":"Audit Trail","text":"<ul> <li> <p>State Transitions: Complete logging of all state changes</p> </li> <li> <p>Retention Tracking: Documentation of retention periods and extensions</p> </li> <li> <p>Deletion Records: Comprehensive deletion process documentation</p> </li> <li> <p>Access Logs: Tracking of document access and modifications</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#legal-hold","title":"Legal Hold","text":"<ul> <li> <p>Immediate Suspension: Prevents deletion during legal proceedings</p> </li> <li> <p>Status Tracking: Visual indicators for documents under legal hold</p> </li> <li> <p>Release Process: Formal process for removing legal hold</p> </li> <li> <p>Notification: Alerts for legal hold status changes</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#compliance-reporting","title":"Compliance Reporting","text":"<ul> <li> <p>Retention Reports: Documents by retention status and expiration</p> </li> <li> <p>Deletion Reports: Records of all deletion actions and approvals</p> </li> <li> <p>Audit Reports: Complete lifecycle audit trails</p> </li> <li> <p>Regulatory Reports: Country and entity-specific compliance documentation</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#configuration","title":"Configuration","text":""},{"location":"architecture/retention-lifecycle/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_COUNTRY</code>: Country for retention rules</li> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_DEFAULT_DOMAIN</code>: Default entity domain</li> <li><code>MADEINOZ_RECORDMANAGER_RETENTION_WARNINGS</code>: Warning period before expiration</li> </ul>"},{"location":"architecture/retention-lifecycle/#customization-options","title":"Customization Options","text":"<ul> <li> <p>Override Retention: Manual retention period setting</p> </li> <li> <p>Extension Requests: Business process for retention extensions</p> </li> <li> <p>Delegation: Authority levels for different actions</p> </li> <li> <p>Notifications: Configurable alerts and reminders</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#integration-points","title":"Integration Points","text":"<ul> <li> <p>paperless-ngx: Document storage and retrieval</p> </li> <li> <p>Workflow System: Automated lifecycle management</p> </li> <li> <p>Audit System: Compliance tracking and reporting</p> </li> <li> <p>Notification System: Alerts and reminders</p> </li> </ul>"},{"location":"architecture/retention-lifecycle/#best-practices","title":"Best Practices","text":""},{"location":"architecture/retention-lifecycle/#lifecycle-management","title":"Lifecycle Management","text":"<ol> <li> <p>Early Classification: Classify documents at upload for accurate retention</p> </li> <li> <p>Regular Review: Periodic review of retention policies and documents</p> </li> <li> <p>Automation: Use automated workflows for routine lifecycle transitions</p> </li> <li> <p>Documentation: Maintain complete audit trails for all lifecycle changes</p> </li> </ol>"},{"location":"architecture/retention-lifecycle/#retention-period-management","title":"Retention Period Management","text":"<ol> <li> <p>Standard Policies: Implement standard retention policies by document type</p> </li> <li> <p>Business Justification: Require justification for retention period extensions</p> </li> <li> <p>Legal Consultation: Consult legal counsel for retention period decisions</p> </li> <li> <p>Regular Updates: Review and update retention policies regularly</p> </li> </ol>"},{"location":"architecture/retention-lifecycle/#compliance-considerations","title":"Compliance Considerations","text":"<ol> <li> <p>Regulatory Requirements: Stay current with applicable regulations</p> </li> <li> <p>Industry Standards: Follow industry-specific record keeping standards</p> </li> <li> <p>Internal Policies: Ensure alignment with internal policies and procedures</p> </li> <li> <p>International Operations: Consider cross-border document requirements</p> </li> </ol> <p>The retention lifecycle ensures that documents are managed throughout their entire lifecycle, from creation through deletion, while maintaining compliance with legal, regulatory, and business requirements.</p>"},{"location":"architecture/upload-workflow/","title":"Upload Workflow","text":""},{"location":"architecture/upload-workflow/#overview","title":"Overview","text":"<p>The document upload workflow demonstrates how the Records Manager Skill processes documents through the three-layer architecture. This sequence diagram shows the flow from user request to document storage in paperless-ngx.</p>"},{"location":"architecture/upload-workflow/#upload-workflow-sequence-diagram","title":"Upload Workflow Sequence Diagram","text":"<pre><code>sequenceDiagram\n    participant User as User\n    participant CLI as RecordManager CLI\n    participant Skill as SKILL.md\n    participant Taxonomy as TaxonomyExpert\n    participant Trust as TrustExpert\n    participant Sensitivity as SensitivityExpert\n    participant Entity as EntityCreator\n    participant Workflow as WorkflowExpert\n    participant Client as PaperlessClient\n    participant API as paperless-ngx API\n\n    User-&gt;&gt;+CLI: upload &lt;file&gt; --domain &lt;entity&gt;\n    CLI-&gt;&gt;CLI: Parse arguments and validate\n\n    CLI-&gt;&gt;+Skill: Process upload request\n    Skill-&gt;&gt;Skill: Detect document type from filename/content\n\n    Skill-&gt;&gt;+Taxonomy: Classify document\n    Taxonomy-&gt;&gt;Taxonomy: Apply country taxonomy rules\n    Taxonomy--&gt;&gt;-Skill: Return classification (type, tags)\n\n    Skill-&gt;&gt;+Trust: Check trust compliance (if applicable)\n    Trust-&gt;&gt;Trust: Validate FTE dates, deed requirements\n    Trust--&gt;&gt;-Skill: Return compliance status\n\n    Skill-&gt;&gt;+Sensitivity: Assess document sensitivity\n    Sensitivity-&gt;&gt;Sensitivity: Apply sensitivity rules\n    Sensitivity--&gt;&gt;-Skill: Return sensitivity level\n\n    Skill-&gt;&gt;+Entity: Verify entity configuration\n    Entity-&gt;&gt;Entity: Check entity existence\n    Entity--&gt;&gt;-Skill: Return entity status\n\n    Skill-&gt;&gt;+Workflow: Recommend workflow\n    Workflow-&gt;&gt;Workflow: Determine automated processing\n    Workflow--&gt;&gt;-Skill: Return workflow suggestions\n\n    Skill-&gt;&gt;-CLI: Return processing plan\n\n    CLI-&gt;&gt;+Client: Upload document\n    Client-&gt;&gt;Client: Prepare API request\n    Client-&gt;&gt;+API: POST /api/documents/\n    API--&gt;&gt;-Client: Return document ID\n\n    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/tags/\n    Note over API,Client: Apply classification tags\n    API--&gt;&gt;-Client: Tags applied\n\n    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/correspondents/\n    Note over API,Client: Set entity correspondent\n    API--&gt;&gt;-Client: Correspondent set\n\n    Client-&gt;&gt;+API: POST /api/documents/&lt;doc_id&gt;/document_types/\n    Note over API,Client: Set document type\n    API--&gt;&gt;-Client: Type set\n\n    Client--&gt;&gt;-CLI: Upload complete\n    CLI--&gt;&gt;-User: Document uploaded successfully\n\n    %% Alternative paths\n    alt Trust document detected\n        Skill-&gt;&gt;+Trust: Validate trust relationship\n        Trust-&gt;&gt;Trust: Check FTE date rules\n        Trust--&gt;&gt;-Skill: FTE validation results\n    end\n\n    alt High sensitivity detected\n        Skill-&gt;&gt;+Sensitivity: Apply enhanced security\n        Sensitivity-&gt;&gt;Sensitivity: Flag for review\n        Sensitivity--&gt;&gt;-Skill: Security requirements\n    end\n\n    alt Automated workflow triggered\n        Skill-&gt;&gt;+Workflow: Execute workflow\n        Workflow-&gt;&gt;Workflow: Process document\n        Workflow--&gt;&gt;-Skill: Workflow complete\n    end</code></pre>  Use mouse to pan and zoom"},{"location":"architecture/upload-workflow/#processing-steps","title":"Processing Steps","text":""},{"location":"architecture/upload-workflow/#1-initial-request-processing","title":"1. Initial Request Processing","text":"<ul> <li>User Command: <code>upload document.pdf --domain household</code></li> <li>CLI Parsing: Extract filename, entity type, and options</li> <li>Validation: Check file existence and entity validity</li> </ul>"},{"location":"architecture/upload-workflow/#2-intent-detection","title":"2. Intent Detection","text":"<ul> <li>SKILL.md: Analyzes user request to determine intent</li> <li>Document Classification: Examines filename and content hints</li> <li>Intent Confirmation: Confirms this is an upload operation</li> </ul>"},{"location":"architecture/upload-workflow/#3-taxonomy-classification","title":"3. Taxonomy Classification","text":"<ul> <li>TaxonomyExpert: Applies country-specific classification rules</li> <li>Document Type: Determines primary document type (invoice, receipt, etc.)</li> <li>Tags Generation: Creates appropriate tags based on taxonomy</li> <li>Retention Rules: Sets initial retention period</li> </ul>"},{"location":"architecture/upload-workflow/#4-trust-compliance-check","title":"4. Trust Compliance Check","text":"<ul> <li>TrustExpert: Validates if document relates to trust entities</li> <li>FTE Validation: Checks Family Trust Election compliance</li> <li>Deed Requirements: Validates trust deed documents</li> <li>Distribution Rules: Applies trust-specific retention rules</li> </ul>"},{"location":"architecture/upload-workflow/#5-sensitivity-assessment","title":"5. Sensitivity Assessment","text":"<ul> <li>SensitivityExpert: Evaluates document sensitivity</li> <li>Data Classification: Applies GDPR, Privacy Act, or local regulations</li> <li>Security Requirements: Determines handling restrictions</li> <li>Access Control: Sets appropriate access permissions</li> </ul>"},{"location":"architecture/upload-workflow/#6-entity-management","title":"6. Entity Management","text":"<ul> <li>EntityCreator: Verifies entity configuration</li> <li>Correspondent Assignment: Links document to entity</li> <li>Domain Validation: Ensures entity exists and is valid</li> <li>Hierarchy Management: Handles nested entity relationships</li> </ul>"},{"location":"architecture/upload-workflow/#7-workflow-recommendation","title":"7. Workflow Recommendation","text":"<ul> <li>WorkflowExpert: Suggests automated processing</li> <li>OCR Processing: Recommends OCR for scanned documents</li> <li>Automation: Identifies potential workflow triggers</li> <li>Review Requirements: Flags documents needing manual review</li> </ul>"},{"location":"architecture/upload-workflow/#8-document-upload","title":"8. Document Upload","text":"<ul> <li>PaperlessClient: Constructs API request</li> <li>File Upload: Sends document to paperless-ngx</li> <li>Metadata Application: Applies tags, types, correspondents</li> <li>Response Handling: Processes API response</li> </ul>"},{"location":"architecture/upload-workflow/#9-post-processing","title":"9. Post-Processing","text":"<ul> <li>Confirmation: Provides success message to user</li> <li>Logging: Records upload in audit trail</li> <li>Notification: Triggers follow-up workflows if needed</li> <li>Cleanup: Removes temporary files</li> </ul>"},{"location":"architecture/upload-workflow/#key-interactions","title":"Key Interactions","text":""},{"location":"architecture/upload-workflow/#classification-flow","title":"Classification Flow","text":"<pre><code>User Request \u2192 SKILL.md \u2192 TaxonomyExpert \u2192 Classification Result\n</code></pre>"},{"location":"architecture/upload-workflow/#trust-compliance-flow","title":"Trust Compliance Flow","text":"<pre><code>Trust Document \u2192 TrustExpert \u2192 FTE Validation \u2192 Compliance Status\n</code></pre>"},{"location":"architecture/upload-workflow/#sensitivity-flow","title":"Sensitivity Flow","text":"<pre><code>Document Content \u2192 SensitivityExpert \u2192 Security Level \u2192 Handling Rules\n</code></pre>"},{"location":"architecture/upload-workflow/#entity-management-flow","title":"Entity Management Flow","text":"<pre><code>Entity Specification \u2192 EntityCreator \u2192 Verification \u2192 Assignment\n</code></pre>"},{"location":"architecture/upload-workflow/#error-handling","title":"Error Handling","text":""},{"location":"architecture/upload-workflow/#common-upload-errors","title":"Common Upload Errors","text":"<ol> <li> <p>Invalid Entity: System validates entity exists before processing</p> </li> <li> <p>File Errors: CLI validates file accessibility and format</p> </li> <li> <p>API Failures: PaperlessClient handles paperless-ngx errors</p> </li> <li> <p>Classification Issues: Fallback to manual classification</p> </li> </ol>"},{"location":"architecture/upload-workflow/#recovery-mechanisms","title":"Recovery Mechanisms","text":"<ul> <li> <p>Retry Logic: Automatic retry for transient failures</p> </li> <li> <p>Rollback: Partial uploads are cleaned up</p> </li> <li> <p>Error Reporting: Detailed error messages with suggestions</p> </li> <li> <p>Logging: Complete audit trail for troubleshooting</p> </li> </ul>"},{"location":"architecture/upload-workflow/#performance-considerations","title":"Performance Considerations","text":""},{"location":"architecture/upload-workflow/#optimization-techniques","title":"Optimization Techniques","text":"<ul> <li> <p>Parallel Processing: Multiple experts can work simultaneously</p> </li> <li> <p>Caching: Classification results cached for similar documents</p> </li> <li> <p>Batch Operations: Multiple tags applied in single API call</p> </li> <li> <p>Stream Processing: Large files streamed without loading entirely</p> </li> </ul>"},{"location":"architecture/upload-workflow/#scalability-features","title":"Scalability Features","text":"<ul> <li> <p>Horizontal Scaling: Multiple instances can handle uploads</p> </li> <li> <p>Load Balancing: Distributed processing across experts</p> </li> <li> <p>Queue Management: Backpressure handling during peak loads</p> </li> <li> <p>Resource Management: Memory-efficient processing</p> </li> </ul>"},{"location":"architecture/upload-workflow/#security-features","title":"Security Features","text":""},{"location":"architecture/upload-workflow/#upload-security","title":"Upload Security","text":"<ul> <li> <p>File Validation: Malware scanning and format checking</p> </li> <li> <p>Permission Checks: User authorization for entity access</p> </li> <li> <p>Content Scanning: Sensitive data detection</p> </li> <li> <p>Audit Logging: Complete operation tracking</p> </li> </ul>"},{"location":"architecture/upload-workflow/#data-protection","title":"Data Protection","text":"<ul> <li> <p>Encryption: Optional encryption for sensitive documents</p> </li> <li> <p>Access Control: Role-based access management</p> </li> <li> <p>Retention Policies: Automated compliance enforcement</p> </li> <li> <p>Privacy Protection: GDPR and privacy act compliance</p> </li> </ul>"},{"location":"architecture/upload-workflow/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"architecture/upload-workflow/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code>: paperless-ngx instance URL</li> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code>: API authentication token</li> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_COUNTRY</code>: Country for taxonomy rules</li> <li><code>MADEINOZ_RECORDMANAGER_RECORDS_DEFAULT_DOMAIN</code>: Default entity domain</li> </ul>"},{"location":"architecture/upload-workflow/#upload-options","title":"Upload Options","text":"<ul> <li><code>--domain</code>: Entity for document assignment</li> <li><code>--tags</code>: Additional tags to apply</li> <li><code>--correspondent</code>: Override correspondent assignment</li> <li><code>--type</code>: Override document type</li> <li><code>--workflow</code>: Specific workflow to trigger</li> </ul> <p>This upload workflow demonstrates how the three-layer architecture ensures safe, compliant, and efficient document processing while maintaining complete auditability and user control.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>This section covers all configuration options for the Records Manager Skill, including environment variables, paperless-ngx setup, and country-specific compliance settings.</p>"},{"location":"configuration/#overview","title":"Overview","text":"<p>The Records Manager Skill requires configuration to connect to your paperless-ngx instance and apply the correct record keeping guidelines for your jurisdiction. Configuration is done through environment variables with the <code>MADEINOZ_RECORDMANAGER_</code> prefix.</p>"},{"location":"configuration/#quick-start","title":"Quick Start","text":"<ol> <li>Copy the environment template to your PAI directory:</li> </ol> <pre><code>cp src/config/.env.example $PAI_DIR/.env\n</code></pre> <ol> <li>Edit the configuration with your paperless-ngx details:</li> </ol> <pre><code>nano $PAI_DIR/.env\n</code></pre> <ol> <li>Verify the connection:</li> </ol> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre>"},{"location":"configuration/#configuration-files","title":"Configuration Files","text":"File Purpose <code>.env</code> Primary configuration file (in your PAI directory) <code>src/config/.env.example</code> Template with all available variables <code>src/skills/RecordsManager/Lib/TaxonomyExpert.ts</code> Country-specific taxonomies and retention rules"},{"location":"configuration/#configuration-sections","title":"Configuration Sections","text":"<ul> <li>Environment Variables - Complete reference of all configuration variables</li> <li>paperless-ngx Setup - Guide to configuring paperless-ngx integration</li> <li>Country Selection - Choosing and configuring country-specific compliance</li> </ul>"},{"location":"configuration/#validation","title":"Validation","text":"<p>After configuration, verify your setup:</p> <pre><code># Check connection status\nbun run src/skills/RecordsManager/Tools/RecordManager.ts status\n\n# Expected output:\n# Connected to paperless-ngx at https://your-instance.com\n# Country: Australia\n# Default Domain: household\n# Supported Domains: household, corporate, projects, unit-trust, discretionary-trust, family-trust\n</code></pre>"},{"location":"configuration/#troubleshooting","title":"Troubleshooting","text":""},{"location":"configuration/#connection-issues","title":"Connection Issues","text":"<p>If the status check fails:</p> <ol> <li> <p>Verify your paperless-ngx URL is accessible</p> </li> <li> <p>Confirm the API token has Read/Write permissions</p> </li> <li> <p>Check for SSL certificate issues (use <code>http://</code> for local testing)</p> </li> </ol>"},{"location":"configuration/#country-not-supported","title":"Country Not Supported","text":"<p>If you see \"Country X not supported\":</p> <pre><code># Check available countries\nbun -e \"import('./src/skills/RecordsManager/Lib/TaxonomyExpert.ts').then(m =&gt; console.log(m.TaxonomyExpert.getSupportedCountries()))\"\n</code></pre>"},{"location":"configuration/#invalid-domain","title":"Invalid Domain","text":"<p>Valid domains are: <code>household</code>, <code>corporate</code>, <code>projects</code>, <code>unit-trust</code>, <code>discretionary-trust</code>, <code>family-trust</code>.</p>"},{"location":"configuration/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Configure environment variables</p> </li> <li> <p>Set up paperless-ngx</p> </li> <li> <p>Choose your country</p> </li> </ul>"},{"location":"configuration/country-selection/","title":"Country Selection","text":"<p>The Records Manager Skill provides country-specific record keeping guidelines for compliance with local regulations. This guide covers selecting and configuring your country.</p>"},{"location":"configuration/country-selection/#supported-countries","title":"Supported Countries","text":"Country Code Authority Status Australia <code>Australia</code> ATO (Australian Taxation Office) Full support United States <code>UnitedStates</code> IRS (Internal Revenue Service) Full support United Kingdom <code>UnitedKingdom</code> HMRC (HM Revenue &amp; Customs) Full support"},{"location":"configuration/country-selection/#configuration","title":"Configuration","text":"<p>Set your country in <code>$PAI_DIR/.env</code>:</p> <pre><code>MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\n</code></pre> <p>If not specified, the default is <code>Australia</code>.</p>"},{"location":"configuration/country-selection/#country-guidelines","title":"Country Guidelines","text":""},{"location":"configuration/country-selection/#australia","title":"Australia","text":"<p>Authority: Australian Taxation Office (ATO)</p> <p>Key Regulations: *   Tax Administration Act 1953, Section 254 *   Family Trust Election (Section 272-80 ITAA 1936) *   Corporations Act 2001</p> <p>Standard Retention Periods:</p> Document Type Retention Legal Basis Tax Returns 7 years ATO Section 254 Tax Assessments 7 years ATO requirement Medical Receipts 7 years Tax deduction substantiation Bank Statements 5 years Income/deduction evidence Investment Statements 7 years Capital gains tax calculation Insurance Policies 10 years Claims period + expired policies Contracts 10 years Statute of limitations Legal Documents 15+ years Permanent records (wills, POA) Warrant Until expires Consumer guarantees <p>Trust-Specific Retention:</p> Document Retention Special Notes Trust Deed 15+ years Permanent - foundational document Family Trust Election (FTE) 5 years From FTE date, not EOFY Distribution Minutes 7 years ATO Section 100A compliance Trustee Resolutions 7 years Governance evidence <p>Supported Domains:</p> <ul> <li> <p><code>household</code> - Personal records with comprehensive coverage</p> </li> <li> <p><code>corporate</code> - Business records, Fair Work Act compliance</p> </li> <li> <p><code>unit-trust</code> - Unit trust structures</p> </li> <li> <p><code>discretionary-trust</code> - Family trusts with discretionary distributions</p> </li> <li> <p><code>family-trust</code> - Family trusts with FTE (including interpositionary and loss trust elections)</p> </li> </ul> <p>Special Considerations:</p> <ul> <li> <p>Family Trust Election (FTE): Critical document - 5-year retention from FTE date, NOT end of financial year. Affects entire trust structure.</p> </li> <li> <p>Trust Deeds: Should be kept permanently - never discard</p> </li> <li> <p>Superannuation: 7-year retention for contribution and balance records</p> </li> <li> <p>Pets: 10-year retention for veterinary records, lifetime for microchip/ownership documents</p> </li> </ul>"},{"location":"configuration/country-selection/#united-states","title":"United States","text":"<p>Authority: IRS (Internal Revenue Service)</p> <p>Key Regulations: *   IRS Revenue Procedure 97-58 *   IRS Publication 552</p> <p>Standard Retention Periods:</p> Document Type Retention Legal Basis Tax Returns 7 years IRS recommendation (3 minimum, 7 for safety) Tax Documents 7 years IRS supporting documentation Medical Records 10 years Long-term health history Insurance Policies 10 years Until expired + claims period Receipts 7 years Tax deductions, proof of purchase Bank Statements 7 years IRS income verification Investment Statements 7 years IRS capital gains reporting Contracts 10 years State statute of limitations Legal Documents 15+ years Estate planning documents <p>Supported Domains:</p> <ul> <li><code>household</code> - Personal records</li> </ul> <p>Special Considerations:</p> <ul> <li> <p>IRS minimum is 3 years for most documents, but 7 years is recommended</p> </li> <li> <p>Keep records indefinitely if you filed a fraudulent return</p> </li> <li> <p>Keep employment tax records for 4 years</p> </li> </ul>"},{"location":"configuration/country-selection/#united-kingdom","title":"United Kingdom","text":"<p>Authority: HMRC (HM Revenue &amp; Customs)</p> <p>Key Regulations: *   Self Assessment requirements *   Financial Conduct Authority (FCA) guidance</p> <p>Standard Retention Periods:</p> Document Type Retention Legal Basis Tax Returns 7 years HMRC self-assessment SA302 7 years HMRC mortgage verification P60 7 years HMRC tax year summary P11D 7 years HMRC benefits documentation Medical Records 10 years NHS and personal health Insurance Policies 10 years FCA guidance Utility Bills 2 years Proof of address Receipts 7 years Consumer Rights Act Bank Statements 7 years HMRC income verification <p>Supported Domains:</p> <ul> <li><code>household</code> - Personal records</li> </ul> <p>Special Considerations:</p> <ul> <li> <p>Self-employed: Keep records for at least 5 years after the 31 January submission deadline</p> </li> <li> <p>Company directors: Records for 6 years from end of accounting period</p> </li> <li> <p>VAT: 6 years (or 10 years for errors)</p> </li> </ul>"},{"location":"configuration/country-selection/#choosing-your-country","title":"Choosing Your Country","text":"<p>Consider these factors when selecting your country:</p> <ol> <li> <p>Tax residency - Where do you file tax returns?</p> </li> <li> <p>Legal jurisdiction - Which country's laws apply to your records?</p> </li> <li> <p>Document source - Where were the documents issued?</p> </li> <li> <p>Entity location - Where is your business or trust registered?</p> </li> </ol> <p>For complex situations (e.g., expatriates, cross-border entities), consult a tax professional.</p>"},{"location":"configuration/country-selection/#domain-selection","title":"Domain Selection","text":"<p>Each country supports specific domains based on local record keeping practices:</p>"},{"location":"configuration/country-selection/#australia-all-domains","title":"Australia - All Domains","text":"<pre><code>MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"  # or corporate, projects, unit-trust, discretionary-trust, family-trust\n</code></pre>"},{"location":"configuration/country-selection/#united-states-household-only","title":"United States - Household Only","text":"<pre><code>MADEINOZ_RECORDMANAGER_COUNTRY=\"UnitedStates\"\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n</code></pre>"},{"location":"configuration/country-selection/#united-kingdom-household-only","title":"United Kingdom - Household Only","text":"<pre><code>MADEINOZ_RECORDMANAGER_COUNTRY=\"UnitedKingdom\"\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n</code></pre>"},{"location":"configuration/country-selection/#unsupported-countries","title":"Unsupported Countries","text":"<p>If your country is not supported, the system will fall back to <code>Australia</code> with a warning. For unsupported countries, consider:</p> <ol> <li> <p>Use Australia as base - Retention periods are generally conservative and safe</p> </li> <li> <p>Customize retention - Use override variables for specific document types</p> </li> <li> <p>Consult local authorities - Verify retention requirements for your jurisdiction</p> </li> </ol>"},{"location":"configuration/country-selection/#customizing-retention-periods","title":"Customizing Retention Periods","text":"<p>Override default retention periods for your specific situation:</p> <pre><code># Keep tax records for 10 years instead of default\nMADEINOZ_RECORDMANAGER_RETENTION_TAX_YEARS=\"10\"\n\n# Extended medical record retention\nMADEINOZ_RECORDMANAGER_RETENTION_MEDICAL_YEARS=\"15\"\n\n# Longer insurance policy retention\nMADEINOZ_RECORDMANAGER_RETENTION_INSURANCE_YEARS=\"15\"\n</code></pre>"},{"location":"configuration/country-selection/#verification","title":"Verification","text":"<p>Verify your country and domain configuration:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Output includes: <pre><code>Country: Australia\nDefault Domain: household\nSupported Domains: household, corporate, projects, unit-trust, discretionary-trust, family-trust\n</code></pre></p>"},{"location":"configuration/country-selection/#compliance-disclaimer","title":"Compliance Disclaimer","text":"<p>The Records Manager Skill provides guidance based on publicly available record keeping requirements. However:</p> <ul> <li> <p>This is not legal advice - Consult a qualified professional for your specific situation</p> </li> <li> <p>Regulations change - Stay informed about updates to record keeping requirements</p> </li> <li> <p>Special circumstances - Complex entities, cross-border situations, and specific industries may have different requirements</p> </li> <li> <p>Professional verification - Have your record keeping practices reviewed by a qualified accountant or lawyer</p> </li> </ul>"},{"location":"configuration/country-selection/#next-steps","title":"Next Steps","text":"<ul> <li>Configure environment variables</li> <li>Set up paperless-ngx</li> <li>Learn about retention policies</li> </ul>"},{"location":"configuration/environment/","title":"Environment Variables","text":"<p>The Records Manager Skill uses environment variables with the <code>MADEINOZ_RECORDMANAGER_</code> prefix for all configuration. These should be set in your PAI directory's <code>.env</code> file.</p>"},{"location":"configuration/environment/#required-variables","title":"Required Variables","text":"Variable Required Default Description <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> Yes None URL of your paperless-ngx instance (include <code>https://</code> or <code>http://</code>) <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code> Yes None API token from paperless-ngx (generate in Settings \u2192 Tokens)"},{"location":"configuration/environment/#optional-variables","title":"Optional Variables","text":"Variable Required Default Description <code>MADEINOZ_RECORDMANAGER_COUNTRY</code> No <code>Australia</code> Your country for compliance rules (see Country Selection) <code>MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code> No <code>household</code> Primary use case: <code>household</code>, <code>corporate</code>, <code>projects</code>, or a trust type <code>MADEINOZ_RECORDMANAGER_TAXONOMY_PATH</code> No Built-in Custom taxonomy directory path <code>MADEINOZ_RECORDMANAGER_RETENTION_TAX_YEARS</code> No Country default Override tax document retention period <code>MADEINOZ_RECORDMANAGER_RETENTION_MEDICAL_YEARS</code> No Country default Override medical record retention period <code>MADEINOZ_RECORDMANAGER_RETENTION_INSURANCE_YEARS</code> No Country default Override insurance policy retention period"},{"location":"configuration/environment/#configuration-file","title":"Configuration File","text":"<p>Place your configuration in <code>$PAI_DIR/.env</code>:</p> <pre><code># =============================================================================\n# Paperless-ngx Configuration\n# =============================================================================\n\n# Your paperless-ngx instance URL\n# Include the protocol (https:// or http://)\nMADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\n\n# API token from paperless-ngx\n# Generate in: Settings \u2192 Tokens \u2192 Create new token\n# Required permissions: Read/Write\nMADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token-here\"\n\n# =============================================================================\n# Records Manager Settings\n# =============================================================================\n\n# Your country for record keeping compliance\n# Supported: Australia, UnitedStates, UnitedKingdom\n# Default: Australia\nMADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\n\n# Your primary use case\n# Options: household, corporate, projects, unit-trust, discretionary-trust, family-trust\n# Default: household\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n\n# =============================================================================\n# Optional Configuration\n# =============================================================================\n\n# Custom retention periods (overrides defaults)\n# MADEINOZ_RECORDMANAGER_RETENTION_TAX_YEARS=\"7\"\n# MADEINOZ_RECORDMANAGER_RETENTION_MEDICAL_YEARS=\"7\"\n# MADEINOZ_RECORDMANAGER_RETENTION_INSURANCE_YEARS=\"10\"\n\n# Custom taxonomy path (if you want custom taxonomies)\n# MADEINOZ_RECORDMANAGER_TAXONOMY_PATH=\"$PAI_DIR/skills/RecordsManager/Taxonomies/\"\n</code></pre>"},{"location":"configuration/environment/#variable-details","title":"Variable Details","text":""},{"location":"configuration/environment/#madeinoz_recordmanager_paperless_url","title":"MADEINOZ_RECORDMANAGER_PAPERLESS_URL","text":"<p>The full URL to your paperless-ngx instance.</p> <p>Examples:</p> <ul> <li> <p><code>https://paperless.example.com</code> (remote instance with SSL)</p> </li> <li> <p><code>http://localhost:8000</code> (local development instance)</p> </li> </ul> <p>Important: Always include the protocol (<code>https://</code> or <code>http://</code>).</p>"},{"location":"configuration/environment/#madeinoz_recordmanager_paperless_api_token","title":"MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN","text":"<p>API token for authenticating with paperless-ngx.</p> <p>To generate:</p> <ol> <li> <p>Log in to paperless-ngx</p> </li> <li> <p>Go to Settings \u2192 Tokens</p> </li> <li> <p>Click Create new token</p> </li> <li> <p>Give it a descriptive name (e.g., \"Records Manager\")</p> </li> <li> <p>Ensure Read/Write permissions are enabled</p> </li> <li> <p>Copy the token and paste it into your <code>.env</code> file</p> </li> </ol>"},{"location":"configuration/environment/#madeinoz_recordmanager_country","title":"MADEINOZ_RECORDMANAGER_COUNTRY","text":"<p>Determines which country's record keeping guidelines to apply.</p> <p>Supported values: | Value | Description | |-------|-------------| | <code>Australia</code> | Australian Taxation Office (ATO) guidelines | | <code>UnitedStates</code> | IRS recommendations | | <code>UnitedKingdom</code> | HMRC requirements |</p> <p>See Country Selection for detailed information about each country's guidelines.</p>"},{"location":"configuration/environment/#madeinoz_recordmanager_default_domain","title":"MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN","text":"<p>Your primary record keeping use case. This affects which taxonomy suggestions and document types are available.</p> <p>Valid values: | Domain | Description | |--------|-------------| | <code>household</code> | Personal records, taxes, medical, insurance, warranties | | <code>corporate</code> | Business invoices, contracts, payroll, compliance | | <code>projects</code> | Project plans, deliverables, communications | | <code>unit-trust</code> | Unit trust deeds, distributions, unitholder records | | <code>discretionary-trust</code> | Family trust with discretionary distributions | | <code>family-trust</code> | Family trust with Family Trust Election (FTE) |</p>"},{"location":"configuration/environment/#madeinoz_recordmanager_taxonomy_path","title":"MADEINOZ_RECORDMANAGER_TAXONOMY_PATH","text":"<p>Optional path to custom taxonomy files. If not specified, built-in taxonomies are used.</p> <p>Example: <pre><code>MADEINOZ_RECORDMANAGER_TAXONOMY_PATH=\"$PAI_DIR/skills/RecordsManager/Taxonomies/\"\n</code></pre></p>"},{"location":"configuration/environment/#retention-override-variables","title":"Retention Override Variables","text":"<p>Override default retention periods for specific document categories.</p> <p>Available overrides:</p> <ul> <li> <p><code>MADEINOZ_RECORDMANAGER_RETENTION_TAX_YEARS</code> - Tax documents</p> </li> <li> <p><code>MADEINOZ_RECORDMANAGER_RETENTION_MEDICAL_YEARS</code> - Medical records</p> </li> <li> <p><code>MADEINOZ_RECORDMANAGER_RETENTION_INSURANCE_YEARS</code> - Insurance policies</p> </li> </ul> <p>Example: <pre><code># Keep tax records for 10 years instead of default 7\nMADEINOZ_RECORDMANAGER_RETENTION_TAX_YEARS=\"10\"\n</code></pre></p>"},{"location":"configuration/environment/#validation","title":"Validation","text":"<p>After setting your environment variables, verify the configuration:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Expected output: <pre><code>Records Manager Status\n======================\n\nPaperless-ngx: Connected (https://your-instance.com)\nCountry: Australia\nDefault Domain: household\n\nAvailable Commands:\n\n*   upload: Add documents with intelligent tagging\n\n*   search: Find documents by tag, type, or content\n\n*   retention: Check retention requirements\n\n*   status: Verify connection and configuration\n</code></pre></p>"},{"location":"configuration/environment/#troubleshooting","title":"Troubleshooting","text":""},{"location":"configuration/environment/#variable-not-recognized","title":"Variable Not Recognized","text":"<p>If a variable isn't being read:</p> <ol> <li> <p>Ensure the <code>.env</code> file is in your PAI directory (<code>$PAI_DIR/.env</code>)</p> </li> <li> <p>Verify the variable name matches exactly (case-sensitive)</p> </li> <li> <p>Restart your shell or run <code>source ~/.zshrc</code></p> </li> </ol>"},{"location":"configuration/environment/#connection-failed","title":"Connection Failed","text":"<p>If connection to paperless-ngx fails:</p> <ol> <li> <p>Verify <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> includes the protocol</p> </li> <li> <p>Test the URL in your browser</p> </li> <li> <p>Confirm the API token is valid and has Read/Write permissions</p> </li> <li> <p>Check for firewall or SSL certificate issues</p> </li> </ol>"},{"location":"configuration/environment/#country-fallback","title":"Country Fallback","text":"<p>If you specify an unsupported country, the system will fall back to <code>Australia</code> and log a warning. Check the supported countries list.</p>"},{"location":"configuration/paperless-setup/","title":"paperless-ngx Setup Guide","text":"<p>This guide covers configuring paperless-ngx to work with the Records Manager Skill, including API token generation and best practices.</p>"},{"location":"configuration/paperless-setup/#what-is-paperless-ngx","title":"What is paperless-ngx?","text":"<p>paperless-ngx is an open-source document management system that provides:</p> <ul> <li> <p>OCR (Optical Character Recognition) for searchable documents</p> </li> <li> <p>Tagging and categorization</p> </li> <li> <p>Document type management</p> </li> <li> <p>REST API for automation</p> </li> </ul> <p>The Records Manager Skill uses paperless-ngx as its storage engine, providing intelligent organization on top of paperless-ngx's robust foundation.</p>"},{"location":"configuration/paperless-setup/#installation","title":"Installation","text":"<p>If you don't have paperless-ngx installed, follow the official installation guide.</p> <p>Recommended deployment methods:</p> <ul> <li> <p>Docker Compose - Easiest for self-hosting</p> </li> <li> <p>Kubernetes - For production environments</p> </li> <li> <p>Cloud hosting - Various providers offer pre-configured paperless-ngx</p> </li> </ul>"},{"location":"configuration/paperless-setup/#pai-user-security-best-practices","title":"PAI User Security Best Practices","text":"<p>Tip</p> <p>Security First: Create a Dedicated PAI User</p> <p>For enhanced security, create a dedicated user in paperless-ngx for the Records Manager Skill with limited permissions. This provides isolation and auditability.</p>"},{"location":"configuration/paperless-setup/#step-1-create-a-dedicated-pai-user","title":"Step 1: Create a Dedicated PAI User","text":"<p>Why create a dedicated user?</p> <ul> <li> <p>Isolation: Separates automated operations from human activities</p> </li> <li> <p>Auditability: Clear tracking of AI-assisted document management</p> </li> <li> <p>Safety: Can restrict permissions to prevent accidental bulk deletions</p> </li> <li> <p>Compliance: Easier to demonstrate proper access controls</p> </li> </ul> <p>Steps to create the PAI user:</p> <ol> <li> <p>Log in to paperless-ngx as administrator</p> </li> <li> <p>Navigate to Settings \u2192 Users</p> </li> <li> <p>Create new user:</p> </li> <li> <p>Username: <code>pai-records-manager</code> (or descriptive name)</p> </li> <li> <p>Email: <code>pai@yourdomain.com</code> (or monitoring email)</p> </li> <li> <p>Password: Generate strong random password</p> </li> <li> <p>Groups: Assign to appropriate groups (see below)</p> </li> <li> <p>Set user permissions:</p> </li> <li> <p>Can add documents: \u2705 Enable</p> </li> <li> <p>Can change document tags: \u2705 Enable</p> </li> <li> <p>Can view documents: \u2705 Enable</p> </li> <li> <p>Can delete documents: \u274c DISABLE (critical safety feature)</p> </li> <li> <p>Create API token for this user:</p> </li> <li> <p>Log in as the PAI user</p> </li> <li> <p>Navigate to Settings \u2192 Tokens</p> </li> <li> <p>Create token with Read/Write permissions</p> </li> <li> <p>Copy token for Records Manager configuration</p> </li> </ol>"},{"location":"configuration/paperless-setup/#step-2-configure-group-based-entity-access","title":"Step 2: Configure Group-Based Entity Access","text":"<p>For multi-entity deployments (household + corporate + trusts), use groups to isolate document access:</p> <p>Create groups:</p> <ol> <li> <p>Navigate to Settings \u2192 Groups</p> </li> <li> <p>Create groups for each entity:</p> </li> <li> <p><code>household-access</code></p> </li> <li> <p><code>corporate-access</code></p> </li> <li> <p><code>trust-access</code></p> </li> </ol> <p>Assign PAI user to groups:</p> <ul> <li> <p>Assign the PAI user to all groups it needs to manage</p> </li> <li> <p>Each group can have different permissions per entity</p> </li> </ul> <p>Configure entity-level access:</p> <pre><code># Example group permissions in paperless-ngx\nhousehold-access:\n*   Can view: household documents\n*   Can tag: household documents\n*   Cannot delete: any documents\n\ncorporate-access:\n*   Can view: corporate documents\n*   Can tag: corporate documents\n*   Cannot delete: any documents\n</code></pre>"},{"location":"configuration/paperless-setup/#step-3-verify-security-configuration","title":"Step 3: Verify Security Configuration","text":"<p>Test the PAI user setup:</p> <ol> <li>Test read access:</li> </ol> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"*\" \\\n  --domain household\n</code></pre> <ol> <li>Test write access:</li> </ol> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file test.pdf \\\n  --domain household\n</code></pre> <ol> <li>Verify deletion is blocked:</li> </ol> <pre><code># This should require Deletion Auditor approval\nbun run src/skills/RecordsManager/Tools/RecordManager.ts delete \\\n  --id &lt;test-document-id&gt;\n</code></pre> <p>Expected outcome:</p> <ul> <li> <p>\u2705 Read operations work</p> </li> <li> <p>\u2705 Upload and tagging work</p> </li> <li> <p>\u274c Direct deletion is blocked (requires Deletion Auditor workflow)</p> </li> </ul>"},{"location":"configuration/paperless-setup/#step-4-monitor-pai-user-activity","title":"Step 4: Monitor PAI User Activity","text":"<p>Regular monitoring tasks:</p> <ol> <li> <p>Review access logs in paperless-ngx:</p> </li> <li> <p>Settings \u2192 Logs \u2192 User Activity</p> </li> <li> <p>Filter by PAI user</p> </li> <li> <p>Check for unusual activity</p> </li> <li> <p>Audit document changes:</p> </li> <li> <p>Review tags added by PAI user</p> </li> <li> <p>Verify document uploads are expected</p> </li> <li> <p>Check for failed deletion attempts</p> </li> <li> <p>Set up alerts (if available):</p> </li> <li> <p>Alert on bulk operations (e.g., &gt;10 documents in 5 minutes)</p> </li> <li> <p>Alert on deletion attempts</p> </li> <li> <p>Alert on failed authentication</p> </li> </ol>"},{"location":"configuration/paperless-setup/#security-checklist","title":"Security Checklist","text":"<ul> <li> <p> Created dedicated PAI user in paperless-ngx</p> </li> <li> <p> Disabled direct deletion permissions for PAI user</p> </li> <li> <p> Assigned PAI user to appropriate groups</p> </li> <li> <p> Created API token for PAI user (not admin token)</p> </li> <li> <p> Verified PAI user can upload and tag documents</p> </li> <li> <p> Verified PAI user cannot directly delete documents</p> </li> <li> <p> Set up monitoring for PAI user activity</p> </li> <li> <p> Documented PAI user credentials in secure location</p> </li> <li> <p> Scheduled periodic permission reviews (quarterly)</p> </li> </ul> <p>Warning</p> <p>IMPORTANT: The PAI user should NOT have delete permissions in paperless-ngx. All deletions must go through the Deletion Auditor workflow, which provides explicit confirmation and audit logging.</p>"},{"location":"configuration/paperless-setup/#configuration-for-records-manager","title":"Configuration for Records Manager","text":""},{"location":"configuration/paperless-setup/#1-generate-api-token","title":"1. Generate API Token","text":"<p>The Records Manager Skill requires an API token with Read/Write permissions.</p> <p>Steps:</p> <ol> <li> <p>Log in to your paperless-ngx instance</p> </li> <li> <p>Navigate to Settings \u2192 Tokens</p> </li> <li> <p>Click + New Token</p> </li> <li> <p>Configure the token:</p> </li> <li> <p>Name: <code>Records Manager</code> (or descriptive name)</p> </li> <li> <p>Permissions: Enable both Read and Write</p> </li> <li> <p>Expiry: Optional (recommended: no expiry for automated use)</p> </li> <li> <p>Click Create</p> </li> <li> <p>Copy the token immediately - it won't be shown again</p> </li> </ol> <p>![Token creation screenshot placeholder]</p>"},{"location":"configuration/paperless-setup/#2-configure-environment-variables","title":"2. Configure Environment Variables","text":"<p>Add the paperless-ngx configuration to your <code>$PAI_DIR/.env</code> file:</p> <pre><code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\nMADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-copied-token-here\"\n</code></pre> <p>Important security notes:</p> <ul> <li> <p>Use <code>https://</code> for remote instances (required for secure token transmission)</p> </li> <li> <p>Keep the API token secret - treat it like a password</p> </li> <li> <p>Never commit <code>.env</code> files to version control</p> </li> </ul>"},{"location":"configuration/paperless-setup/#3-verify-connection","title":"3. Verify Connection","text":"<p>Test the connection using the status command:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Success output: <pre><code>Records Manager Status\n======================\n\nPaperless-ngx: Connected (https://paperless.example.com)\nAPI Version: v1\nCountry: Australia\nDefault Domain: household\n</code></pre></p> <p>Error output: Check the troubleshooting section below.</p>"},{"location":"configuration/paperless-setup/#recommended-paperless-ngx-settings","title":"Recommended paperless-ngx Settings","text":""},{"location":"configuration/paperless-setup/#document-types","title":"Document Types","text":"<p>Create document types that align with your domain. For households:</p> Document Type Description Tax Return Annual tax returns and assessments Medical Receipt Healthcare expenses Insurance Policy Insurance documents Warranty Document Product warranties Bank Statement Monthly statements Receipt General receipts"},{"location":"configuration/paperless-setup/#tags-structure","title":"Tags Structure","text":"<p>Establish a consistent tag hierarchy:</p> <pre><code>financial/\n  \u251c\u2500\u2500 tax\n  \u251c\u2500\u2500 income\n  \u2514\u2500\u2500 expense\nmedical/\n  \u251c\u2500\u2500 doctor\n  \u251c\u2500\u2500 hospital\n  \u2514\u2500\u2500 pharmacy\ninsurance/\n  \u251c\u2500\u2500 home\n  \u251c\u2500\u2500 contents\n  \u2514\u2500\u2500 vehicle\n</code></pre> <p>The Records Manager Skill will suggest tags automatically based on your country and domain configuration.</p>"},{"location":"configuration/paperless-setup/#ocr-configuration","title":"OCR Configuration","text":"<p>Ensure OCR is enabled for optimal search:</p> <ol> <li> <p>Go to Settings \u2192 OCR</p> </li> <li> <p>Enable Automatic OCR for new documents</p> </li> <li> <p>Set OCR Language to your primary language</p> </li> <li> <p>Configure OCR Mode (recommended: <code>redo</code> for re-processing existing documents)</p> </li> </ol>"},{"location":"configuration/paperless-setup/#storage-path","title":"Storage Path","text":"<p>Organize documents in paperless-ngx with a consistent storage path:</p> <pre><code>/documents/\n  \u251c\u2500\u2500 financial/\n  \u251c\u2500\u2500 medical/\n  \u251c\u2500\u2500 insurance/\n  \u251c\u2500\u2500 legal/\n  \u2514\u2500\u2500 household/\n</code></pre>"},{"location":"configuration/paperless-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"configuration/paperless-setup/#connection-refused","title":"Connection Refused","text":"<p>Error: <code>ECONNREFUSED</code> or <code>Connection refused</code></p> <p>Solutions:</p> <ol> <li> <p>Verify the URL in <code>.env</code> is correct and accessible</p> </li> <li> <p>Check if paperless-ngx is running: <code>docker ps</code> (if using Docker)</p> </li> <li> <p>Test the URL in a browser</p> </li> <li> <p>Check firewall settings</p> </li> </ol>"},{"location":"configuration/paperless-setup/#unauthorized-401","title":"Unauthorized (401)","text":"<p>Error: <code>401 Unauthorized</code> or <code>Invalid API token</code></p> <p>Solutions:</p> <ol> <li> <p>Verify the API token is copied correctly (no extra spaces)</p> </li> <li> <p>Confirm the token hasn't expired</p> </li> <li> <p>Check that Read/Write permissions are enabled</p> </li> <li> <p>Generate a new token if necessary</p> </li> </ol>"},{"location":"configuration/paperless-setup/#ssl-certificate-errors","title":"SSL Certificate Errors","text":"<p>Error: <code>certificate has expired</code> or <code>self-signed certificate</code></p> <p>Solutions:</p> <ol> <li> <p>For development: Use <code>http://</code> instead of <code>https://</code></p> </li> <li> <p>For production: Renew your SSL certificate</p> </li> <li> <p>For self-signed certs: Add the certificate to your system's trust store</p> </li> </ol>"},{"location":"configuration/paperless-setup/#cors-errors","title":"CORS Errors","text":"<p>Error: CORS policy blocking requests</p> <p>Solutions:</p> <ol> <li> <p>Configure paperless-ngx <code>CORS_ALLOWED_ORIGINS</code> setting</p> </li> <li> <p>Add your PAI instance domain to allowed origins</p> </li> <li> <p>See paperless-ngx CORS documentation</p> </li> </ol>"},{"location":"configuration/paperless-setup/#best-practices","title":"Best Practices","text":""},{"location":"configuration/paperless-setup/#security","title":"Security","text":"<ol> <li> <p>Use HTTPS for all remote connections</p> </li> <li> <p>Rotate API tokens periodically (every 6-12 months)</p> </li> <li> <p>Limit token permissions to only what's needed</p> </li> <li> <p>Monitor access logs for suspicious activity</p> </li> <li> <p>Back up regularly - paperless-ngx data should be backed up</p> </li> </ol>"},{"location":"configuration/paperless-setup/#performance","title":"Performance","text":"<ol> <li> <p>Enable OCR for all documents (improves search)</p> </li> <li> <p>Use consistent tagging (the Records Manager Skill helps with this)</p> </li> <li> <p>Archive old documents to improve performance</p> </li> <li> <p>Monitor storage - set up alerts for disk space</p> </li> </ol>"},{"location":"configuration/paperless-setup/#maintenance","title":"Maintenance","text":"<ol> <li> <p>Update paperless-ngx regularly for security patches</p> </li> <li> <p>Review retention periods annually</p> </li> <li> <p>Clean up tags - merge duplicates and remove unused</p> </li> <li> <p>Test backups - ensure you can restore if needed</p> </li> </ol>"},{"location":"configuration/paperless-setup/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"configuration/paperless-setup/#custom-storage-path","title":"Custom Storage Path","text":"<p>If using a custom storage path in paperless-ngx, ensure the Records Manager Skill can access it:</p> <pre><code># In paperless-ngx .env\nPAPERLESS_DATA_DIR=/mnt/paperless/documents\n</code></pre>"},{"location":"configuration/paperless-setup/#multiple-instances","title":"Multiple Instances","text":"<p>For multiple paperless-ngx instances (e.g., personal vs business), use separate configurations:</p> <pre><code># Personal records\nMADEINOZ_RECORDMANAGER_PERSONAL_PAPERLESS_URL=\"https://personal.example.com\"\nMADEINOZ_RECORDMANAGER_PERSONAL_PAPERLESS_API_TOKEN=\"...\"\n\n# Business records\nMADEINOZ_RECORDMANAGER_BUSINESS_PAPERLESS_URL=\"https://business.example.com\"\nMADEINOZ_RECORDMANAGER_BUSINESS_PAPERLESS_API_TOKEN=\"...\"\n</code></pre>"},{"location":"configuration/paperless-setup/#webhook-configuration","title":"Webhook Configuration","text":"<p>Configure webhooks in paperless-ngx to trigger Records Manager actions:</p> <ol> <li> <p>Go to Settings \u2192 Webhooks</p> </li> <li> <p>Create a new webhook</p> </li> <li> <p>Set the trigger (e.g., <code>document_consumed</code>)</p> </li> <li> <p>Point to your Records Manager endpoint</p> </li> </ol>"},{"location":"configuration/paperless-setup/#next-steps","title":"Next Steps","text":"<ul> <li>Configure environment variables</li> <li>Choose your country for compliance rules</li> <li>Set up retention policies</li> </ul> <p>Warning</p> <p>DELETION DISCLAIMER</p> <p>While the Records Manager Skill provides safety checks, retention guidance, and the Deletion Auditor workflow, you are ultimately responsible for verifying deletions and understanding retention requirements before deleting documents.</p> <p>The system provides recommendations based on general taxonomies and common retention periods, but these may not apply to your specific situation. You should:</p> <ul> <li> <p>Verify retention periods apply to your jurisdiction and use case</p> </li> <li> <p>Consult with legal or tax professionals for compliance-critical documents</p> </li> <li> <p>Understand that deletion is permanent - once deleted, documents cannot be recovered</p> </li> <li> <p>Consider maintaining backups of important documents, even after retention expires</p> </li> <li> <p>Review audit trails regularly to track deletion decisions</p> </li> </ul> <p>The Records Manager Skill provides tools to assist with document management, but compliance is your responsibility.</p>"},{"location":"examples/","title":"Examples","text":"<p>Welcome to the Records Manager Skill examples! This section contains practical examples and usage patterns for common document management tasks.</p>"},{"location":"examples/#what-youll-find-here","title":"What You'll Find Here","text":"<ul> <li>Example Prompts: Comprehensive examples of commands and workflows for everyday document management tasks</li> <li>More examples coming soon!</li> </ul>"},{"location":"examples/#quick-links","title":"Quick Links","text":""},{"location":"examples/#by-use-case","title":"By Use Case","text":"<ul> <li>Uploading Documents</li> <li>Searching Documents</li> <li>Retention Management</li> <li>Entity Management</li> </ul>"},{"location":"examples/#by-complexity","title":"By Complexity","text":"<ul> <li>Basic Usage - Simple one-off commands</li> <li>Advanced Examples - Trust documents, batch operations, workflows</li> <li>Integration Examples - Working with paperless-ngx and PAI</li> </ul>"},{"location":"examples/#getting-started","title":"Getting Started","text":"<p>If you're new to the Records Manager Skill, start with:</p> <ol> <li>Installation Guide</li> <li>Quick Start</li> <li>First Upload</li> </ol> <p>Then explore the examples here to learn more advanced techniques!</p>"},{"location":"examples/prompts/","title":"Examples","text":""},{"location":"examples/prompts/#example-usage","title":"Example Usage","text":"<p>Here are some practical examples of using the Records Manager Skill for common document management tasks.</p>"},{"location":"examples/prompts/#basic-usage-examples","title":"Basic Usage Examples","text":""},{"location":"examples/prompts/#uploading-documents","title":"Uploading Documents","text":"<pre><code># Upload a single document with automatic tagging\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Documents/invoice.pdf \\\n  --domain household\n\n# Upload with custom tags\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Documents/receipt.jpg \\\n  --domain household \\\n  --tags medical,health \\\n  --correspondent \"Family Doctor\"\n</code></pre>"},{"location":"examples/prompts/#searching-documents","title":"Searching Documents","text":"<pre><code># Search by tags\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --tags \"tax,financial,2024\" \\\n  --domain household\n\n# Search by document type\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --type \"Invoice\" \\\n  --domain corporate\n\n# Search by date range\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --after-date \"2024-01-01\" \\\n  --before-date \"2024-12-31\"\n</code></pre>"},{"location":"examples/prompts/#retention-management","title":"Retention Management","text":"<pre><code># Check retention status\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain corporate\n\n# Check retention for specific document type\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --type \"Financial\" \\\n  --domain corporate\n</code></pre>"},{"location":"examples/prompts/#entity-management","title":"Entity Management","text":"<pre><code># Create a new entity\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts entity create \\\n  --name \"My Family Trust\" \\\n  --type family-trust \\\n  --description \"Family trust documents\"\n\n# List all entities\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts entity list\n\n# View entity details\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts entity show \\\n  --entity \"My Family Trust\"\n</code></pre>"},{"location":"examples/prompts/#advanced-examples","title":"Advanced Examples","text":""},{"location":"examples/prompts/#trust-document-management","title":"Trust Document Management","text":"<pre><code># Upload trust deed with automatic compliance checking\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Documents/trust-deed.pdf \\\n  --domain family-trust \\\n  --tags \"trust-deed,permanent\" \\\n  --correspondent \"Solicitor\"\n\n# Upload Family Trust Election (FTE) document\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Documents/fte.pdf \\\n  --domain family-trust \\\n  --tags \"FTE,tax-election\" \\\n  --retention-years 5\n</code></pre>"},{"location":"examples/prompts/#batch-operations","title":"Batch Operations","text":"<pre><code># Upload multiple documents\nfor file in ~/Documents/receipts/*.pdf; do\n  bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n    --file \"$file\" \\\n    --domain household \\\n    --tags \"receipt\"\ndone\n\n# Batch tag update\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts tag add \\\n  --query \"type:Invoice AND date:2024\" \\\n  --tags \"2024-invoices\" \\\n  --domain corporate\n</code></pre>"},{"location":"examples/prompts/#workflow-automation","title":"Workflow Automation","text":"<pre><code># Automated invoice processing workflow\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts workflow start \\\n  --name \"Invoice Processing\" \\\n  --trigger \"type:Invoice\" \\\n  --actions \"tag:invoice,scan:ocr,assign:accounting\"\n\n# Compliance check workflow\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts workflow start \\\n  --name \"Retention Monitor\" \\\n  --schedule \"monthly\" \\\n  --actions \"check:retention,report:expiring\"\n</code></pre>"},{"location":"examples/prompts/#integration-examples","title":"Integration Examples","text":""},{"location":"examples/prompts/#with-paperless-ngx","title":"With Paperless-ngx","text":"<pre><code># Set up automatic document processing\n# 1. Configure paperless-ngx consumption endpoint\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token\"\n\n# 2. Upload and let the skill handle classification\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Documents/document.pdf \\\n  --domain corporate\n\n# 3. Search with automatic taxonomy application\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"quarterly report\" \\\n  --domain corporate\n</code></pre>"},{"location":"examples/prompts/#pai-integration","title":"PAI Integration","text":"<pre><code># Using within PAI conversations\nuser: \"I just received a medical bill, can you help me organize it?\"\n\nai: \"I'll upload that to your household records with proper medical tags.\"\n\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Downloads/medical-bill.pdf \\\n  --domain household \\\n  --tags \"medical,bill,health-insurance\" \\\n  --retention-years 7\n\nuser: \"Check if any tax documents are expiring soon\"\n\nai: \"Checking retention status for your corporate domain.\"\n\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain corporate \\\n  --expiring-soon\n</code></pre>"},{"location":"examples/prompts/#troubleshooting-examples","title":"Troubleshooting Examples","text":""},{"location":"examples/prompts/#connection-issues","title":"Connection Issues","text":"<pre><code># Verify connection\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\nbun run ~/.claude/skills/RecordsManager/RecordManager.ts test-connection\n\n# Check API token validity\nbun run ~/.claude/skills/RecordsManager/RecordManager.ts test-auth\n</code></pre>"},{"location":"examples/prompts/#debug-mode","title":"Debug Mode","text":"<pre><code># Enable verbose logging\nexport MADEINOZ_RECORDMANAGER_DEBUG=true\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file document.pdf \\\n  --domain household \\\n  --verbose\n</code></pre>"},{"location":"examples/prompts/#tips-and-best-practices","title":"Tips and Best Practices","text":"<ol> <li> <p>Always specify the domain - This ensures proper taxonomy application</p> </li> <li> <p>Use descriptive tags - This makes searching easier later</p> </li> <li> <p>Check retention regularly - Especially for time-sensitive documents</p> </li> <li> <p>Use workflows for automation - Reduce manual work for repetitive tasks</p> </li> <li> <p>Test queries before batch operations - Verify search patterns work as expected</p> </li> </ol>"},{"location":"extending/","title":"Extending the Taxonomy System","text":"<p>The Records Manager Skill provides a flexible, extensible taxonomy system that allows you to customize document organization for your specific needs. This section guides you through extending the built-in system with custom entity types, taxonomies, and validation rules.</p>"},{"location":"extending/#overview","title":"Overview","text":"<p>The taxonomy system uses a hierarchical inheritance model that allows for extensive customization while maintaining consistency and compliance:</p> <pre><code>Base Taxonomy \u2192 Country Guidelines \u2192 Entity Types \u2192 Custom Extensions\n</code></pre>"},{"location":"extending/#key-concepts","title":"Key Concepts","text":"<ul> <li> <p>Entity Types: Define the scope of your document organization (household, corporate, projects, trusts)</p> </li> <li> <p>Document Types: Categorize specific kinds of documents within each entity</p> </li> <li> <p>Tag Categories: Organize tags into logical groups for easier management</p> </li> <li> <p>Retention Rules: Define how long documents should be kept based on legal and business requirements</p> </li> <li> <p>Country Variations: Adapt taxonomies to local jurisdictional requirements</p> </li> </ul>"},{"location":"extending/#what-you-can-extend","title":"What You Can Extend","text":"Extension Type Description Difficulty Custom Entities Create new entity types beyond the built-in ones \u2b50\u2b50 Custom Taxonomies Define document types, tags, and retention rules for your domain \u2b50\u2b50\u2b50 Country Adaptations Modify existing taxonomies for your jurisdiction \u2b50\u2b50\u2b50\u2b50 Validation Rules Add custom validation for document metadata \u2b50\u2b50"},{"location":"extending/#getting-started","title":"Getting Started","text":"<ol> <li> <p>Choose Your Extension Path:</p> </li> <li> <p>Custom Entities - For new organizational scopes</p> </li> <li> <p>Custom Taxonomies - For specialized document management</p> </li> <li> <p>Validation - For quality assurance and compliance</p> </li> <li> <p>Understand the Inheritance Model:</p> </li> <li> <p>Base definitions provide common patterns</p> </li> <li> <p>Country guidelines add jurisdiction-specific rules</p> </li> <li> <p>Entity types define organizational boundaries</p> </li> <li> <p>Custom extensions personalize for your needs</p> </li> <li> <p>Test Your Extensions:</p> </li> <li> <p>Use the built-in validation commands</p> </li> <li> <p>Test with sample documents</p> </li> <li> <p>Verify retention calculations</p> </li> </ol>"},{"location":"extending/#built-in-entity-types","title":"Built-in Entity Types","text":"<p>The system comes with six pre-configured entity types:</p> Entity Type Description Supported Countries Features Household Personal and family document management AU, US, UK Financial, medical, identity, pet records Corporate Business document management AU Accounting, HR, compliance, corporate governance Unit Trust Unit-based investment trust management AU Distributions, capital accounts, unit registry Discretionary Trust Flexible distribution trust management AU Beneficiary management, streaming resolutions Family Trust Family wealth management with FTE AU Family Trust Elections, 5-year retention rules Project Time-bound project documentation AU Project phases, deliverables, milestones"},{"location":"extending/#extension-workflow","title":"Extension Workflow","text":"<pre><code>graph TD\n    A[Define Extension Goal] --&gt; B[Choose Extension Type]\n    B --&gt; C{Extension Type}\n    C --&gt;|Custom Entity| D[Create Entity Type]\n    C --&gt;|Custom Taxonomy| E[Define Document Types &amp; Rules]\n    C --&gt;|Country Adaptation| F[Modify Existing Taxonomy]\n    C --&gt;|Validation| G[Add Validation Rules]\n\n    D --&gt; H[Test Integration]\n    E --&gt; H\n    F --&gt; H\n    G --&gt; H\n\n    H --&gt; I[Deploy to Production]\n    I --&gt; J[Monitor Usage]</code></pre>  Use mouse to pan and zoom"},{"location":"extending/#best-practices","title":"Best Practices","text":""},{"location":"extending/#1-start-with-existing-patterns","title":"1. Start with Existing Patterns","text":"<ul> <li> <p>Leverage the built-in entity types when possible</p> </li> <li> <p>Follow established naming conventions for tags and document types</p> </li> <li> <p>Use existing tag categories as a foundation</p> </li> </ul>"},{"location":"extending/#2-maintain-compliance","title":"2. Maintain Compliance","text":"<ul> <li> <p>Document retention rules should align with legal requirements</p> </li> <li> <p>Consult with legal professionals for jurisdiction-specific rules</p> </li> <li> <p>Regularly review and update retention periods</p> </li> </ul>"},{"location":"extending/#3-keep-it-simple","title":"3. Keep it Simple","text":"<ul> <li> <p>Avoid over-complicating tag structures</p> </li> <li> <p>Use consistent naming conventions</p> </li> <li> <p>Limit the number of document types to essential categories</p> </li> </ul>"},{"location":"extending/#4-test-thoroughly","title":"4. Test Thoroughly","text":"<ul> <li> <p>Validate metadata suggestions with real documents</p> </li> <li> <p>Test retention calculations with various dates</p> </li> <li> <p>Verify search functionality with your new tags</p> </li> </ul>"},{"location":"extending/#next-steps","title":"Next Steps","text":"<ul> <li>Custom Entities - Step-by-step guide for adding new entity types</li> <li>Custom Taxonomies - Configuration format and examples</li> <li>Validation - CLI validation and troubleshooting</li> </ul>"},{"location":"extending/#need-help","title":"Need Help?","text":"<p>If you need assistance with extending the taxonomy system:</p> <ol> <li>Review the examples in Custom Taxonomies</li> <li>Check the validation tools in Validation</li> <li>Examine the source code in the <code>src/lib/</code> directory</li> <li>Open an issue on GitHub for specific questions</li> </ol> <p>Last Updated: 2026-01-20</p>"},{"location":"extending/contributing-taxonomies/","title":"Contributing Taxonomies","text":"<p>This guide explains how to contribute new hierarchical taxonomy paths to the Records Manager Skill.</p>"},{"location":"extending/contributing-taxonomies/#overview","title":"Overview","text":"<p>The hierarchical taxonomy system allows you to add new classification paths for documents. Contributions help the community by: - Adding support for new document types - Covering new industries or domains - Expanding existing hierarchies - Adding country-specific variations</p>"},{"location":"extending/contributing-taxonomies/#before-you-start","title":"Before You Start","text":"<p>Requirements: - Understanding of hierarchical taxonomy structure (Function \u2192 Service \u2192 Activity \u2192 DocumentType) - Knowledge of retention requirements for your country - Familiarity with YAML syntax - Access to authoritative retention sources (tax authority websites, legal documentation)</p> <p>What to contribute: - New hierarchical paths for document types (Function/Service/Activity/DocumentType) - Retention period requirements with legal citations (REQUIRED for each Activity level) - Keywords for improved search matching - Migration mappings from flat to hierarchical taxonomies</p> <p>CRITICAL - FSA Tag Format:</p> <p>Documents receive a SINGLE full FSA path tag, NOT individual level tags:</p> <p>CORRECT: <pre><code>FSA/HealthManagement/MedicalCare/Consultations\n</code></pre></p> <p>INCORRECT (Do NOT contribute): <pre><code>Function:HealthManagement\nService:MedicalCare\nActivity:Consultations\nDocumentType:MedicalReceipt\n</code></pre></p> <p>Why this matters: - Full FSA path is single source of truth for classification - FSA Activity level automatically determines retention via <code>TaxonomyExpert.getRetentionForActivity()</code> - FSA tag and retention tag MUST be applied atomically together - Prevents compliance gaps where documents have classification but no retention enforcement</p>"},{"location":"extending/contributing-taxonomies/#contribution-process","title":"Contribution Process","text":""},{"location":"extending/contributing-taxonomies/#step-1-identify-the-need-5-minutes","title":"Step 1: Identify the Need (5 minutes)","text":"<p>Determine what's missing:</p> <pre><code># Search existing taxonomies\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy search \\\n  --domain household \\\n  --keywords \"your document type\"\n</code></pre> <p>If no results, the document type may not be in the taxonomy yet.</p> <p>Check existing functions:</p> <pre><code># List all functions for the domain\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions \\\n  --domain household\n</code></pre> <p>Decide where it fits: - Is there an existing Function that covers this? (e.g., HealthManagement, FinanceManagement) - Does an existing Service apply? (e.g., MedicalCare, Banking) - Is there a matching Activity? (e.g., Consultations, Accounts)</p>"},{"location":"extending/contributing-taxonomies/#step-2-research-retention-requirements-15-minutes","title":"Step 2: Research Retention Requirements (15 minutes)","text":"<p>Find authoritative sources:</p> <p>Australia: - ATO Record Keeping Requirements - Australian Privacy Principles - State-specific regulations</p> <p>United States: - IRS Publication 583 - State-specific requirements (vary by state) - Industry regulations (HIPAA, SOX, etc.)</p> <p>United Kingdom: - HMRC Record Keeping - ICO Data Retention Guidance</p> <p>Document your findings: - Retention period (in years) - Legal citation (exact regulation or publication) - Special conditions (e.g., \"from date of FTE\", \"while active + 7 years\") - Country variations</p>"},{"location":"extending/contributing-taxonomies/#step-3-design-the-hierarchical-path-10-minutes","title":"Step 3: Design the Hierarchical Path (10 minutes)","text":"<p>Follow naming conventions:</p> <ol> <li>Function - Top-level category (PascalCase, no spaces)</li> <li>Examples: <code>HealthManagement</code>, <code>FinanceManagement</code>, <code>PropertyManagement</code></li> <li> <p>Should represent a major life area or business function</p> </li> <li> <p>Service - Sub-category within function (PascalCase, no spaces)</p> </li> <li>Examples: <code>MedicalCare</code>, <code>Banking</code>, <code>Maintenance</code></li> <li> <p>Represents a specific service or sub-domain</p> </li> <li> <p>Activity - Specific action or process (PascalCase, no spaces)</p> </li> <li>Examples: <code>Consultations</code>, <code>Accounts</code>, <code>Repairs</code></li> <li> <p>Describes what activity generated the document</p> </li> <li> <p>DocumentType - Exact document name (PascalCase, no spaces)</p> </li> <li>Examples: <code>MedicalReceipt</code>, <code>BankStatement</code>, <code>InvoiceReceipt</code></li> <li>Precise document type name</li> </ol> <p>Example design:</p> <pre><code>Function: HealthManagement\n  Service: PhysioCare\n    Activity: Treatments\n      DocumentType: PhysioInvoice\n      DocumentType: TreatmentPlan\n      DocumentType: ExerciseProgram\n</code></pre> <p>Full paths: - <code>HealthManagement/PhysioCare/Treatments/PhysioInvoice</code> - <code>HealthManagement/PhysioCare/Treatments/TreatmentPlan</code> - <code>HealthManagement/PhysioCare/Treatments/ExerciseProgram</code></p>"},{"location":"extending/contributing-taxonomies/#step-4-add-to-taxonomy-yaml-15-minutes","title":"Step 4: Add to Taxonomy YAML (15 minutes)","text":"<p>Edit the taxonomy file:</p> <pre><code># Open the taxonomies file for your country\nnano src/skills/RecordsManager/Config/taxonomies.yaml\n</code></pre> <p>Add your hierarchical path:</p> <pre><code>household:\n  hierarchical:\n    functions:\n      HealthManagement:\n        name: HealthManagement\n        description: Health and medical records management\n        keywords:\n          - health\n          - medical\n          - wellness\n        services:\n          PhysioCare:                        # \u2190 NEW SERVICE\n            name: PhysioCare\n            description: Physiotherapy and physical rehabilitation\n            keywords:\n              - physio\n              - physiotherapy\n              - rehabilitation\n              - therapy\n            activities:\n              Treatments:                     # \u2190 NEW ACTIVITY\n                name: Treatments\n                description: Physiotherapy treatment sessions\n                keywords:\n                  - treatment\n                  - session\n                  - appointment\n                documentTypes:\n                  PhysioInvoice:              # \u2190 NEW DOCUMENT TYPE\n                    name: PhysioInvoice\n                    description: Invoice for physiotherapy services\n                    retention:\n                      AUS:\n                        years: 7\n                        legalCitation: \"ATO Record Keeping Requirements - Medical Expenses\"\n                        reasoning: \"Medical expenses may be claimed as tax deductions for 7 years\"\n                      USA:\n                        years: 7\n                        legalCitation: \"IRS Publication 502 - Medical Expenses\"\n                        reasoning: \"Medical expense records should be kept for 7 years\"\n                      GBR:\n                        years: 6\n                        legalCitation: \"HMRC Record Keeping - Medical Expenses\"\n                        reasoning: \"Medical records should be kept for 6 years\"\n                  TreatmentPlan:\n                    name: TreatmentPlan\n                    description: Physiotherapy treatment plan document\n                    retention:\n                      AUS:\n                        years: 7\n                        legalCitation: \"ATO Record Keeping Requirements - Medical Records\"\n                        reasoning: \"Medical treatment records for 7 years\"\n                      USA:\n                        years: 7\n                        legalCitation: \"HIPAA Medical Records Retention\"\n                        reasoning: \"Medical treatment records for 7 years\"\n                      GBR:\n                        years: 8\n                        legalCitation: \"NHS Medical Records Retention\"\n                        reasoning: \"NHS recommends 8 years for treatment records\"\n</code></pre> <p>Key points: - Indent with 2 spaces (YAML requirement) - Add retention for ALL supported countries (AUS, USA, GBR) - Include legal citations (exact regulation names) - Add descriptive keywords for search - Provide clear description for each level</p>"},{"location":"extending/contributing-taxonomies/#step-5-add-migration-mappings-optional-10-minutes","title":"Step 5: Add Migration Mappings (Optional, 10 minutes)","text":"<p>If you're migrating from flat taxonomies, add mappings:</p> <pre><code>household:\n  migration:\n    mappings:\n      # Old flat document type \u2192 New hierarchical path\n      - flatDocumentType: \"Physio Invoice\"\n        hierarchicalPath: \"HealthManagement/PhysioCare/Treatments/PhysioInvoice\"\n        confidence: 1.0\n\n      - flatDocumentType: \"Physiotherapy Bill\"\n        hierarchicalPath: \"HealthManagement/PhysioCare/Treatments/PhysioInvoice\"\n        confidence: 0.95\n\n      - flatDocumentType: \"Treatment Plan\"\n        hierarchicalPath: \"HealthManagement/PhysioCare/Treatments/TreatmentPlan\"\n        confidence: 0.9  # Lower confidence - could be other types of treatment plans\n</code></pre> <p>Confidence levels: - <code>1.0</code> - Exact match, no ambiguity - <code>0.9</code> - High confidence, minor ambiguity - <code>0.8</code> - Moderate confidence, may need review - <code>&lt; 0.8</code> - Low confidence, requires manual review</p>"},{"location":"extending/contributing-taxonomies/#step-6-validate-your-changes-5-minutes","title":"Step 6: Validate Your Changes (5 minutes)","text":"<p>Run validation:</p> <pre><code># Validate YAML syntax\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy validate \\\n  --domain household\n</code></pre> <p>Check for errors: - YAML syntax errors - Missing required fields (name, description, retention) - Invalid retention periods - Missing country-specific retention - Duplicate paths</p> <p>Test the new taxonomy:</p> <pre><code>import { TaxonomyExpert } from './src/lib/TaxonomyExpert';\n\nconst expert = new TaxonomyExpert('AUS', 'household');\n\n// Test navigation\nconst services = expert.getServices('household', 'HealthManagement');\nconsole.log(services.find(s =&gt; s.name === 'PhysioCare'));  // Should exist\n\nconst activities = expert.getActivities('household', 'HealthManagement', 'PhysioCare');\nconsole.log(activities.find(a =&gt; a.name === 'Treatments'));  // Should exist\n\nconst docTypes = expert.getDocumentTypesForActivity(\n  'household',\n  'HealthManagement',\n  'PhysioCare',\n  'Treatments'\n);\nconsole.log(docTypes);  // Should include 'PhysioInvoice', 'TreatmentPlan'\n\n// Test retention\nconst retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'PhysioCare',\n  'Treatments',\n  'PhysioInvoice'\n);\nconsole.log(retention);  // Should return {years: 7, legalCitation: '...', ...}\n</code></pre>"},{"location":"extending/contributing-taxonomies/#step-7-write-tests-15-minutes","title":"Step 7: Write Tests (15 minutes)","text":"<p>Add test cases:</p> <pre><code>// src/tests/TaxonomyExpert.custom.test.ts\nimport { describe, it, expect } from 'bun:test';\nimport { TaxonomyExpert } from '../lib/TaxonomyExpert';\n\ndescribe('Custom Taxonomy: PhysioCare', () =&gt; {\n  const expert = new TaxonomyExpert('AUS', 'household');\n\n  it('should include PhysioCare service', () =&gt; {\n    const services = expert.getServices('household', 'HealthManagement');\n    const physio = services.find(s =&gt; s.name === 'PhysioCare');\n\n    expect(physio).toBeDefined();\n    expect(physio?.description).toBe('Physiotherapy and physical rehabilitation');\n  });\n\n  it('should include Treatments activity', () =&gt; {\n    const activities = expert.getActivities('household', 'HealthManagement', 'PhysioCare');\n    const treatments = activities.find(a =&gt; a.name === 'Treatments');\n\n    expect(treatments).toBeDefined();\n  });\n\n  it('should include PhysioInvoice document type', () =&gt; {\n    const docTypes = expert.getDocumentTypesForActivity(\n      'household',\n      'HealthManagement',\n      'PhysioCare',\n      'Treatments'\n    );\n\n    expect(docTypes).toContain('PhysioInvoice');\n  });\n\n  it('should have correct retention for PhysioInvoice (AUS)', () =&gt; {\n    const retention = expert.getRetentionForActivity(\n      'household',\n      'HealthManagement',\n      'PhysioCare',\n      'Treatments',\n      'PhysioInvoice'\n    );\n\n    expect(retention.years).toBe(7);\n    expect(retention.legalCitation).toContain('ATO');\n  });\n\n  it('should generate FSA classification tag', () =&gt; {\n    const fsaTag = expert.generateFSATag('HealthManagement/PhysioCare/Treatments/PhysioInvoice');\n\n    expect(fsaTag).toBe('FSA/HealthManagement/PhysioCare/Treatments');\n  });\n\n  it('should generate retention tag for FSA path', () =&gt; {\n    const retentionTag = expert.getRetentionTagForPath('HealthManagement/PhysioCare/Treatments/PhysioInvoice');\n\n    expect(retentionTag).toBe('RETENTION/7-years');\n  });\n\n  it('should generate storage path', () =&gt; {\n    const path = expert.generateStoragePath('HealthManagement/PhysioCare/Treatments/PhysioInvoice');\n\n    expect(path).toBe('Health_Management/Physio_Care/Treatments/Physio_Invoice');\n  });\n});\n</code></pre> <p>Run tests:</p> <pre><code>bun test src/tests/TaxonomyExpert.custom.test.ts\n</code></pre>"},{"location":"extending/contributing-taxonomies/#step-8-document-your-contribution-10-minutes","title":"Step 8: Document Your Contribution (10 minutes)","text":"<p>Create a pull request description:</p> <pre><code>## Add PhysioCare Taxonomy\n\n### Summary\nAdds hierarchical taxonomy support for physiotherapy documents.\n\n### Changes\n- Added `PhysioCare` service under `HealthManagement`\n- Added `Treatments` activity\n- Added 3 document types: `PhysioInvoice`, `TreatmentPlan`, `ExerciseProgram`\n- Included retention requirements for AUS, USA, GBR with legal citations\n\n### Retention Research\n- **Australia**: 7 years (ATO Record Keeping Requirements)\n- **United States**: 7 years (IRS Publication 502)\n- **United Kingdom**: 8 years (NHS Medical Records Retention)\n\n### Testing\n- [x] YAML syntax validated\n- [x] All tests passing (450/464 tests, 96%)\n- [x] Navigation methods tested\n- [x] Retention requirements verified\n- [x] Tag and path generation tested\n\n### Migration\n- Added mappings for common flat document types:\n  - \"Physio Invoice\" \u2192 `HealthManagement/PhysioCare/Treatments/PhysioInvoice`\n  - \"Physiotherapy Bill\" \u2192 `HealthManagement/PhysioCare/Treatments/PhysioInvoice`\n  - \"Treatment Plan\" \u2192 `HealthManagement/PhysioCare/Treatments/TreatmentPlan`\n\n### Documentation\n- Updated user guide with PhysioCare examples\n- Added troubleshooting entries for physiotherapy documents\n</code></pre>"},{"location":"extending/contributing-taxonomies/#contribution-checklist","title":"Contribution Checklist","text":"<p>Before submitting your pull request:</p> <ul> <li> YAML syntax is valid</li> <li> All required fields are present (name, description, keywords, retention)</li> <li> Retention periods are researched and documented</li> <li> Legal citations are accurate and complete</li> <li> All supported countries have retention rules (AUS, USA, GBR)</li> <li> PascalCase naming convention followed</li> <li> Keywords added for search discoverability</li> <li> Migration mappings added (if applicable)</li> <li> Tests written and passing</li> <li> No duplicate paths exist</li> <li> Documentation updated</li> <li> Pull request description is complete</li> </ul>"},{"location":"extending/contributing-taxonomies/#common-patterns","title":"Common Patterns","text":""},{"location":"extending/contributing-taxonomies/#adding-a-new-service-to-existing-function","title":"Adding a New Service to Existing Function","text":"<pre><code>functions:\n  HealthManagement:\n    services:\n      NewService:              # \u2190 Add new service here\n        name: NewService\n        description: Description of new service\n        keywords: [keyword1, keyword2]\n        activities:\n          Activity1:\n            # ...\n</code></pre>"},{"location":"extending/contributing-taxonomies/#adding-a-new-activity-to-existing-service","title":"Adding a New Activity to Existing Service","text":"<pre><code>services:\n  ExistingService:\n    activities:\n      NewActivity:             # \u2190 Add new activity here\n        name: NewActivity\n        description: Description of new activity\n        keywords: [keyword1, keyword2]\n        documentTypes:\n          DocumentType1:\n            # ...\n</code></pre>"},{"location":"extending/contributing-taxonomies/#adding-a-new-document-type-to-existing-activity","title":"Adding a New Document Type to Existing Activity","text":"<pre><code>activities:\n  ExistingActivity:\n    documentTypes:\n      NewDocumentType:         # \u2190 Add new document type here\n        name: NewDocumentType\n        description: Description of new document type\n        retention:\n          AUS:\n            years: 7\n            legalCitation: \"ATO Citation\"\n            reasoning: \"Reason for retention\"\n          # ... other countries\n</code></pre>"},{"location":"extending/contributing-taxonomies/#best-practices","title":"Best Practices","text":""},{"location":"extending/contributing-taxonomies/#do","title":"DO:","text":"<ul> <li>\u2705 Research retention requirements thoroughly</li> <li>\u2705 Cite authoritative sources (ATO, IRS, HMRC)</li> <li>\u2705 Use PascalCase for all naming</li> <li>\u2705 Add descriptive keywords for search</li> <li>\u2705 Test your changes before submitting</li> <li>\u2705 Add migration mappings for backward compatibility</li> <li>\u2705 Write tests for new taxonomies</li> <li>\u2705 Update documentation</li> </ul>"},{"location":"extending/contributing-taxonomies/#dont","title":"DON'T:","text":"<ul> <li>\u274c Guess retention periods</li> <li>\u274c Use spaces in names (use PascalCase)</li> <li>\u274c Skip legal citations</li> <li>\u274c Forget to add retention for all countries</li> <li>\u274c Create duplicate paths</li> <li>\u274c Submit untested changes</li> <li>\u274c Use ambiguous names</li> </ul>"},{"location":"extending/contributing-taxonomies/#getting-help","title":"Getting Help","text":"<p>Questions about: - Retention requirements: Check the Retention Guide - YAML syntax: See existing taxonomies in <code>Config/taxonomies.yaml</code> - Testing: Review <code>src/tests/TaxonomyExpert.test.ts</code> - Migration: See the Migration Guide</p> <p>Need assistance: - GitHub Discussions: Ask a question - GitHub Issues: Report a problem</p> <p>Thank you for contributing to the Records Manager Skill!</p> <p>Your contributions help the community by expanding coverage and improving accuracy. Every new taxonomy path you add makes document management easier for all users.</p> <p>Contributing Guide Version: 2.0.0 Last Updated: 2026-01-22 License: MIT</p>"},{"location":"extending/custom-entities/","title":"Custom Entities - Step-by-Step Guide","text":"<p>This guide shows you how to create custom entity types beyond the built-in household, corporate, trust, and project types. Custom entities allow you to organize documents according to your specific organizational structure.</p>"},{"location":"extending/custom-entities/#overview","title":"Overview","text":"<p>A custom entity defines a specific scope for document organization with its own:</p> <ul> <li> <p>Configuration requirements (questions asked during creation)</p> </li> <li> <p>Document types (categories of documents you'll manage)</p> </li> <li> <p>Tag structure (how documents are tagged and organized)</p> </li> <li> <p>Retention rules (how long to keep different document types)</p> </li> </ul>"},{"location":"extending/custom-entities/#use-cases-for-custom-entities","title":"Use Cases for Custom Entities","text":"Scenario Recommended Entity Type Benefits Law Firm <code>legal-practice</code> Client matter, court filing, billing separation Medical Clinic <code>medical-practice</code> Patient records, billing, compliance documents Real Estate Agency <code>real-estate</code> Property transactions, leases, client files University Department <code>academic-department</code> Research, grants, student records, publications Non-Profit <code>non-profit</code> Grants, donations, compliance, programs Investment Club <code>investment-club</code> Portfolio management, member records"},{"location":"extending/custom-entities/#step-1-define-your-entity-configuration","title":"Step 1: Define Your Entity Configuration","text":""},{"location":"extending/custom-entities/#11-choose-an-entity-type-name","title":"1.1 Choose an Entity Type Name","text":"<p>Select a descriptive, lowercase name with hyphens:</p> <ul> <li> <p>Good: <code>legal-practice</code>, <code>medical-clinic</code>, <code>real-estate-agency</code></p> </li> <li> <p>Bad: <code>Legal Practice</code>, <code>medical clinic</code>, <code>RealEstateAgency</code></p> </li> </ul>"},{"location":"extending/custom-entities/#12-define-configuration-questions","title":"1.2 Define Configuration Questions","text":"<p>Each entity type requires specific configuration information. Define the questions users will answer during creation:</p> <pre><code>// Example: Legal Practice Entity Questions\nconst legalPracticeQuestions: EntityQuestion[] = [\n  {\n    key: 'firmName',\n    question: 'What is the law firm name?',\n    type: 'text',\n    required: true,\n    validation: (value: string) =&gt; {\n      if (!value || value.trim().length &lt; 2) {\n        return { valid: false, error: 'Firm name must be at least 2 characters' };\n      }\n      return true;\n    }\n  },\n  {\n    key: 'practiceArea',\n    question: 'What is the primary practice area?',\n    type: 'select',\n    required: true,\n    options: ['general', 'corporate', 'litigation', 'family-law', 'property']\n  },\n  {\n    key: 'abn',\n    question: 'What is the ABN? (optional)',\n    type: 'text',\n    required: false,\n    validation: (value: string) =&gt; {\n      if (!value) return true;\n      if (!/^\\d{11}$/.test(value.replace(/\\s/g, ''))) {\n        return { valid: false, error: 'ABN must be 11 digits' };\n      }\n      return true;\n    }\n  }\n];\n</code></pre>"},{"location":"extending/custom-entities/#13-entity-configuration-interface","title":"1.3 Entity Configuration Interface","text":"<p>Define the TypeScript interface for your entity configuration:</p> <pre><code>interface LegalPracticeConfig {\n  firmName: string;\n  practiceArea: string;\n  abn?: string;\n}\n</code></pre>"},{"location":"extending/custom-entities/#step-2-register-with-taxonomy-system","title":"Step 2: Register with Taxonomy System","text":""},{"location":"extending/custom-entities/#21-extend-the-domain-type","title":"2.1 Extend the Domain Type","text":"<p>Modify the <code>TaxonomyExpert.ts</code> file to include your custom entity domain:</p> <p>File: <code>src/skills/RecordsManager/Lib/TaxonomyExpert.ts</code></p> <pre><code>// Add your custom domain to the Domain type (line ~11)\nexport type Domain =\n  | 'household'\n  | 'corporate'\n  | 'projects'\n  | 'unit-trust'\n  | 'discretionary-trust'\n  | 'family-trust'\n  | 'legal-practice';  // Your custom entity\n</code></pre>"},{"location":"extending/custom-entities/#22-define-taxonomy-in-yaml","title":"2.2 Define Taxonomy in YAML","text":"<p>Add your entity's taxonomy to <code>Config/taxonomies.yaml</code>:</p> <p>File: <code>src/skills/RecordsManager/Config/taxonomies.yaml</code></p> <pre><code>Australia:\n  country: Australia\n  domains:\n    # ... existing domains (household, corporate, etc.) ...\n\n    # Your custom entity\n    legal-practice:\n      documentTypes:\n        - Client File\n        - Court Filing\n        - Legal Agreement\n        - Billing Invoice\n        - Cost Estimate\n        - Legal Opinion\n        - Barrister Brief\n        - Evidence Document\n        - Court Order\n        - Subpoena\n        - Affidavit\n        - Will\n        - Power of Attorney\n        - Trust Deed\n        - Property Contract\n        - Shareholders Agreement\n\n      tagCategories:\n        legal-practice:\n          - client-matter\n          - court-filing\n          - billing\n          - cost-estimate\n          - legal-opinion\n        practice-area:\n          - corporate\n          - litigation\n          - family-law\n          - property\n          - wills-estates\n        document-type:\n          - pleading\n          - contract\n          - opinion\n          - evidence\n          - administrative\n        status:\n          - active\n          - closed\n          - archived\n          - draft\n        priority:\n          - urgent\n          - normal\n          - routine\n        confidentiality:\n          - confidential\n          - restricted\n          - public\n\n      retentionRules:\n        Client File:\n          years: 7\n          reason: \"Legal professional requirements - statute of limitations\"\n        Court Filing:\n          years: 15\n          reason: \"Court record requirements - permanent file reference\"\n        Legal Agreement:\n          years: 15\n          reason: \"Contract statute of limitations + potential future disputes\"\n        Billing Invoice:\n          years: 7\n          reason: \"Tax requirements and billing dispute period\"\n        Cost Estimate:\n          years: 7\n          reason: \"Reference for billing and cost tracking\"\n        Legal Opinion:\n          years: 15\n          reason: \"Legal precedent and future reference\"\n        Court Order:\n          years: 15\n          reason: \"Court record - permanent legal reference\"\n        Will:\n          years: 15\n          reason: \"Estate planning - permanent document\"\n        Power of Attorney:\n          years: 10\n          reason: \"Validity period and potential challenges\"\n</code></pre>"},{"location":"extending/custom-entities/#23-install-the-taxonomy","title":"2.3 Install the Taxonomy","text":"<p>After adding to YAML, install it to paperless-ngx:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts install --country Australia\n</code></pre>"},{"location":"extending/custom-entities/#step-3-update-entitycreator","title":"Step 3: Update EntityCreator","text":""},{"location":"extending/custom-entities/#31-add-entity-type-to-creator","title":"3.1 Add Entity Type to Creator","text":"<p>Extend the <code>EntityCreator</code> class to handle your custom entity:</p> <pre><code>// Add to EntityCreator getQuestionsForEntityType method\n'legal-practice': [\n  {\n    key: 'firmName',\n    question: 'What is the law firm name?',\n    type: 'text',\n    required: true,\n    validation: (value: string) =&gt; {\n      if (!value || value.trim().length &lt; 2) {\n        return { valid: false, error: 'Firm name must be at least 2 characters' };\n      }\n      return true;\n    },\n  },\n  {\n    key: 'practiceArea',\n    question: 'What is the primary practice area?',\n    type: 'select',\n    required: true,\n    options: ['general', 'corporate', 'litigation', 'family-law', 'property', 'wills-estates'],\n  },\n  {\n    key: 'abn',\n    question: 'What is the ABN? (optional)',\n    type: 'text',\n    required: false,\n    validation: (value: string) =&gt; {\n      if (!value) return true;\n      if (!/^\\d{11}$/.test(value.replace(/\\s/g, ''))) {\n        return { valid: false, error: 'ABN must be 11 digits' };\n      }\n      return true;\n    },\n  },\n],\n</code></pre>"},{"location":"extending/custom-entities/#32-add-configuration-interface","title":"3.2 Add Configuration Interface","text":"<p>Add your entity configuration interface:</p> <pre><code>// Add to EntityCreator interfaces\nexport interface LegalPracticeConfig {\n  firmName: string;\n  practiceArea: string;\n  abn?: string;\n}\n\n// Add to EntityConfig interface\nexport interface EntityConfig {\n  // ... existing fields ...\n  legalPracticeConfig?: LegalPracticeConfig;\n}\n</code></pre>"},{"location":"extending/custom-entities/#33-update-configuration-builder","title":"3.3 Update Configuration Builder","text":"<p>Extend the <code>buildConfigFromAnswers</code> method:</p> <pre><code>// In buildConfigFromAnswers switch statement\ncase 'legal-practice':\n  config.legalPracticeConfig = {\n    firmName: name,\n    practiceArea: answers.practiceArea,\n    abn: answers.abn,\n  };\n  break;\n</code></pre>"},{"location":"extending/custom-entities/#34-add-validation-logic","title":"3.4 Add Validation Logic","text":"<p>Extend the validation method:</p> <pre><code>// In validateEntityConfig method\n// Legal practice validation\nif (config.type === 'legal-practice') {\n  if (!config.legalPracticeConfig) {\n    errors.push('Legal practice configuration is required');\n  } else {\n    if (!config.legalPracticeConfig.firmName) {\n      errors.push('Firm name is required');\n    }\n    if (!config.legalPracticeConfig.practiceArea) {\n      errors.push('Practice area is required');\n    }\n    if (config.legalPracticeConfig.abn &amp;&amp; !/^\\d{11}$/.test(config.legalPracticeConfig.abn.replace(/\\s/g, ''))) {\n      errors.push('ABN must be 11 digits');\n    }\n  }\n}\n</code></pre>"},{"location":"extending/custom-entities/#step-4-create-required-tags-and-storage-paths","title":"Step 4: Create Required Tags and Storage Paths","text":""},{"location":"extending/custom-entities/#41-define-required-tags","title":"4.1 Define Required Tags","text":"<p>Add your entity's required tags in <code>createRequiredTags</code>:</p> <pre><code>// In createRequiredTags method\nconst requiredTags: Record&lt;EntityType, string[]&gt; = {\n  // ... existing mappings ...\n  'legal-practice': ['legal-practice', 'confidential'],\n};\n</code></pre>"},{"location":"extending/custom-entities/#42-define-storage-path","title":"4.2 Define Storage Path","text":"<p>Add your entity's storage path in <code>createStoragePath</code>:</p> <pre><code>// In createStoragePath method\nconst pathMap: Record&lt;EntityType, (c: EntityConfig) =&gt; string | null&gt; = {\n  // ... existing mappings ...\n  'legal-practice': (c) =&gt; `/Legal Practice/${c.name}`,\n};\n</code></pre>"},{"location":"extending/custom-entities/#43-define-color","title":"4.3 Define Color","text":"<p>Add your entity's tag color in <code>getColorForEntityType</code>:</p> <pre><code>// In getColorForEntityType method\nconst colors: Record&lt;EntityType, string&gt; = {\n  // ... existing colors ...\n  'legal-practice': '#2c3e50', // Dark blue-gray for legal\n};\n</code></pre>"},{"location":"extending/custom-entities/#step-5-test-your-custom-entity","title":"Step 5: Test Your Custom Entity","text":""},{"location":"extending/custom-entities/#51-manual-testing","title":"5.1 Manual Testing","text":"<p>Create a test entity and verify:</p> <pre><code># Test entity creation\nbun run recordmanager create --entity-type legal-practice\n\n# Verify metadata suggestions\nbun run recordmanager test --suggest --file client-agreement.pdf --domain legal-practice\n\n# Check retention rules\nbun run recordmanager test --retention --document-type \"Client File\" --domain legal-practice\n</code></pre>"},{"location":"extending/custom-entities/#52-validation-commands","title":"5.2 Validation Commands","text":"<pre><code># Validate entity configuration\nbun run recordmanager validate --entity legal-practice\n\n# Test all validation rules\nbun run recordmanager validate --all\n</code></pre>"},{"location":"extending/custom-entities/#53-integration-testing","title":"5.3 Integration Testing","text":"<p>Test the complete workflow:</p> <ol> <li> <p>Create a legal practice entity</p> </li> <li> <p>Upload various document types</p> </li> <li> <p>Verify automatic tagging and retention</p> </li> <li> <p>Test search functionality</p> </li> <li> <p>Verify storage path structure</p> </li> </ol>"},{"location":"extending/custom-entities/#complete-example-medical-practice-entity","title":"Complete Example: Medical Practice Entity","text":""},{"location":"extending/custom-entities/#configuration","title":"Configuration","text":"<pre><code>// Entity interface\nexport interface MedicalPracticeConfig {\n  practiceName: string;\n  abn?: string;\n  providerType: 'clinic' | 'hospital' | 'specialist' | 'general-practice';\n}\n\n// Questions\n' medical-practice': [\n  {\n    key: 'practiceName',\n    question: 'What is the medical practice name?',\n    type: 'text',\n    required: true,\n    validation: (value: string) =&gt; {\n      if (!value || value.trim().length &lt; 2) {\n        return { valid: false, error: 'Practice name must be at least 2 characters' };\n      }\n      return true;\n    },\n  },\n  {\n    key: 'providerType',\n    question: 'What type of practice?',\n    type: 'select',\n    required: true,\n    options: ['clinic', 'hospital', 'specialist', 'general-practice'],\n  },\n  {\n    key: 'abn',\n    question: 'What is the ABN? (optional)',\n    type: 'text',\n    required: false,\n    validation: (value: string) =&gt; {\n      if (!value) return true;\n      if (!/^\\d{11}$/.test(value.replace(/\\s/g, ''))) {\n        return { valid: false, error: 'ABN must be 11 digits' };\n      }\n      return true;\n    },\n  },\n],\n</code></pre>"},{"location":"extending/custom-entities/#taxonomy-structure","title":"Taxonomy Structure","text":"<p>Add this to <code>Config/taxonomies.yaml</code> under Australia:</p> <pre><code>medical-practice:\n  documentTypes:\n    - Patient Record\n    - Medical Certificate\n    - Pathology Report\n    - Imaging Report\n    - Referral Letter\n    - Prescription\n    - Bulk Bill\n    - Private Invoice\n    - Medicare Claim\n    - Health Fund Claim\n    - Consent Form\n    - Treatment Plan\n    - Discharge Summary\n    - Specialist Report\n    - Mental Health Plan\n\n  tagCategories:\n    medical-practice:\n      - patient-record\n      - billing\n      - pathology\n      - imaging\n    document-type:\n      - clinical\n      - administrative\n      - billing\n      - compliance\n    status:\n      - active\n      - archived\n      - review\n      - completed\n    priority:\n      - urgent\n      - routine\n      - follow-up\n    confidentiality:\n      - confidential\n      - restricted\n      - public\n    provider:\n      - doctor\n      - specialist\n      - nurse\n      - admin\n\n  retentionRules:\n    Patient Record:\n      years: 7\n      reason: \"Privacy Act requirements - patient access rights\"\n    Pathology Report:\n      years: 7\n      reason: \"Medical necessity and potential future treatment\"\n    Consent Form:\n      years: 10\n      reason: \"Legal requirements - evidence of informed consent\"\n    Prescription:\n      years: 3\n      reason: \"Medical necessity and potential verification\"\n    Bulk Bill:\n      years: 7\n      reason: \"Medicare requirements and billing verification\"\n</code></pre> <p>Then install the taxonomies:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts install --country Australia\n</code></pre>"},{"location":"extending/custom-entities/#troubleshooting","title":"Troubleshooting","text":""},{"location":"extending/custom-entities/#common-issues","title":"Common Issues","text":"<p>Issue: Entity not recognized in creation</p> <ul> <li>Solution: Check EntityType includes your new type</li> </ul> <p>Issue: Questions not showing during creation</p> <ul> <li>Solution: Verify <code>getQuestionsForEntityType</code> mapping</li> </ul> <p>Issue: Tags not being created</p> <ul> <li>Solution: Check <code>requiredTags</code> mapping and tag creation logic</li> </ul> <p>Issue: Wrong storage path</p> <ul> <li>Solution: Verify <code>pathMap</code> in <code>createStoragePath</code> method</li> </ul>"},{"location":"extending/custom-entities/#debug-commands","title":"Debug Commands","text":"<pre><code># Enable debug logging\nexport DEBUG=recordsmanager:*\n\n# Test entity creation step by step\nbun run recordmanager create --entity-type legal-practice --verbose\n\n# Check tag creation\nbun run recordmanager test --tags --domain legal-practice\n\n# Validate all extensions\nbun run recordmanager validate --extensions\n</code></pre>"},{"location":"extending/custom-entities/#next-steps","title":"Next Steps","text":"<p>Once you've created your custom entity:</p> <ol> <li> <p>Create Custom Taxonomies if you need more specialized document types</p> </li> <li> <p>Add Validation Rules for quality assurance</p> </li> <li> <p>Update Documentation for your team</p> </li> <li> <p>Test Integration with existing workflows</p> </li> </ol> <p>See Custom Taxonomies for advanced configuration options.</p> <p>Last Updated: 2026-01-20</p>"},{"location":"extending/custom-taxonomies/","title":"Custom Taxonomies - Configuration Format","text":"<p>This guide explains how to create custom taxonomies with specialized document types, tags, and retention rules for your specific domain needs. You can extend existing entity types or create completely new taxonomies.</p>"},{"location":"extending/custom-taxonomies/#configuration-overview","title":"Configuration Overview","text":"<p>Taxonomies are defined in the YAML configuration file <code>Config/taxonomies.yaml</code> which specifies:</p> <ul> <li> <p>Document Types: Categories of documents you manage</p> </li> <li> <p>Tag Categories: Logical groupings for tags</p> </li> <li> <p>Retention Rules: How long to keep each document type</p> </li> </ul>"},{"location":"extending/custom-taxonomies/#format-structure","title":"Format Structure","text":"<pre><code>entity_type_name:\n  documentTypes:\n    - Document Type Name\n    - Another Document Type\n  tagCategories:\n    category_name:\n      - tag_name_1\n      - tag_name_2\n    another_category:\n      - tag_a\n      - tag_b\n  retentionRules:\n    Document Type Name:\n      years: 7\n      reason: \"Legal or business reason\"\n    Another Document Type:\n      years: 0\n      reason: \"Keep until expires\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#configuration-methods","title":"Configuration Methods","text":""},{"location":"extending/custom-taxonomies/#method-1-direct-yaml-extension-recommended","title":"Method 1: Direct YAML Extension (Recommended)","text":"<p>Edit the <code>Config/taxonomies.yaml</code> file to add your custom domain under the appropriate country:</p> <p>Location: <code>src/skills/RecordsManager/Config/taxonomies.yaml</code></p> <pre><code>Australia:\n  country: Australia\n  domains:\n    # ... existing domains (household, corporate, etc.) ...\n\n    # Add your custom domain\n    legal-practice:\n      documentTypes:\n        - Client File\n        - Court Filing\n        - Legal Agreement\n        # ... your document types\n      tagCategories:\n        legal-practice:\n          - client-matter\n          - court-filing\n          - billing\n        # ... your tag categories\n      retentionRules:\n        Client File:\n          years: 7\n          reason: \"Legal professional requirements\"\n        # ... your retention rules\n</code></pre> <p>Steps: 1. Open <code>Config/taxonomies.yaml</code> 2. Find your country section (e.g., <code>Australia:</code>) 3. Add a new domain under <code>domains:</code> 4. Define documentTypes, tagCategories, and retentionRules 5. Run <code>install</code> command to populate paperless-ngx with new taxonomies</p>"},{"location":"extending/custom-taxonomies/#method-2-add-new-country","title":"Method 2: Add New Country","text":"<p>To add support for a country not yet in the system:</p> <pre><code># Add after existing countries in taxonomies.yaml\n\nCanada:\n  country: Canada\n  domains:\n    household:\n      documentTypes:\n        - Tax Return\n        - Medical Receipt\n        # ... your document types\n      tagCategories:\n        financial:\n          - tax\n          - income\n        # ... your categories\n      retentionRules:\n        Tax Return:\n          years: 6\n          reason: \"CRA requirement - 6 years from filing date\"\n        # ... your retention rules\n</code></pre> <p>Important: After adding a new country, you must also: 1. Update the <code>Domain</code> type in <code>TaxonomyExpert.ts</code> if adding new domain types 2. Run the <code>install</code> command to bootstrap taxonomies 3. Test metadata suggestions work correctly</p>"},{"location":"extending/custom-taxonomies/#configuration-examples","title":"Configuration Examples","text":""},{"location":"extending/custom-taxonomies/#example-1-legal-practice","title":"Example 1: Legal Practice","text":"<p>Add this to your country's domains in <code>Config/taxonomies.yaml</code>:</p> <pre><code>legal-practice:\n  documentTypes:\n    - Client File\n    - Court Filing\n    - Legal Agreement\n    - Billing Invoice\n    - Cost Estimate\n    - Legal Opinion\n    - Barrister Brief\n    - Evidence Document\n    - Court Order\n    - Subpoena\n    - Affidavit\n    - Will\n    - Power of Attorney\n    - Trust Deed\n    - Property Contract\n    - Shareholders Agreement\n\n  tagCategories:\n    legal-practice:\n      - client-matter\n      - court-filing\n      - billing\n      - cost-estimate\n      - legal-opinion\n    practice-area:\n      - corporate\n      - litigation\n      - family-law\n      - property\n      - wills-estates\n      - employment\n    document-type:\n      - pleading\n      - contract\n      - opinion\n      - evidence\n      - administrative\n      - correspondence\n    status:\n      - active\n      - closed\n      - archived\n      - draft\n      - filed\n    priority:\n      - urgent\n      - normal\n      - routine\n      - follow-up\n    confidentiality:\n      - confidential\n      - restricted\n      - public\n      - internal-only\n\n  retentionRules:\n    Client File:\n      years: 7\n      reason: \"Legal professional requirements - statute of limitations\"\n    Court Filing:\n      years: 15\n      reason: \"Court record requirements - permanent file reference\"\n    Legal Agreement:\n      years: 15\n      reason: \"Contract statute of limitations + potential future disputes\"\n    Billing Invoice:\n      years: 7\n      reason: \"Tax requirements and billing dispute period\"\n    Cost Estimate:\n      years: 7\n      reason: \"Reference for billing and cost tracking\"\n    Legal Opinion:\n      years: 15\n      reason: \"Legal precedent and future reference\"\n    Court Order:\n      years: 15\n      reason: \"Court record - permanent legal reference\"\n    Will:\n      years: 15\n      reason: \"Estate planning - permanent document\"\n    Power of Attorney:\n      years: 10\n      reason: \"Validity period and potential challenges\"\n    Barrister Brief:\n      years: 7\n      reason: \"Legal work product and billing reference\"\n    Evidence Document:\n      years: 15\n      reason: \"Evidence preservation for potential appeals\"\n    Subpoena:\n      years: 7\n      reason: \"Legal requirement compliance and reference\"\n    Affidavit:\n      years: 15\n      reason: \" sworn statement - permanent legal record\"\n    Trust Deed:\n      years: 15\n      reason: \"Permanent trust document\"\n    Property Contract:\n      years: 10\n      reason: \"Property transaction and title reference\"\n    Shareholders Agreement:\n      years: 15\n      reason: \"Corporate governance - permanent record\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#example-2-medical-practice","title":"Example 2: Medical Practice","text":"<p>Add this to your country's domains in <code>Config/taxonomies.yaml</code>:</p> <pre><code>medical-practice:\n  documentTypes:\n    - Patient Record\n    - Medical Certificate\n    - Pathology Report\n    - Imaging Report\n    - Referral Letter\n    - Prescription\n    - Bulk Bill\n    - Private Invoice\n    - Medicare Claim\n    - Health Fund Claim\n    - Consent Form\n    - Treatment Plan\n    - Discharge Summary\n    - Specialist Report\n    - Mental Health Plan\n    - Immunization Record\n    - Surgical Report\n    - Pathology Request\n    - Blood Test Results\n    - X-Ray Report\n    - MRI Report\n    - CT Scan Report\n    - Ultrasound Report\n    - ECG Report\n    - Specialist Referral\n    - Care Plan\n    - Progress Note\n\n  tagCategories:\n    medical-practice:\n      - patient-record\n      - billing\n      - pathology\n      - imaging\n      - prescription\n      - referral\n    document-type:\n      - clinical\n      - administrative\n      - billing\n      - compliance\n      - diagnostic\n      - treatment\n    status:\n      - active\n      - archived\n      - review\n      - completed\n      - pending\n      - cancelled\n    priority:\n      - urgent\n      - routine\n      - follow-up\n      - routine-review\n    confidentiality:\n      - confidential\n      - restricted\n      - public\n      - internal-only\n    provider:\n      - doctor\n      - specialist\n      - nurse\n      - admin\n      - pathologist\n      - radiologist\n    patient-type:\n      - new\n      - existing\n      - follow-up\n      - chronic-care\n\n  retentionRules:\n    Patient Record:\n      years: 7\n      reason: \"Privacy Act requirements - patient access rights\"\n    Pathology Report:\n      years: 7\n      reason: \"Medical necessity and potential future treatment\"\n    Imaging Report:\n      years: 7\n      reason: \"Diagnostic reference and treatment planning\"\n    Medical Certificate:\n      years: 3\n      reason: \"Employment and insurance verification\"\n    Referral Letter:\n      years: 3\n      reason: \"Referral tracking and continuity of care\"\n    Prescription:\n      years: 3\n      reason: \"Medical necessity and potential verification\"\n    Bulk Bill:\n      years: 7\n      reason: \"Medicare requirements and billing verification\"\n    Private Invoice:\n      years: 7\n      reason: \"Billing and accounts receivable\"\n    Medicare Claim:\n      years: 7\n      reason: \"Medicare compliance and audit trail\"\n    Health Fund Claim:\n      years: 7\n      reason: \"Private health insurance verification\"\n    Consent Form:\n      years: 10\n      reason: \"Legal requirements - evidence of informed consent\"\n    Treatment Plan:\n      years: 7\n      reason: \"Treatment planning and continuity of care\"\n    Discharge Summary:\n      years: 7\n      reason: \"Hospitalization record and ongoing care\"\n    Specialist Report:\n      years: 7\n      reason: \"Specialist consultation and treatment planning\"\n    Mental Health Plan:\n      years: 7\n      reason: \"Mental health treatment and compliance requirements\"\n    Immunization Record:\n      years: 7\n      reason: \"Public health requirements and future vaccination\"\n    Surgical Report:\n      years: 7\n      reason: \"Surgical procedure documentation and outcomes\"\n    Blood Test Results:\n      years: 7\n      reason: \"Diagnostic reference and trend analysis\"\n    \"X-Ray Report\":\n      years: 7\n      reason: \"Diagnostic imaging reference\"\n    \"MRI Report\":\n      years: 7\n      reason: \"Advanced diagnostic imaging reference\"\n    \"CT Scan Report\":\n      years: 7\n      reason: \"Diagnostic imaging reference\"\n    \"Ultrasound Report\":\n      years: 7\n      reason: \"Diagnostic imaging reference\"\n    \"ECG Report\":\n      years: 7\n      reason: \"Cardiac diagnostic reference\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#example-3-real-estate-agency","title":"Example 3: Real Estate Agency","text":"<p>Add this to your country's domains in <code>Config/taxonomies.yaml</code>:</p> <pre><code>real-estate:\n  documentTypes:\n    - Listing Agreement\n    - Sale Contract\n    - Purchase Contract\n    - Lease Agreement\n    - Property Inspection Report\n    - Building Inspection Report\n    - Pest Inspection Report\n    - Valuation Report\n    - Market Appraisal\n    - Vendor Statement\n    - Contract of Sale\n    - Cooling Off Notice\n    - Finance Approval\n    - Settlement Statement\n    - Transfer of Land\n    - Body Corporate Report\n    - Strata Report\n    - Council Rates\n    - Water Rates\n    - Land Tax Notice\n    - Rental Application\n    - Tenancy Agreement\n    - Bond lodgement\n    - Condition Report\n    - Rent Roll\n    - Commission Statement\n    - Marketing Material\n    - Photography Release\n    - Open House Register\n    - Buyer Profile\n    - Seller Profile\n\n  tagCategories:\n    real-estate:\n      - listing\n      - sale\n      - lease\n      - inspection\n      - valuation\n      - marketing\n    transaction-type:\n      - sale\n      - purchase\n      - lease\n      - rental\n      - management\n    property-type:\n      - house\n      - unit\n      - townhouse\n      - commercial\n      - industrial\n      - rural\n    document-type:\n      - agreement\n      - contract\n      - inspection\n      - valuation\n      - report\n      - application\n      - statement\n      - notice\n    status:\n      - active\n      - pending\n      - completed\n      - cancelled\n      - expired\n    priority:\n      - urgent\n      - normal\n      - routine\n      - follow-up\n    confidentiality:\n      - confidential\n      - restricted\n      - public\n      - client-only\n\n  retentionRules:\n    Listing Agreement:\n      years: 7\n      reason: \"Agency agreement and commission entitlement\"\n    Sale Contract:\n      years: 15\n      reason: \"Property transaction and title reference\"\n    Lease Agreement:\n      years: 7\n      reason: \"Tenancy and landlord obligations\"\n    Property Inspection Report:\n      years: 7\n      reason: \"Due diligence and disclosure requirements\"\n    Building Inspection Report:\n      years: 7\n      reason: \"Property condition and defects disclosure\"\n    Pest Inspection Report:\n      years: 7\n      reason: \"Pest infestation disclosure and treatment\"\n    Valuation Report:\n      years: 7\n      reason: \"Property value assessment and financing\"\n    Market Appraisal:\n      years: 3\n      reason: \"Market analysis and pricing reference\"\n    Vendor Statement:\n      years: 7\n      reason: \"Property disclosure and sale process\"\n    Contract of Sale:\n      years: 15\n      reason: \"Property transfer and title records\"\n    Cooling Off Notice:\n      years: 3\n      reason: \"Statutory compliance and consumer protection\"\n    Finance Approval:\n      years: 7\n      reason: \"Financing contingency and settlement\"\n    Settlement Statement:\n      years: 15\n      reason: \"Property settlement and financial records\"\n    Transfer of Land:\n      years: 15\n      reason: \"Property title transfer - permanent record\"\n    Body Corporate Report:\n      years: 7\n      reason: \"Strata property information and levies\"\n    Strata Report:\n      years: 7\n      reason: \"Strata scheme information and compliance\"\n    Council Rates:\n      years: 7\n      reason: \"Property ownership and local government\"\n    Water Rates:\n      years: 7\n      reason: \"Property utility charges and ownership\"\n    Land Tax Notice:\n      years: 7\n      reason: \"State tax requirements and ownership\"\n    Rental Application:\n      years: 3\n      reason: \"Tenant screening and reference checking\"\n    Tenancy Agreement:\n      years: 7\n      reason: \"Tenancy terms and obligations\"\n    Bond Lodgement:\n      years: 7\n      reason: \"Security deposit and tenancy bond board\"\n    Condition Report:\n      years: 7\n      reason: \"Property condition at tenancy start/end\"\n    Rent Roll:\n      years: 7\n      reason: \"Property income and tenancy management\"\n    Commission Statement:\n      years: 7\n      reason: \"Agency commission and revenue records\"\n    Marketing Material:\n      years: 3\n      reason: \"Promotional materials and campaigns\"\n    Photography Release:\n      years: 3\n      reason: \"Model releases and property photography\"\n    Open House Register:\n      years: 3\n      reason: \"Visitor tracking and lead generation\"\n    Buyer Profile:\n      years: 3\n      reason: \"Client information and service history\"\n    Seller Profile:\n      years: 7\n      reason: \"Client relationship and service delivery\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#configuration-best-practices","title":"Configuration Best Practices","text":""},{"location":"extending/custom-taxonomies/#naming-conventions","title":"Naming Conventions","text":"<p>Document Types:</p> <ul> <li> <p>Use clear, descriptive names</p> </li> <li> <p>Start with capital letters</p> </li> <li> <p>Use consistent formatting</p> </li> <li> <p>Avoid abbreviations unless universally understood</p> </li> </ul> <p>Tag Categories:</p> <ul> <li> <p>Use lowercase with hyphens</p> </li> <li> <p>Be descriptive but concise</p> </li> <li> <p>Group related tags logically</p> </li> <li> <p>Follow established patterns when extending existing entities</p> </li> </ul> <p>Retention Rules:</p> <ul> <li> <p>Use specific, verifiable reasons</p> </li> <li> <p>Reference legal or business requirements</p> </li> <li> <p>Be consistent across similar document types</p> </li> <li> <p>Document exceptions clearly</p> </li> </ul>"},{"location":"extending/custom-taxonomies/#organizational-tips","title":"Organizational Tips","text":"<ol> <li> <p>Group Related Document Types</p> </li> <li> <p>Keep similar documents together</p> </li> <li> <p>Use logical hierarchies</p> </li> <li> <p>Avoid overlap between categories</p> </li> <li> <p>Consistent Tag Structure</p> </li> <li> <p>Use a standard tag naming convention</p> </li> <li> <p>Create hierarchical relationships</p> </li> <li> <p>Balance specificity and flexibility</p> </li> <li> <p>Realistic Retention Periods</p> </li> <li> <p>Base on legal requirements first</p> </li> <li> <p>Consider business needs second</p> </li> <li> <p>Document special cases clearly</p> </li> <li> <p>Future-Proofing</p> </li> <li> <p>Leave room for new document types</p> </li> <li> <p>Use flexible category structures</p> </li> <li> <p>Plan for organizational changes</p> </li> </ol>"},{"location":"extending/custom-taxonomies/#validation-rules","title":"Validation Rules","text":"<p>When creating custom taxonomies, ensure:</p> <ol> <li>Document Types:</li> <li>Use clear, descriptive names</li> <li>Start with capital letters</li> <li> <p>Avoid duplicates within the same domain</p> </li> <li> <p>Tag Names:</p> </li> <li>Use lowercase with hyphens only</li> <li>Pattern: <code>^[a-z][a-z0-9-]*$</code></li> <li> <p>Examples: <code>client-matter</code>, <code>urgent</code>, <code>financial</code></p> </li> <li> <p>Retention Rules:</p> </li> <li>Years must be &gt;= 0</li> <li>Use 0 for \"keep until event\" (e.g., warranties)</li> <li>Use 15 for \"permanent/indefinite\" retention</li> <li> <p>Reason must be at least 10 characters and reference legal/business requirement</p> </li> <li> <p>YAML Syntax:</p> </li> <li>Proper indentation (2 spaces per level)</li> <li>Use <code>-</code> for list items</li> <li>Use <code>:</code> for key-value pairs</li> <li>Quote strings containing special characters</li> </ol> <p>After editing <code>taxonomies.yaml</code>, validate the syntax:</p> <pre><code># Check YAML syntax\nbun run src/skills/RecordsManager/Lib/TaxonomyExpert.ts\n\n# If it loads without error, the YAML is valid\n</code></pre>"},{"location":"extending/custom-taxonomies/#integration-and-testing","title":"Integration and Testing","text":""},{"location":"extending/custom-taxonomies/#1-after-adding-custom-taxonomy","title":"1. After Adding Custom Taxonomy","text":"<p>After editing <code>Config/taxonomies.yaml</code>:</p> <pre><code># 1. Validate YAML loads correctly\nbun run src/skills/RecordsManager/Lib/TaxonomyExpert.ts\n\n# 2. Install the new taxonomies to paperless-ngx\nbun run src/skills/RecordsManager/Tools/RecordManager.ts install --country Australia\n\n# 3. Test document type recognition\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload sample.pdf --domain legal-practice\n\n# 4. Check retention requirements\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain legal-practice\n</code></pre>"},{"location":"extending/custom-taxonomies/#2-test-metadata-suggestions","title":"2. Test Metadata Suggestions","text":"<pre><code># Test automatic tagging with a sample document\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload legal-agreement.pdf --domain legal-practice\n\n# Verify the document was tagged correctly\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --tags \"legal-practice\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#3-integration-testing","title":"3. Integration Testing","text":"<pre><code># Complete workflow test\n# 1. Upload various document types\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload client-file.pdf --domain legal-practice\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload court-filing.pdf --domain legal-practice\n\n# 2. Search by tags\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --tags \"client-matter,active\"\n\n# 3. Check retention requirements\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain legal-practice\n</code></pre>"},{"location":"extending/custom-taxonomies/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"extending/custom-taxonomies/#multi-country-support","title":"Multi-Country Support","text":"<p>To support the same domain across multiple countries with different retention rules:</p> <pre><code># In taxonomies.yaml\n\nAustralia:\n  country: Australia\n  domains:\n    legal-practice:\n      retentionRules:\n        Client File:\n          years: 7\n          reason: \"Legal Profession Act - statute of limitations\"\n\n\"United States\":\n  country: \"United States\"\n  domains:\n    legal-practice:\n      retentionRules:\n        Client File:\n          years: 7\n          reason: \"State bar requirements and statute of limitations\"\n        Attorney-Client Privilege:\n          years: 15\n          reason: \"Privilege protection - maintain confidentiality\"\n\n\"United Kingdom\":\n  country: \"United Kingdom\"\n  domains:\n    legal-practice:\n      retentionRules:\n        Client File:\n          years: 6\n          reason: \"Solicitors Regulation Authority requirements\"\n</code></pre>"},{"location":"extending/custom-taxonomies/#domain-specific-document-types","title":"Domain-Specific Document Types","text":"<p>You can define completely different document types for the same domain name across countries:</p> <pre><code>Australia:\n  domains:\n    medical-practice:\n      documentTypes:\n        - Medicare Claim\n        - Bulk Bill\n\n\"United States\":\n  domains:\n    medical-practice:\n      documentTypes:\n        - Insurance Claim\n        - Medicaid Claim\n        - Medicare Claim\n</code></pre>"},{"location":"extending/custom-taxonomies/#using-the-taxonomyexpert-api","title":"Using the TaxonomyExpert API","text":"<p>Once your YAML is configured, the TaxonomyExpert will automatically load it. You can query it programmatically:</p> <pre><code>import { TaxonomyExpert } from './TaxonomyExpert.js';\n\n// Create expert for specific country\nconst expert = new TaxonomyExpert('Australia');\n\n// Get document types for a domain\nconst docTypes = expert.getDocumentTypes('legal-practice');\n\n// Get retention requirements\nconst retention = expert.getRetentionRequirements('Client File', 'legal-practice');\n// Returns: { years: 7, reason: \"...\" }\n\n// Suggest metadata for a file\nconst suggestions = expert.suggestMetadata('client-agreement.pdf', '', 'legal-practice');\n// Returns: { tags: [...], documentType: \"Legal Agreement\", retentionYears: 15, ... }\n</code></pre>"},{"location":"extending/custom-taxonomies/#troubleshooting","title":"Troubleshooting","text":""},{"location":"extending/custom-taxonomies/#common-configuration-issues","title":"Common Configuration Issues","text":"<p>Issue: Document types not recognized</p> <ul> <li> <p>Solution: Verify exact spelling in configuration</p> </li> <li> <p>Solution: Check case sensitivity and formatting</p> </li> </ul> <p>Issue: Tags not being applied</p> <ul> <li> <p>Solution: Verify tag category definitions</p> </li> <li> <p>Solution: Check tag naming conventions</p> </li> </ul> <p>Issue: Wrong retention periods</p> <ul> <li> <p>Solution: Verify retention rule syntax</p> </li> <li> <p>Solution: Check document type matching</p> </li> </ul> <p>Issue: Entity not available</p> <ul> <li> <p>Solution: Verify entity type registration</p> </li> <li> <p>Solution: Check TaxonomyExpert imports</p> </li> </ul>"},{"location":"extending/custom-taxonomies/#debug-commands","title":"Debug Commands","text":"<pre><code># Enable taxonomy debugging\nexport DEBUG=recordsmanager:taxonomy\n\n# Validate configuration syntax\nbun run recordmanager validate --taxonomies --verbose\n\n# Test specific document recognition\nbun run recordmanager test --recognize --file test.pdf --domain legal-practice --verbose\n\n# Check tag generation\nbun run recordmanager test --tags --file sample.pdf --domain legal-practice --show-matching\n</code></pre>"},{"location":"extending/custom-taxonomies/#migration-guide","title":"Migration Guide","text":""},{"location":"extending/custom-taxonomies/#upgrading-existing-taxonomies","title":"Upgrading Existing Taxonomies","text":"<ol> <li>Backup Current Configuration</li> </ol> <pre><code>cp src/skills/RecordsManager/Config/taxonomies.yaml src/skills/RecordsManager/Config/taxonomies.yaml.backup\n</code></pre> <ol> <li>Apply New Configuration</li> </ol> <p>Edit <code>Config/taxonomies.yaml</code> directly:    - Add new document types to the <code>documentTypes</code> list    - Add new tags to appropriate <code>tagCategories</code>    - Add retention rules for new document types</p> <ol> <li>Install Updated Taxonomies</li> </ol> <pre><code># Reinstall taxonomies to paperless-ngx\nbun run src/skills/RecordsManager/Tools/RecordManager.ts install --country Australia\n</code></pre> <p>This will:    - Create any new tags that don't exist    - Create any new document types that don't exist    - Skip existing resources (safe to run multiple times)</p> <ol> <li>Validate Changes</li> </ol> <pre><code># Test that YAML loads correctly\nbun run src/skills/RecordsManager/Lib/TaxonomyExpert.ts\n\n# Test document recognition\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload test-document.pdf --domain legal-practice\n</code></pre> <ol> <li> <p>Update Documentation</p> </li> <li> <p>Document new document types</p> </li> <li>Update user guides</li> <li>Train team members</li> </ol>"},{"location":"extending/custom-taxonomies/#data-migration-considerations","title":"Data Migration Considerations","text":"<ol> <li> <p>Existing Documents: Review metadata for affected documents using search</p> </li> <li> <p>Search Queries: Update search strategies for new tags</p> </li> <li> <p>Retention Policies: Verify new rules don't conflict with existing requirements</p> </li> <li> <p>User Training: Ensure users understand new categorization</p> </li> </ol>"},{"location":"extending/custom-taxonomies/#rollback-procedure","title":"Rollback Procedure","text":"<p>If you need to rollback changes:</p> <pre><code># 1. Restore backup\ncp src/skills/RecordsManager/Config/taxonomies.yaml.backup src/skills/RecordsManager/Config/taxonomies.yaml\n\n# 2. Manually delete any newly created tags/document types in paperless-ngx UI\n# (There is no automatic rollback for paperless-ngx resources)\n\n# 3. Verify rollback\nbun run src/skills/RecordsManager/Lib/TaxonomyExpert.ts\n</code></pre> <p>Last Updated: 2026-01-22</p>"},{"location":"extending/taxonomies/","title":"Taxonomy System Overview","text":"<p>The Records Manager Skill uses a sophisticated taxonomy system that provides intelligent document organization, categorization, and retention management. This document explains how the system works and what built-in options are available.</p>"},{"location":"extending/taxonomies/#system-architecture","title":"System Architecture","text":""},{"location":"extending/taxonomies/#hierarchical-inheritance-model","title":"Hierarchical Inheritance Model","text":"<p>The taxonomy system uses a four-layer inheritance model that ensures consistency while allowing flexibility:</p> <pre><code>graph TD\n    A[Base Taxonomy Layer] --&gt; B[Country Guidelines Layer]\n    B --&gt; C[Entity Type Layer]\n    C --&gt; D[Custom Extensions Layer]\n\n    subgraph \"Base Layer\"\n        A1[Common Patterns]\n        A2[Universal Document Types]\n        A3[Standard Categories]\n    end\n\n    subgraph \"Country Layer\"\n        B1[Australia Guidelines]\n        B2[United States Guidelines]\n        B3[United Kingdom Guidelines]\n    end\n\n    subgraph \"Entity Layer\"\n        C1[Household]\n        C2[Corporate]\n        C3[Unit Trust]\n        C4[Discretionary Trust]\n        C5[Family Trust]\n        C6[Project]\n    end\n\n    subgraph \"Custom Layer\"\n        D1[Your Extensions]\n        D2[Specialized Rules]\n    end</code></pre>  Use mouse to pan and zoom"},{"location":"extending/taxonomies/#data-structure","title":"Data Structure","text":"<p>Each taxonomy consists of:</p> <pre><code>interface DomainTaxonomy {\n  documentTypes: string[];          // Available document categories\n  tagCategories: {                  // Logical grouping of tags\n    [category: string]: string[];   // Category \u2192 Array of tags\n  };\n  retentionRules: {                // How long to keep documents\n    [documentType: string]: {\n      years: number;               // Retention period in years\n      reason: string;              // Legal/business reason\n    };\n  };\n}\n</code></pre>"},{"location":"extending/taxonomies/#built-in-entity-types","title":"Built-in Entity Types","text":""},{"location":"extending/taxonomies/#1-household","title":"1. Household","text":"<p>Purpose: Personal and family document management</p> <p>Supported Countries: Australia, United States, United Kingdom</p> <p>Document Types:</p> <ul> <li> <p>Financial: Tax Returns, Bank Statements, Investment Statements</p> </li> <li> <p>Medical: Medical Records, Prescriptions, Test Results</p> </li> <li> <p>Insurance: Policies, Claims, Certificates</p> </li> <li> <p>Legal: Contracts, Wills, Powers of Attorney</p> </li> <li> <p>Identity: Birth Certificates, Passports, Driver Licenses</p> </li> <li> <p>Household: Utility Bills, Rate Notices, Pet Records</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>Pet document tracking (vaccinations, microchips, adoption records)</p> </li> <li> <p>Australian tax compliance (ATO requirements)</p> </li> <li> <p>Identity document management</p> </li> <li> <p>Vehicle and lease documentation</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Tax Returns: 7 years (ATO Section 254)</p> </li> <li> <p>Medical Receipts: 7 years (tax substantiation)</p> </li> <li> <p>Birth Certificates: 15 years (permanent records)</p> </li> </ul>"},{"location":"extending/taxonomies/#2-corporate","title":"2. Corporate","text":"<p>Purpose: Business document management</p> <p>Supported Countries: Australia</p> <p>Document Types:</p> <ul> <li> <p>Financial: Invoices, Receipts, Financial Statements</p> </li> <li> <p>HR: Employee Records, Payroll, Contracts</p> </li> <li> <p>Compliance: Reports, Certificates, Licenses</p> </li> <li> <p>Corporate: Board Resolutions, Shareholder Records</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>Fair Work Act compliance</p> </li> <li> <p>Corporations Act requirements</p> </li> <li> <p>GST and BAS documentation</p> </li> <li> <p>Corporate governance records</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Financial Statements: 7 years (Corporations Act)</p> </li> <li> <p>Board Resolutions: 15 years (permanent records)</p> </li> <li> <p>Payroll Records: 7 years (ATO requirement)</p> </li> </ul>"},{"location":"extending/taxonomies/#3-unit-trust","title":"3. Unit Trust","text":"<p>Purpose: Unit-based investment trust management</p> <p>Supported Countries: Australia</p> <p>Document Types:</p> <ul> <li> <p>Governance: Trust Deed, Trustee Appointments</p> </li> <li> <p>Financial: Annual Statements, Distributions</p> </li> <li> <p>Compliance: Tax Returns, GST Registration</p> </li> <li> <p>Registry: Unit Registry, Unit Transfers</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>Capital Gains Tax tracking</p> </li> <li> <p>Unit registry management</p> </li> <li> <p>Distribution statements</p> </li> <li> <p>Actuarial certificates</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Trust Deed: 15 years (permanent)</p> </li> <li> <p>Unit Registry: 15 years (ownership records)</p> </li> <li> <p>Annual Statements: 7 years (tax substantiation)</p> </li> </ul>"},{"location":"extending/taxonomies/#4-discretionary-trust","title":"4. Discretionary Trust","text":"<p>Purpose: Flexible distribution trust management</p> <p>Supported Countries: Australia</p> <p>Document Types:</p> <ul> <li> <p>Governance: Trustee Resolutions, Minutes</p> </li> <li> <p>Distribution: Distribution Minutes, Beneficiary Declarations</p> </li> <li> <p>Compliance: Tax Returns, BAS Statements</p> </li> <li> <p>Legal: Trust Deed Variations, Appointor Documents</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>Section 100A ITAA 1936 compliance</p> </li> <li> <p>Beneficiary management</p> </li> <li> <p>Streaming resolutions</p> </li> <li> <p>Discretionary distribution decisions</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Trustee Resolutions: 7 years (distribution substantiation)</p> </li> <li> <p>Distribution Minutes: 7 years (ATO evidence)</p> </li> <li> <p>Trust Deed: 15 years (permanent)</p> </li> </ul>"},{"location":"extending/taxonomies/#5-family-trust","title":"5. Family Trust","text":"<p>Purpose: Family wealth management with Family Trust Election (FTE)</p> <p>Supported Countries: Australia</p> <p>Document Types:</p> <ul> <li> <p>Core: Trust Deed, Family Trust Election</p> </li> <li> <p>Governance: Trustee Resolutions, Minutes</p> </li> <li> <p>Distribution: Distribution Minutes, Income Statements</p> </li> <li> <p>Compliance: Tax Returns, Actuarial Certificates</p> </li> <li> <p>Special: Interpositionary/Loss Trust Elections</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>CRITICAL: 5-year retention from FTE date (not EOFY)</p> </li> <li> <p>Section 272-80 ITAA 1936 compliance</p> </li> <li> <p>Family-specific governance</p> </li> <li> <p>FTE date tracking</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Family Trust Election: 5 years from FTE date</p> </li> <li> <p>Trustee Resolutions: 7 years (distribution substantiation)</p> </li> <li> <p>Trust Deed: 15 years (permanent)</p> </li> </ul>"},{"location":"extending/taxonomies/#6-project","title":"6. Project","text":"<p>Purpose: Time-bound project documentation</p> <p>Supported Countries: Australia</p> <p>Document Types:</p> <ul> <li> <p>Planning: Project Plans, Requirements</p> </li> <li> <p>Execution: Contracts, Invoices, Progress Reports</p> </li> <li> <p>Closure: Final Reports, Acceptance Documents</p> </li> <li> <p>Types: Software, Construction, Research, Creative</p> </li> </ul> <p>Key Features:</p> <ul> <li> <p>Project lifecycle tracking</p> </li> <li> <p>Type-specific categorization</p> </li> <li> <p>Date-based project management</p> </li> <li> <p>Milestone documentation</p> </li> </ul> <p>Retention Examples:</p> <ul> <li> <p>Project Plans: 7 years (planning documentation)</p> </li> <li> <p>Final Reports: 10 years (completion records)</p> </li> <li> <p>Contracts: 10 years (statute of limitations)</p> </li> </ul>"},{"location":"extending/taxonomies/#country-variations","title":"Country Variations","text":""},{"location":"extending/taxonomies/#australia","title":"Australia","text":"<ul> <li> <p>Primary Focus: ATO compliance</p> </li> <li> <p>Key Laws: Tax Administration Act 1953, Corporations Act</p> </li> <li> <p>Special Features: Family Trust Elections, FTE date tracking</p> </li> <li> <p>Retention Periods: 5-15 years, with some permanent records</p> </li> </ul>"},{"location":"extending/taxonomies/#united-states","title":"United States","text":"<ul> <li> <p>Primary Focus: IRS compliance</p> </li> <li> <p>Key Laws: Internal Revenue Code</p> </li> <li> <p>Special Features: State-specific variations</p> </li> <li> <p>Retention Periods: 7-10 years for most documents</p> </li> </ul>"},{"location":"extending/taxonomies/#united-kingdom","title":"United Kingdom","text":"<ul> <li> <p>Primary Focus: HMRC compliance</p> </li> <li> <p>Key Laws: Taxes Management Act</p> </li> <li> <p>Special Features: Self-assessment requirements</p> </li> <li> <p>Retention Periods: 7 years for tax documents</p> </li> </ul>"},{"location":"extending/taxonomies/#tag-categories","title":"Tag Categories","text":"<p>All entities use standardized tag categories:</p>"},{"location":"extending/taxonomies/#universal-categories","title":"Universal Categories","text":"<ul> <li> <p>Financial: Tax, income, expense, investment</p> </li> <li> <p>Legal: Contracts, agreements, wills, powers of attorney</p> </li> <li> <p>Medical: Doctor, hospital, pharmacy, insurance</p> </li> <li> <p>Insurance: Home, vehicle, health, life</p> </li> <li> <p>Compliance: Audit, reports, certificates</p> </li> </ul>"},{"location":"extending/taxonomies/#entity-specific-categories","title":"Entity-Specific Categories","text":"<ul> <li> <p>Household: Utility, maintenance, warranty, pet</p> </li> <li> <p>Corporate: HR, payroll, board, shareholder</p> </li> <li> <p>Trust: Governance, beneficiary, distribution, unit</p> </li> <li> <p>Project: Planning, execution, closure, milestone</p> </li> </ul>"},{"location":"extending/taxonomies/#special-categories","title":"Special Categories","text":"<ul> <li> <p>Identity: Birth, passport, license, citizenship</p> </li> <li> <p>Vehicle: Registration, lease, insurance</p> </li> <li> <p>Education: Transcript, certificate, qualification</p> </li> </ul>"},{"location":"extending/taxonomies/#retention-rules","title":"Retention Rules","text":""},{"location":"extending/taxonomies/#retention-period-types","title":"Retention Period Types","text":"<ul> <li> <p>Years: Numeric value (e.g., 7 years)</p> </li> <li> <p>Permanent: Keep indefinitely (15+ years)</p> </li> <li> <p>Until Expired: Keep until document expires (0 years = until expiry)</p> </li> </ul>"},{"location":"extending/taxonomies/#special-handling","title":"Special Handling","text":"<ul> <li> <p>Family Trust Elections: 5 years from FTE date, not EOFY</p> </li> <li> <p>Trust Deeds: Permanent records (15+ years)</p> </li> <li> <p>Statute of Limitations: Generally 10 years for contracts</p> </li> <li> <p>Tax Requirements: 7 years for most tax documents</p> </li> </ul>"},{"location":"extending/taxonomies/#legal-references","title":"Legal References","text":"<ul> <li> <p>Australia: Section 254 Tax Administration Act 1953</p> </li> <li> <p>Australia: Section 272-80 ITAA 1936 (Family Trusts)</p> </li> <li> <p>US: IRS recommendation (3-7 years)</p> </li> <li> <p>UK: HMRC self-assessment (7 years)</p> </li> </ul>"},{"location":"extending/taxonomies/#metadata-suggestions","title":"Metadata Suggestions","text":"<p>The system automatically suggests metadata based on:</p> <ol> <li> <p>Filename Analysis: Pattern matching against known document types</p> </li> <li> <p>Content Analysis: OCR text extraction and keyword matching</p> </li> <li> <p>Entity Context: Current domain and country settings</p> </li> <li> <p>Historical Patterns: User behavior and common associations</p> </li> </ol>"},{"location":"extending/taxonomies/#suggestion-priority","title":"Suggestion Priority","text":"<ol> <li> <p>Document Type (highest confidence)</p> </li> <li> <p>Primary Category Tags</p> </li> <li> <p>Secondary Descriptive Tags</p> </li> <li> <p>Entity and Domain Tags</p> </li> <li> <p>Custom Notes and Warnings</p> </li> </ol>"},{"location":"extending/taxonomies/#extending-the-system","title":"Extending the System","text":"<p>To add new capabilities:</p> <ol> <li> <p>Custom Entities: Create new organizational scopes</p> </li> <li> <p>Custom Taxonomies: Define specialized document types</p> </li> <li> <p>Country Adaptations: Modify existing rules for new jurisdictions</p> </li> <li> <p>Validation Rules: Add custom metadata validation</p> </li> </ol> <p>See the other sections in this documentation for detailed guides.</p>"},{"location":"extending/taxonomies/#troubleshooting","title":"Troubleshooting","text":""},{"location":"extending/taxonomies/#common-issues","title":"Common Issues","text":"<ul> <li> <p>No taxonomy found: Check country/entity type configuration</p> </li> <li> <p>Incorrect retention: Verify document type detection</p> </li> <li> <p>Missing tags: Check tag category definitions</p> </li> <li> <p>Wrong suggestions: Review filename and content analysis</p> </li> </ul>"},{"location":"extending/taxonomies/#validation-commands","title":"Validation Commands","text":"<pre><code># Check taxonomy configuration\nbun run recordmanager validate --taxonomy\n\n# Test metadata suggestions\nbun run recordmanager test --suggest --file sample.pdf\n\n# Verify retention calculations\nbun run recordmanager test --retention --document-type \"Tax Return\"\n</code></pre>"},{"location":"extending/taxonomies/#taxonomy-inheritance","title":"Taxonomy Inheritance","text":"<p>The taxonomy system implements a sophisticated inheritance model that ensures consistency while allowing extensive customization. This detailed flowchart shows how taxonomies are structured and extended across different layers.</p>"},{"location":"extending/taxonomies/#taxonomy-inheritance-flowchart","title":"Taxonomy Inheritance Flowchart","text":"<pre><code>flowchart TD\n    subgraph \"Base Taxonomy Layer\"\n        A[Base Document Types]\n        B[Universal Categories]\n        C[Standard Retention Rules]\n        D[Common Patterns]\n    end\n\n    subgraph \"Country Guidelines Layer\"\n        E[Australia ATO Rules]\n        F[US IRS Guidelines]\n        G[UK HMRC Standards]\n        H[Country-Specific Categories]\n        I[Jurisdictional Retention]\n        J[Local Compliance Rules]\n    end\n\n    subgraph \"Entity Type Layer\"\n        K[Household Rules]\n        L[Corporate Regulations]\n        M[Unit Trust Framework]\n        N[Discretionary Trust Policies]\n        O[Family Trust Procedures]\n        P[Project Guidelines]\n        Q[Entity-Specific Categories]\n        R[Domain-Specific Retention]\n    end\n\n    subgraph \"Custom Extensions Layer\"\n        S[Custom Document Types]\n        T[Specialized Categories]\n        U[Enterprise Rules]\n        V[Departmental Policies]\n        W[Custom Retention Rules]\n        X[User Extensions]\n    end\n\n    %% Inheritance flows\n    A --&gt; E\n    A --&gt; F\n    A --&gt; G\n\n    B --&gt; H\n    C --&gt; I\n    D --&gt; J\n\n    E --&gt; K\n    E --&gt; L\n    E --&gt; M\n    E --&gt; N\n    E --&gt; O\n    E --&gt; P\n    F --&gt; K\n    F --&gt; L\n    G --&gt; K\n    G --&gt; L\n\n    H --&gt; Q\n    I --&gt; R\n    J --&gt; Q\n\n    K --&gt; S\n    L --&gt; T\n    M --&gt; U\n    N --&gt; V\n    O --&gt; W\n    P --&gt; X\n\n    %% Override capabilities\n    style A fill:#e3f2fd,stroke:#1976d2\n    style E fill:#fff3e0,stroke:#f57c00\n    style K fill:#e8f5e8,stroke:#388e3c\n    style S fill:#fce4ec,stroke:#c2185b\n\n    classDef base fill:#e3f2fd,stroke:#1976d2\n    classDef country fill:#fff3e0,stroke:#f57c00\n    classDef entity fill:#e8f5e8,stroke:#388e3c\n    classDef custom fill:#fce4ec,stroke:#c2185b</code></pre>  Use mouse to pan and zoom"},{"location":"extending/taxonomies/#inheritance-rules","title":"Inheritance Rules","text":""},{"location":"extending/taxonomies/#base-layer-inheritance","title":"Base Layer Inheritance","text":"<ul> <li> <p>Universal Document Types: Core document types recognized worldwide</p> </li> <li> <p>Standard Categories: Common classification schemes</p> </li> <li> <p>Base Retention Rules: Minimum retention requirements</p> </li> <li> <p>Pattern Recognition: Document classification patterns</p> </li> </ul>"},{"location":"extending/taxonomies/#country-layer-override","title":"Country Layer Override","text":"<ul> <li> <p>Jurisdictional Rules: Country-specific legal requirements</p> </li> <li> <p>Local Categories: Region-specific document classifications</p> </li> <li> <p>Modified Retention: Adjusted retention periods by jurisdiction</p> </li> <li> <p>Compliance Extensions: Additional compliance rules</p> </li> </ul>"},{"location":"extending/taxonomies/#entity-layer-specialization","title":"Entity Layer Specialization","text":"<ul> <li> <p>Domain Rules: Entity-specific document handling</p> </li> <li> <p>Specialized Categories: Entity-focused classification schemes</p> </li> <li> <p>Extended Retention: Entity-specific retention modifications</p> </li> <li> <p>Business Logic: Entity workflow requirements</p> </li> </ul>"},{"location":"extending/taxonomies/#custom-layer-extension","title":"Custom Layer Extension","text":"<ul> <li> <p>Complete Override: Full customization capabilities</p> </li> <li> <p>Selective Extension: Add new types without replacing</p> </li> <li> <p>Hybrid Inheritance: Mix base and custom rules</p> </li> <li> <p>Dynamic Configuration: Runtime configuration support</p> </li> </ul>"},{"location":"extending/taxonomies/#resolution-order","title":"Resolution Order","text":"<p>The system applies taxonomies in the following order:</p> <ol> <li> <p>Custom Extensions Layer: User-defined rules (highest priority)</p> </li> <li> <p>Entity Type Layer: Domain-specific rules</p> </li> <li> <p>Country Guidelines Layer: Jurisdictional requirements</p> </li> <li> <p>Base Taxonomy Layer: Universal defaults (lowest priority)</p> </li> </ol>"},{"location":"extending/taxonomies/#conflict-resolution","title":"Conflict Resolution","text":"<p>When multiple taxonomies define the same document type:</p> <ol> <li> <p>Custom Extensions: Always take precedence</p> </li> <li> <p>Entity Rules: Override country rules for specific entities</p> </li> <li> <p>Country Rules: Override base rules for jurisdiction</p> </li> <li> <p>Base Rules: Used as fallback when no specific rules exist</p> </li> </ol>"},{"location":"extending/taxonomies/#extension-points","title":"Extension Points","text":""},{"location":"extending/taxonomies/#custom-entities","title":"Custom Entities","text":"<p>Add new organizational scopes: <pre><code>interface CustomEntity {\n  name: string;\n  documentTypes: string[];\n  categories: string[][];\n  retentionRules: RetentionRule[];\n}\n</code></pre></p>"},{"location":"extending/taxonomies/#custom-taxonomies","title":"Custom Taxonomies","text":"<p>Define specialized classifications: <pre><code>interface CustomTaxonomy {\n  documentType: string;\n  categories: string[];\n  tags: string[];\n  retention: RetentionPeriod;\n  metadata?: MetadataRule[];\n}\n</code></pre></p>"},{"location":"extending/taxonomies/#country-adaptations","title":"Country Adaptations","text":"<p>Modify existing rules: <pre><code>interface CountryAdaptation {\n  country: string;\n  modifications: {\n    documentTypes?: string[];\n    retentionAdjustments?: Record&lt;string, number&gt;;\n    additionalCategories?: string[][];\n  };\n}\n</code></pre></p>"},{"location":"extending/taxonomies/#inheritance-benefits","title":"Inheritance Benefits","text":"<ol> <li> <p>Consistency: Base rules ensure universal document handling</p> </li> <li> <p>Compliance: Country rules meet legal requirements</p> </li> <li> <p>Specialization: Entity rules address business needs</p> </li> <li> <p>Flexibility: Custom rules allow enterprise adaptation</p> </li> <li> <p>Maintenance: Updates propagate through inheritance chain</p> </li> </ol>"},{"location":"extending/taxonomies/#example-tax-return-processing","title":"Example: Tax Return Processing","text":"<ol> <li> <p>Base Layer: Generic \"Tax Return\" type, 7-year retention</p> </li> <li> <p>Australia Layer: ATO-specific rules, BAS requirements</p> </li> <li> <p>Household Entity: Personal tax processing, individual deductions</p> </li> <li> <p>Custom Extension: Additional categories for crypto tax reporting</p> </li> </ol> <p>This inheritance model provides a robust foundation for document management while allowing extensive customization to meet specific organizational needs.</p> <p>Last Updated: 2026-01-20</p>"},{"location":"extending/validation/","title":"Taxonomy Validation","text":"<p>This guide explains how to validate your custom taxonomies, troubleshoot common issues, and ensure proper integration with the Records Manager Skill system.</p>"},{"location":"extending/validation/#overview","title":"Overview","text":"<p>The validation system helps ensure your taxonomies are correctly configured and will work properly with the document management system. It checks for:</p> <ul> <li> <p>Syntax Errors: Invalid YAML/JSON formatting</p> </li> <li> <p>Structure Validation: Correct taxonomy organization</p> </li> <li> <p>Data Integrity: Valid document types, tags, and retention rules</p> </li> <li> <p>System Integration: Proper registration and availability</p> </li> </ul>"},{"location":"extending/validation/#cli-validation-commands","title":"CLI Validation Commands","text":""},{"location":"extending/validation/#1-basic-validation","title":"1. Basic Validation","text":"<pre><code># Validate all taxonomies\nbun run recordmanager validate --taxonomies\n\n# Validate specific entity type\nbun run recordmanager validate --entity legal-practice\n\n# Validate configuration file\nbun run recordmanager validate --config custom-taxonomy.yaml\n\n# Show detailed validation results\nbun run recordmanager validate --taxonomies --verbose\n</code></pre>"},{"location":"extending/validation/#2-component-specific-validation","title":"2. Component-Specific Validation","text":"<pre><code># Validate document types\nbun run recordmanager validate --document-types --domain legal-practice\n\n# Validate tag categories\nbun run recordmanager validate --tags --domain legal-practice\n\n# Validate retention rules\nbun run recordmanager validate --retention --domain legal-practice\n\n# Validate all components\nbun run recordmanager validate --all --domain legal-practice\n</code></pre>"},{"location":"extending/validation/#3-integration-testing","title":"3. Integration Testing","text":"<pre><code># Test metadata suggestions\nbun run recordmanager validate --suggestions --file sample.pdf --domain legal-practice\n\n# Test retention calculations\nbun run recordmanager validate --retention-calc --document-type \"Client File\" --domain legal-practice\n\n# Test search functionality\nbun run recordmanager validate --search --tags \"billing,urgent\" --domain legal-practice\n\n# Complete integration test\nbun run recordmanager validate --integration --domain legal-practice\n</code></pre>"},{"location":"extending/validation/#4-advanced-validation","title":"4. Advanced Validation","text":"<pre><code># Check for conflicts with existing taxonomies\nbun run recordmanager validate --conflicts --domain legal-practice\n\n# Validate against jurisdiction requirements\nbun run recordmanager validate --jurisdiction --domain legal-practice --country Australia\n\n# Performance testing\nbun run recordmanager validate --performance --domain legal-practice\n\n# Security audit\nbun run recordmanager validate --security --domain legal-practice\n</code></pre>"},{"location":"extending/validation/#validation-modes","title":"Validation Modes","text":""},{"location":"extending/validation/#mode-1-quick-check","title":"Mode 1: Quick Check","text":"<p><pre><code>bun run recordmanager validate --quick\n</code></pre> *   Checks basic syntax *   Verifies required fields *   Ensures no obvious errors</p>"},{"location":"extending/validation/#mode-2-standard-validation","title":"Mode 2: Standard Validation","text":"<p><pre><code>bun run recordmanager validate --standard\n</code></pre> *   All quick checks *   Document type validation *   Tag format validation *   Basic retention rule checking</p>"},{"location":"extending/validation/#mode-3-comprehensive-validation","title":"Mode 3: Comprehensive Validation","text":"<p><pre><code>bun run recordmanager validate --comprehensive\n</code></pre> *   All standard checks *   Integration testing *   Performance analysis *   Conflict detection</p>"},{"location":"extending/validation/#mode-4-production-validation","title":"Mode 4: Production Validation","text":"<p><pre><code>bun run recordmanager validate --production\n</code></pre> *   All comprehensive checks *   Data migration safety *   User permission verification *   Audit trail testing</p>"},{"location":"extending/validation/#common-errors-and-troubleshooting","title":"Common Errors and Troubleshooting","text":""},{"location":"extending/validation/#error-invalid-taxonomy-syntax","title":"Error: Invalid Taxonomy Syntax","text":"<p>Error Message: <code>Invalid YAML syntax in custom-taxonomy.yaml</code></p> <p>Causes:</p> <ul> <li> <p>Missing colons or incorrect indentation</p> </li> <li> <p>Unbalanced quotes or brackets</p> </li> <li> <p>Invalid date formats</p> </li> <li> <p>Special characters in strings</p> </li> </ul> <p>Solutions: <pre><code># Check YAML syntax\npython -c \"import yaml; yaml.safe_load(open('custom-taxonomy.yaml'))\"\n\n# Use online YAML validator\n# https://yaml-online-parser.appspot.com/\n\n# Validate with schema\nbun run recordmanager validate --schema custom-taxonomy.yaml\n</code></pre></p>"},{"location":"extending/validation/#error-missing-required-fields","title":"Error: Missing Required Fields","text":"<p>Error Message: <code>Missing required field: document_types in legal-practice</code></p> <p>Causes:</p> <ul> <li> <p>Required sections missing from configuration</p> </li> <li> <p>Incorrect field names</p> </li> <li> <p>Case sensitivity issues</p> </li> </ul> <p>Solutions: <pre><code># Ensure all required fields are present\nlegal-practice:\n  document_types: []          # Required\n  tag_categories: {}          # Required\n  retention_rules: {}        # Required\n</code></pre></p>"},{"location":"extending/validation/#error-duplicate-document-types","title":"Error: Duplicate Document Types","text":"<p>Error Message: <code>Duplicate document type: \"Client File\" found in multiple categories</code></p> <p>Causes:</p> <ul> <li> <p>Same document type defined in multiple places</p> </li> <li> <p>Inconsistent naming conventions</p> </li> <li> <p>Merge conflicts during configuration updates</p> </li> </ul> <p>Solutions: <pre><code># Find duplicates\nbun run recordmanager validate --duplicates --domain legal-practice\n\n# Check document type uniqueness\ngrep -r \"Client File\" TaxonomyExpert.ts\n</code></pre></p>"},{"location":"extending/validation/#error-invalid-tag-format","title":"Error: Invalid Tag Format","text":"<p>Error Message: <code>Invalid tag format: \"Client File\" - must be lowercase with hyphens</code></p> <p>Causes:</p> <ul> <li> <p>Uppercase letters in tags</p> </li> <li> <p>Spaces instead of hyphens</p> </li> <li> <p>Special characters</p> </li> <li> <p>Starting/ending hyphens</p> </li> </ul> <p>Solutions: <pre><code># Correct tag format\ntag_categories:\n  legal-practice:\n*   client-file        # \u2713 Correct\n*   billing           # \u2713 Correct\n*   urgent-priority   # \u2713 Correct\n\n  # Incorrect examples:\n  # - Client File    \u2717 (spaces)\n  # - client_file    \u2717 (underscores)\n  # - client-File    \u2717 (mixed case)\n</code></pre></p>"},{"location":"extending/validation/#error-invalid-retention-period","title":"Error: Invalid Retention Period","text":"<p>Error Message: <code>Invalid retention period: -1 years for \"Court Filing\"</code></p> <p>Causes:</p> <ul> <li> <p>Negative retention periods</p> </li> <li> <p>Non-numeric values</p> </li> <li> <p>Impossible date calculations</p> </li> </ul> <p>Solutions: <pre><code># Valid retention rules\nretention_rules:\n  Court Filing:\n    years: 15               # \u2713 Valid positive integer\n    reason: \"Court requirements\"\n\n  Invalid Example:\n  Court Filing:\n    years: -5              \u2717 (negative)\n    reason: \"Some reason\"\n</code></pre></p>"},{"location":"extending/validation/#error-entity-not-registered","title":"Error: Entity Not Registered","text":"<p>Error Message: <code>Entity type 'legal-practice' not found in TaxonomyExpert</code></p> <p>Causes:</p> <ul> <li> <p>Missing registration in Domain type</p> </li> <li> <p>Not added to COUNTRY_TAXONOMIES</p> </li> <li> <p>Import/export issues</p> </li> </ul> <p>Solutions: <pre><code># Check registration\ngrep -r \"legal-practice\" src/skills/RecordsManager/Lib/TaxonomyExpert.ts\n\n# Add to Domain type\nexport type Domain = 'legal-practice' | /* other types */;\n</code></pre></p>"},{"location":"extending/validation/#error-country-not-supported","title":"Error: Country Not Supported","text":"<p>Error Message: <code>Country 'New Zealand' not supported for entity 'legal-practice'</code></p> <p>Causes:</p> <ul> <li> <p>Requesting country not in supported list</p> </li> <li> <p>Missing country configuration for entity</p> </li> </ul> <p>Solutions: <pre><code># Add new country configuration\nCOUNTRY_TAXONOMIES.NewZealand = {\n  country: 'New Zealand',\n  domains: {\n    'legal-practice': {\n      // ... configuration\n    }\n  }\n};\n</code></pre></p>"},{"location":"extending/validation/#advanced-troubleshooting","title":"Advanced Troubleshooting","text":""},{"location":"extending/validation/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed debugging:</p> <pre><code>export DEBUG=recordsmanager:*\nbun run recordmanager validate --domain legal-practice --verbose\n</code></pre>"},{"location":"extending/validation/#schema-validation","title":"Schema Validation","text":"<p>Validate against JSON schema:</p> <pre><code># Install schema validator\nnpm install -g ajv\n\n# Validate taxonomy\najv validate -s taxonomy-schema.json -d custom-taxonomy.yaml\n</code></pre>"},{"location":"extending/validation/#performance-analysis","title":"Performance Analysis","text":"<p>Identify performance bottlenecks:</p> <pre><code># Performance testing\nbun run recordmanager validate --performance --domain legal-practice\n\n# Memory usage analysis\nnode --inspect recordmanager validate --taxonomies\n</code></pre>"},{"location":"extending/validation/#conflict-detection","title":"Conflict Detection","text":"<p>Find conflicts with existing systems:</p> <pre><code># Check for naming conflicts\nbun run recordmanager validate --conflicts --domain legal-practice\n\n# Check database schema conflicts\nbun run recordmanager validate --database --domain legal-practice\n</code></pre>"},{"location":"extending/validation/#testing-with-sample-data","title":"Testing with Sample Data","text":""},{"location":"extending/validation/#sample-documents-for-testing","title":"Sample Documents for Testing","text":"<p>Create test documents to validate your taxonomy:</p> <p>Legal Practice Test Documents:</p> <ul> <li> <p><code>client-agreement.pdf</code> (should map to \"Legal Agreement\")</p> </li> <li> <p><code>court-filing-2024.pdf</code> (should map to \"Court Filing\")</p> </li> <li> <p><code>billing-invoice-2024.pdf</code> (should map to \"Billing Invoice\")</p> </li> </ul> <p>Medical Practice Test Documents:</p> <ul> <li> <p><code>patient-record-john-doe.pdf</code> (should map to \"Patient Record\")</p> </li> <li> <p><code>pathology-results.pdf</code> (should map to \"Pathology Report\")</p> </li> <li> <p><code>prescription-medication.pdf</code> (should map to \"Prescription\")</p> </li> </ul> <p>Real Estate Test Documents:</p> <ul> <li> <p><code>sale-contract.pdf</code> (should map to \"Sale Contract\")</p> </li> <li> <p><code>lease-agreement.pdf</code> (should map to \"Lease Agreement\")</p> </li> <li> <p><code>property-inspection.pdf</code> (should map to \"Property Inspection Report\")</p> </li> </ul>"},{"location":"extending/validation/#test-scenarios","title":"Test Scenarios","text":"<pre><code># Test 1: Document Recognition\nbun run recordmanager test --recognize --file client-agreement.pdf --domain legal-practice\n\n# Expected Output:\n# Document Type: Legal Agreement\n# Confidence: 95%\n# Suggested Tags: legal-agreement, contract, client-matter\n\n# Test 2: Metadata Suggestions\nbun run recordmanager test --suggest --file court-filing.pdf --domain legal-practice\n\n# Expected Output:\n# Tags: court-filing, urgent, active, litigation\n\n# Test 3: Retention Calculation\nbun run recordmanager test --retention --document-type \"Court Filing\" --domain legal-practice\n\n# Expected Output:\n# Retention: 15 years\n# Expiry Date: 2039-01-20 (from 2024-01-20)\n# Reason: Court record requirements - permanent file reference\n</code></pre>"},{"location":"extending/validation/#integration-testing","title":"Integration Testing","text":"<p>Test the complete workflow:</p> <pre><code># 1. Create entity\nbun run recordmanager create --entity-type legal-practice\n\n# 2. Upload document with taxonomy\nbun run recordmanager upload --file client-agreement.pdf --domain legal-practice\n\n# 3. Search with taxonomy tags\nbun run recordmanager search --tags \"client-matter,active\" --domain legal-practice\n\n# 4. Check retention status\nbun run recordmanager retention --domain legal-practice\n</code></pre>"},{"location":"extending/validation/#continuous-integration","title":"Continuous Integration","text":""},{"location":"extending/validation/#github-actions-example","title":"GitHub Actions Example","text":"<pre><code># .github/workflows/validate-taxonomies.yml\nname: Validate Taxonomies\n\non:\n  push:\n    paths: ['docs/extending/**/*.yaml', 'src/skills/RecordsManager/Lib/TaxonomyExpert.ts']\n  pull_request:\n    paths: ['docs/extending/**/*.yaml', 'src/skills/RecordsManager/Lib/TaxonomyExpert.ts']\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    steps:\n*   uses: actions/checkout@v3\n\n*   name: Setup Node.js\n        uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n\n*   name: Install dependencies\n        run: npm install -g bun &amp;&amp; bun install\n\n*   name: Validate taxonomies\n        run: bun run recordmanager validate --taxonomies\n\n*   name: Test custom entities\n        run: |\n          bun run recordmanager validate --entity legal-practice\n          bun run recordmanager validate --entity medical-practice\n          bun run recordmanager validate --entity real-estate\n\n*   name: Integration test\n        run: bun run recordmanager validate --integration\n</code></pre>"},{"location":"extending/validation/#pre-commit-hook","title":"Pre-commit Hook","text":"<pre><code># .git/hooks/pre-commit\n#!/bin/bash\necho \"Validating taxonomies...\"\nbun run recordmanager validate --taxonomies --quick\nif [ $? -ne 0 ]; then\n  echo \"Taxonomy validation failed. Please fix errors before committing.\"\n  exit 1\nfi\n</code></pre>"},{"location":"extending/validation/#best-practices","title":"Best Practices","text":""},{"location":"extending/validation/#1-regular-validation","title":"1. Regular Validation","text":"<ul> <li> <p>Run validation after every configuration change</p> </li> <li> <p>Use pre-commit hooks to prevent invalid configurations</p> </li> <li> <p>Schedule periodic production validation</p> </li> </ul>"},{"location":"extending/validation/#2-documentation","title":"2. Documentation","text":"<ul> <li> <p>Document validation errors and their solutions</p> </li> <li> <p>Keep test documents and expected results</p> </li> <li> <p>Maintain a troubleshooting guide</p> </li> </ul>"},{"location":"extending/validation/#3-performance-monitoring","title":"3. Performance Monitoring","text":"<ul> <li> <p>Track validation performance over time</p> </li> <li> <p>Monitor for new error types</p> </li> <li> <p>Set up alerts for validation failures</p> </li> </ul>"},{"location":"extending/validation/#4-user-testing","title":"4. User Testing","text":"<ul> <li> <p>Test with real user documents</p> </li> <li> <p>Gather feedback on tagging accuracy</p> </li> <li> <p>Validate retention period expectations</p> </li> </ul>"},{"location":"extending/validation/#5-backup-and-recovery","title":"5. Backup and Recovery","text":"<ul> <li> <p>Keep validated configuration backups</p> </li> <li> <p>Test restore procedures</p> </li> <li> <p>Document rollback procedures</p> </li> </ul>"},{"location":"extending/validation/#getting-help","title":"Getting Help","text":""},{"location":"extending/validation/#common-questions","title":"Common Questions","text":"<p>Q: My document isn't being recognized correctly A: Check the document type mapping in your taxonomy. Use the recognition test to see what patterns are being matched.</p> <p>Q: Tags aren't being applied as expected A: Verify tag category definitions and ensure document names contain the expected keywords.</p> <p>Q: Retention periods seem incorrect A: Review retention rule definitions and ensure they match legal requirements.</p>"},{"location":"extending/validation/#support-channels","title":"Support Channels","text":"<ol> <li>CLI Help: <code>bun run recordmanager validate --help</code></li> <li>Documentation: Extending Guide</li> <li>GitHub Issues: Report bugs and request features</li> <li>Community: Join discussions in the PAI repository</li> </ol> <p>Last Updated: 2026-01-20</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to the Records Manager Skill. This section will guide you through installing, configuring, and using the skill for expert document management with paperless-ngx.</p>"},{"location":"getting-started/#overview","title":"Overview","text":"<p>The Records Manager Skill is a PAI (Personal AI Infrastructure) pack that transforms your AI assistant into an expert records manager. It provides:</p> <ul> <li> <p>Intelligent document organization with automatic tagging and categorization</p> </li> <li> <p>Country-specific compliance for record retention (Australia, US, UK)</p> </li> <li> <p>Safe operations with mandatory deletion confirmation</p> </li> <li> <p>Powerful search optimized for finding documents quickly</p> </li> </ul>"},{"location":"getting-started/#what-youll-need","title":"What You'll Need","text":"<p>Before you begin, ensure you have:</p> <ol> <li> <p>A PAI installation - The skill integrates with your PAI environment</p> </li> <li> <p>A paperless-ngx instance - For document storage and management</p> </li> <li> <p>Bun runtime - For running TypeScript tools</p> </li> <li> <p>API credentials - paperless-ngx URL and API token</p> </li> </ol> <p>See Prerequisites for detailed requirements.</p>"},{"location":"getting-started/#installation-path","title":"Installation Path","text":"<p>Follow these guides in order:</p>"},{"location":"getting-started/#1-prerequisites","title":"1. Prerequisites","text":"<p>Verify your system meets all requirements before installing.</p>"},{"location":"getting-started/#2-installation-guide","title":"2. Installation Guide","text":"<p>Step-by-step installation for PAI integration and paperless-ngx configuration.</p>"},{"location":"getting-started/#3-quickstart-tutorial","title":"3. Quickstart Tutorial","text":"<p>Upload your first document with intelligent tagging and learn the basics.</p>"},{"location":"getting-started/#quick-reference","title":"Quick Reference","text":"<p>After installation, you can use the Records Manager Skill:</p> <pre><code># Upload a document\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file &lt;path&gt; --domain household\n\n# Search for documents\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"insurance\"\n\n# Check retention status\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain corporate\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ol> <li> <p>Configure your environment - Set up paperless-ngx connection</p> </li> <li> <p>Upload your first document - Follow the quickstart tutorial</p> </li> <li> <p>Explore taxonomies - Learn about entity types and tagging</p> </li> <li> <p>Set up retention - Configure country-specific retention rules</p> </li> </ol>"},{"location":"getting-started/#need-help","title":"Need Help?","text":"<ul> <li> <p>Troubleshooting: See the Troubleshooting section</p> </li> <li> <p>Configuration Guide: See Configuration</p> </li> <li> <p>API Reference: See CLI Commands</p> </li> </ul>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<p>After completing the getting started guide:</p> <ul> <li> <p>User Guide: Learn daily workflows for document management</p> </li> <li> <p>Tutorials: Step-by-step guides for common tasks</p> </li> <li> <p>Extending: Create custom taxonomies and entity types</p> </li> <li> <p>Architecture: Understand system design and components</p> </li> </ul>"},{"location":"getting-started/developer-quickstart/","title":"Developer Quickstart: Hierarchical Taxonomies","text":"<p>Get started using the hierarchical taxonomy system in your code in under 10 minutes.</p>"},{"location":"getting-started/developer-quickstart/#quick-setup","title":"Quick Setup","text":"<p>1. Install dependencies:</p> <pre><code>cd madeinoz-recordmanager-skill\nbun install\n</code></pre> <p>2. Set environment variables:</p> <pre><code>export MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://your-paperless-url.com\"\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token\"\nexport MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"  # or \"United States\", \"United Kingdom\"\nexport MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n</code></pre> <p>3. Verify setup:</p> <pre><code>bun test  # Should pass 447/464 tests (96%)\n</code></pre>"},{"location":"getting-started/developer-quickstart/#quick-examples","title":"Quick Examples","text":""},{"location":"getting-started/developer-quickstart/#example-1-navigate-hierarchy-30-seconds","title":"Example 1: Navigate Hierarchy (30 seconds)","text":"<pre><code>import { TaxonomyExpert } from './src/lib/TaxonomyExpert';\n\nconst expert = new TaxonomyExpert('AUS', 'household');\n\n// Get all functions\nconst functions = expert.getFunctions('household');\nconsole.log(functions.map(f =&gt; f.name));\n// Output: ['HealthManagement', 'FinanceManagement', 'PropertyManagement', ...]\n\n// Get services in HealthManagement\nconst services = expert.getServices('household', 'HealthManagement');\nconsole.log(services.map(s =&gt; s.name));\n// Output: ['MedicalCare', 'DentalCare', 'VisionCare']\n\n// Get activities in MedicalCare\nconst activities = expert.getActivities('household', 'HealthManagement', 'MedicalCare');\nconsole.log(activities.map(a =&gt; a.name));\n// Output: ['Consultations', 'Prescriptions', 'TestResults']\n\n// Get document types for Consultations\nconst docTypes = expert.getDocumentTypesForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations'\n);\nconsole.log(docTypes);\n// Output: ['Medical Receipt', 'Referral Letter', 'Specialist Referral']\n</code></pre>"},{"location":"getting-started/developer-quickstart/#example-2-validate-and-classify-document-1-minute","title":"Example 2: Validate and Classify Document (1 minute)","text":"<pre><code>// Validate a hierarchical path\nconst path = 'HealthManagement/MedicalCare/Consultations/MedicalReceipt';\nconst validation = expert.validatePath('household', path);\n\nif (validation.valid) {\n  // Generate hierarchical tags\n  const tags = expert.generateHierarchicalTags(path);\n  console.log(tags);\n  // Output: [\n  //   'Function:HealthManagement',\n  //   'Service:MedicalCare',\n  //   'Activity:Consultations',\n  //   'DocumentType:MedicalReceipt'\n  // ]\n\n  // Generate storage path\n  const storagePath = expert.generateStoragePath(path);\n  console.log(storagePath);\n  // Output: 'Health_Management/Medical_Care/Consultations/Medical_Receipt'\n\n  // Get retention requirements\n  const retention = expert.getRetentionForActivity(\n    'household',\n    'HealthManagement',\n    'MedicalCare',\n    'Consultations',\n    'Medical Receipt'\n  );\n  console.log(retention);\n  // Output: {\n  //   years: 7,\n  //   legalCitation: 'ATO Record Keeping Requirements - Medical Expenses',\n  //   canDelete: false,\n  //   reason: 'Document from 2019 must be kept until 2026 (7 years)'\n  // }\n}\n</code></pre>"},{"location":"getting-started/developer-quickstart/#example-3-autocomplete-user-input-2-minutes","title":"Example 3: Autocomplete User Input (2 minutes)","text":"<pre><code>// User types partial path\nconst userInput = 'health/med/cons';\n\n// Get autocomplete suggestions\nconst suggestions = expert.autocomplete('household', userInput);\nconsole.log(suggestions);\n// Output: [\n//   'HealthManagement/MedicalCare/Consultations/MedicalReceipt',\n//   'HealthManagement/MedicalCare/Consultations/ReferralLetter',\n//   'HealthManagement/MedicalCare/Consultations/SpecialistReferral'\n// ]\n\n// Resolve partial path to see progress\nconst resolved = expert.resolvePath('household', 'health/med');\nconsole.log(resolved);\n// Output: {\n//   suggestions: [\n//     'HealthManagement/MedicalCare/Consultations',\n//     'HealthManagement/MedicalCare/Prescriptions',\n//     'HealthManagement/MedicalCare/TestResults'\n//   ],\n//   matched: ['HealthManagement', 'MedicalCare'],\n//   remaining: 2  // Still need Activity and DocumentType\n// }\n</code></pre>"},{"location":"getting-started/developer-quickstart/#example-4-keyword-search-1-minute","title":"Example 4: Keyword Search (1 minute)","text":"<pre><code>// User describes document in natural language\nconst userQuery = 'dental invoice consultation';\n\n// Search by keywords\nconst results = expert.searchByKeyword('household', userQuery);\nconsole.log(results);\n// Output: [\n//   {\n//     path: 'HealthManagement/DentalCare/Consultations/DentalInvoice',\n//     score: 0.95,\n//     matchedKeywords: ['dental', 'invoice', 'consultation']\n//   },\n//   {\n//     path: 'HealthManagement/DentalCare/Consultations/TreatmentPlan',\n//     score: 0.65,\n//     matchedKeywords: ['dental', 'consultation']\n//   }\n// ]\n\n// Use top result\nconst bestMatch = results[0];\nconst tags = expert.generateHierarchicalTags(bestMatch.path);\n</code></pre>"},{"location":"getting-started/developer-quickstart/#example-5-upload-document-with-classification-3-minutes","title":"Example 5: Upload Document with Classification (3 minutes)","text":"<pre><code>import { PaperlessClient } from './src/lib/PaperlessClient';\n\nconst client = new PaperlessClient(\n  process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_URL!,\n  process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN!\n);\n\n// Classify document\nconst path = 'HealthManagement/MedicalCare/Consultations/MedicalReceipt';\nconst tags = expert.generateHierarchicalTags(path);\nconst storagePath = expert.generateStoragePath(path);\n\n// Upload to paperless-ngx\nconst uploadResult = await client.uploadDocument('/path/to/medical-receipt.pdf', {\n  title: 'Medical Receipt - Dr. Smith - 2026-01-22',\n  tags: tags,\n  custom_fields: {\n    taxonomy_path: path,\n    storage_path: storagePath,\n    uploaded_via: 'RecordsManager v2.0'\n  }\n});\n\nconsole.log(`Document uploaded: ID ${uploadResult.id}`);\n</code></pre>"},{"location":"getting-started/developer-quickstart/#core-concepts","title":"Core Concepts","text":""},{"location":"getting-started/developer-quickstart/#1-hierarchical-structure","title":"1. Hierarchical Structure","text":"<p>4-level hierarchy: Function \u2192 Service \u2192 Activity \u2192 DocumentType</p> <pre><code>HealthManagement/                    \u2190 Function (top-level category)\n  MedicalCare/                       \u2190 Service (sub-category)\n    Consultations/                   \u2190 Activity (specific action)\n      Medical Receipt                \u2190 DocumentType (exact document)\n</code></pre>"},{"location":"getting-started/developer-quickstart/#2-path-format","title":"2. Path Format","text":"<p>Hierarchical paths use forward slashes:</p> <pre><code>const path = 'Function/Service/Activity/DocumentType';\n</code></pre> <p>Rules: - Case-sensitive (use exact names) - No spaces around slashes - Must include all 4 levels for complete classification</p>"},{"location":"getting-started/developer-quickstart/#3-tags-and-storage-paths","title":"3. Tags and Storage Paths","text":"<p>From a hierarchical path, generate:</p> <pre><code>// Input: 'HealthManagement/MedicalCare/Consultations/MedicalReceipt'\n\n// Hierarchical tags (for paperless-ngx):\nconst tags = expert.generateHierarchicalTags(path);\n// ['Function:HealthManagement', 'Service:MedicalCare', 'Activity:Consultations', 'DocumentType:MedicalReceipt']\n\n// Storage path (filesystem-safe):\nconst storagePath = expert.generateStoragePath(path);\n// 'Health_Management/Medical_Care/Consultations/Medical_Receipt'\n</code></pre>"},{"location":"getting-started/developer-quickstart/#4-validation","title":"4. Validation","text":"<p>Always validate paths before use:</p> <pre><code>const validation = expert.validatePath('household', path);\nif (!validation.valid) {\n  console.error(`Invalid path: ${validation.reason}`);\n  console.log(`Suggestion: ${validation.suggestion}`);\n}\n</code></pre>"},{"location":"getting-started/developer-quickstart/#5-country-specific-retention","title":"5. Country-Specific Retention","text":"<p>Retention requirements vary by country:</p> <pre><code>const expertAUS = new TaxonomyExpert('AUS', 'household');\nconst retentionAUS = expertAUS.getRetentionForActivity(...);\n// Returns: { years: 7, legalCitation: 'ATO Record Keeping Requirements' }\n\nconst expertUSA = new TaxonomyExpert('USA', 'household');\nconst retentionUSA = expertUSA.getRetentionForActivity(...);\n// Returns: { years: 7, legalCitation: 'IRS Publication 583' }\n\nconst expertGBR = new TaxonomyExpert('GBR', 'household');\nconst retentionGBR = expertGBR.getRetentionForActivity(...);\n// Returns: { years: 6, legalCitation: 'HMRC Record Keeping Requirements' }\n</code></pre>"},{"location":"getting-started/developer-quickstart/#taxonomyexpert-api-reference","title":"TaxonomyExpert API Reference","text":""},{"location":"getting-started/developer-quickstart/#navigation-methods","title":"Navigation Methods","text":"<pre><code>// Get all functions for a domain\ngetFunctions(domain: Domain): TaxonomyFunction[]\n\n// Get services within a function\ngetServices(domain: Domain, functionName: string): TaxonomyService[]\n\n// Get activities within a service\ngetActivities(domain: Domain, functionName: string, serviceName: string): TaxonomyActivity[]\n\n// Get document types for an activity\ngetDocumentTypesForActivity(\n  domain: Domain,\n  functionName: string,\n  serviceName: string,\n  activityName: string\n): string[]\n\n// Get retention for a specific document type\ngetRetentionForActivity(\n  domain: Domain,\n  functionName: string,\n  serviceName: string,\n  activityName: string,\n  documentType: string\n): RetentionRequirement\n</code></pre>"},{"location":"getting-started/developer-quickstart/#path-validation-autocomplete","title":"Path Validation &amp; Autocomplete","text":"<pre><code>// Validate a hierarchical path\nvalidatePath(domain: Domain, path: string): ValidationResult\n\n// Parse path into components\nparsePath(path: string): { function: string, service: string, activity: string, documentType: string }\n\n// Resolve partial path with suggestions\nresolvePath(domain: Domain, partialPath: string): {\n  suggestions: string[],\n  matched: string[],\n  remaining: number\n}\n\n// Get autocomplete suggestions\nautocomplete(domain: Domain, partialPath: string): string[]\n\n// Search by keywords\nsearchByKeyword(domain: Domain, keywords: string): SearchResult[]\n</code></pre>"},{"location":"getting-started/developer-quickstart/#tag-path-generation","title":"Tag &amp; Path Generation","text":"<pre><code>// Generate hierarchical tags from path\ngenerateHierarchicalTags(path: string): string[]\n\n// Generate filesystem-safe storage path\ngenerateStoragePath(path: string): string\n</code></pre>"},{"location":"getting-started/developer-quickstart/#helper-methods","title":"Helper Methods","text":"<pre><code>// Get all document types with their full paths\ngetAllDocumentTypes(domain: Domain): DocumentTypeWithPath[]\n\n// Get all tag categories (hierarchical)\ngetAllTagCategories(domain: Domain): string[]\n\n// Check if hierarchical taxonomy is available\nisHierarchicalAvailable(): boolean\n\n// Get current taxonomy mode\ngetTaxonomyMode(): 'hierarchical' | 'flat' | 'dual-mode'\n</code></pre>"},{"location":"getting-started/developer-quickstart/#testing","title":"Testing","text":"<p>Run tests to verify your implementation:</p> <pre><code># Run all tests\nbun test\n\n# Run specific test suites\nbun test src/tests/TaxonomyExpert.test.ts\nbun test src/tests/integration/migration.test.ts\n\n# Run with coverage\nbun test --coverage\n</code></pre> <p>Expected test results: - 447/464 tests passing (96%) - Hierarchical navigation tests: 100% pass - Path validation tests: 100% pass - Retention requirement tests: 100% pass</p>"},{"location":"getting-started/developer-quickstart/#common-patterns","title":"Common Patterns","text":""},{"location":"getting-started/developer-quickstart/#pattern-1-progressive-classification-ui","title":"Pattern 1: Progressive Classification UI","text":"<pre><code>// Build interactive classification wizard\nasync function classifyDocument(domain: Domain): Promise&lt;string&gt; {\n  // Step 1: Select function\n  const functions = expert.getFunctions(domain);\n  const selectedFunction = await promptUser('Select function:', functions.map(f =&gt; f.name));\n\n  // Step 2: Select service\n  const services = expert.getServices(domain, selectedFunction);\n  const selectedService = await promptUser('Select service:', services.map(s =&gt; s.name));\n\n  // Step 3: Select activity\n  const activities = expert.getActivities(domain, selectedFunction, selectedService);\n  const selectedActivity = await promptUser('Select activity:', activities.map(a =&gt; a.name));\n\n  // Step 4: Select document type\n  const docTypes = expert.getDocumentTypesForActivity(domain, selectedFunction, selectedService, selectedActivity);\n  const selectedDocType = await promptUser('Select document type:', docTypes);\n\n  // Build full path\n  return `${selectedFunction}/${selectedService}/${selectedActivity}/${selectedDocType}`;\n}\n</code></pre>"},{"location":"getting-started/developer-quickstart/#pattern-2-bulk-classification","title":"Pattern 2: Bulk Classification","text":"<pre><code>// Classify multiple documents using keyword search\nasync function bulkClassify(documents: { id: number, description: string }[]): Promise&lt;void&gt; {\n  for (const doc of documents) {\n    const results = expert.searchByKeyword('household', doc.description);\n\n    if (results.length &gt; 0 &amp;&amp; results[0].score &gt; 0.8) {\n      // High confidence match\n      const path = results[0].path;\n      const tags = expert.generateHierarchicalTags(path);\n      const storagePath = expert.generateStoragePath(path);\n\n      await client.updateDocument(doc.id, {\n        tags,\n        custom_fields: { taxonomy_path: path, storage_path: storagePath }\n      });\n\n      console.log(`\u2713 Document ${doc.id}: ${path} (confidence: ${results[0].score})`);\n    } else {\n      // Requires manual review\n      console.log(`\u2717 Document ${doc.id}: Manual review needed`);\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/developer-quickstart/#pattern-3-retention-checking-before-deletion","title":"Pattern 3: Retention Checking Before Deletion","text":"<pre><code>// Check if document can be deleted\nasync function canDeleteDocument(documentId: number): Promise&lt;boolean&gt; {\n  const doc = await client.getDocument(documentId);\n  const hierarchicalPath = doc.custom_fields.taxonomy_path;\n\n  if (!hierarchicalPath) {\n    console.warn('No hierarchical path - cannot verify retention');\n    return false;\n  }\n\n  const parsed = expert.parsePath(hierarchicalPath);\n  const retention = expert.getRetentionForActivity(\n    'household',\n    parsed.function,\n    parsed.service,\n    parsed.activity,\n    parsed.documentType\n  );\n\n  if (!retention.canDelete) {\n    console.error(`Cannot delete: ${retention.reason}`);\n    console.log(`Legal citation: ${retention.legalCitation}`);\n    return false;\n  }\n\n  return true;\n}\n</code></pre>"},{"location":"getting-started/developer-quickstart/#next-steps","title":"Next Steps","text":"<ol> <li>Explore the codebase:</li> <li>Read <code>src/lib/TaxonomyExpert.ts</code> for implementation details</li> <li>Check <code>src/tests/TaxonomyExpert.test.ts</code> for usage examples</li> <li> <p>Review <code>src/lib/types/HierarchicalTaxonomy.ts</code> for type definitions</p> </li> <li> <p>Build something:</p> </li> <li>Create a classification UI using progressive navigation</li> <li>Implement autocomplete for path input</li> <li> <p>Add keyword search to your upload workflow</p> </li> <li> <p>Contribute:</p> </li> <li>See Contributing Taxonomies</li> <li>Add new hierarchical paths for your domain</li> <li> <p>Submit improvements to mapping table</p> </li> <li> <p>Read more:</p> </li> <li>Hierarchical Taxonomies Guide</li> <li>API Reference</li> <li>Migration Guide</li> </ol> <p>Quickstart Version: 2.0.0 Last Updated: 2026-01-22 Estimated Time: 10 minutes</p>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>Complete installation instructions for the Records Manager Skill with PAI integration and paperless-ngx configuration.</p>"},{"location":"getting-started/installation/#overview","title":"Overview","text":"<p>The Records Manager Skill installs as a PAI pack and integrates with your paperless-ngx instance for document storage. This guide covers the complete installation process.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing, ensure you have:</p> Requirement Minimum Version Notes PAI v2.0+ Personal AI Infrastructure paperless-ngx v1.13+ Document management system Bun v1.0+ TypeScript runtime Git Any For cloning the repository <p>See Prerequisites for detailed setup instructions.</p>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#method-1-clone-to-pai-skills-directory-recommended","title":"Method 1: Clone to PAI Skills Directory (Recommended)","text":"<p>This method installs the skill directly into your PAI environment for seamless integration.</p> <pre><code># 1. Navigate to your PAI skills directory\ncd ~/.claude/skills/\n\n# 2. Clone the repository\ngit clone https://github.com/madeinoz/madeinoz-recordmanager-skill.git RecordsManager\n\n# 3. Verify installation\nls -la ~/.claude/skills/RecordsManager/\n</code></pre> <p>You should see the skill structure: <pre><code>RecordsManager/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 lib/                    # Core libraries\n\u2502   \u251c\u2500\u2500 skills/RecordsManager/  # Skill definition\n\u2502   \u2514\u2500\u2500 tools/                  # CLI tools\n\u251c\u2500\u2500 SKILL.md                    # Main skill file\n\u2514\u2500\u2500 README.md\n</code></pre></p>"},{"location":"getting-started/installation/#configuration","title":"Configuration","text":""},{"location":"getting-started/installation/#step-1-obtain-paperless-ngx-credentials","title":"Step 1: Obtain paperless-ngx Credentials","text":"<ol> <li> <p>Log in to your paperless-ngx instance</p> </li> <li> <p>Navigate to Settings \u2192 API Tokens</p> </li> <li> <p>Create a new API token with read/write permissions</p> </li> <li> <p>Copy the token (you won't see it again)</p> </li> </ol>"},{"location":"getting-started/installation/#step-2-set-environment-variables","title":"Step 2: Set Environment Variables","text":"<p>Add the following to your shell profile (<code>~/.zshrc</code> or <code>~/.bashrc</code>):</p> <pre><code># paperless-ngx connection\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\nexport MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-api-token-here\"\n\n# Records Manager settings\nexport MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"  # Australia|US|UK\nexport MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"  # household|corporate|project\n</code></pre> <p>Reload your shell: <pre><code>source ~/.zshrc  # or source ~/.bashrc\n</code></pre></p>"},{"location":"getting-started/installation/#step-3-environment-variables-explained","title":"Step 3: Environment Variables Explained","text":"Variable Required Description <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> Yes Your paperless-ngx instance URL <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code> Yes API token with read/write permissions <code>MADEINOZ_RECORDMANAGER_COUNTRY</code> No Your country for compliance (default: Australia) <code>MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code> No Default entity type (default: household)"},{"location":"getting-started/installation/#verification","title":"Verification","text":""},{"location":"getting-started/installation/#step-1-verify-cli-installation","title":"Step 1: Verify CLI Installation","text":"<pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts --help\n</code></pre> <p>Expected output: <pre><code>Records Manager CLI v1.2.0\n\nCommands:\n  upload     Upload a document with intelligent tagging\n  search     Search for documents by tags, type, or content\n  tag        Add or modify tags on documents\n  info       Get document details and metadata\n  retention  Check retention requirements for documents\n  status     Test connection to paperless-ngx\n\nOptions:\n  --help     Show this help message\n</code></pre></p>"},{"location":"getting-started/installation/#step-2-verify-connection-to-paperless-ngx","title":"Step 2: Verify Connection to paperless-ngx","text":"<pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Expected output: <pre><code>\u2713 Connected to paperless-ngx\n  URL: https://paperless.example.com\n  Documents: 1,234\n  Tags: 45\n  Document Types: 12\n</code></pre></p> <p>If connection fails:</p> <ul> <li> <p>Verify your paperless-ngx URL is correct</p> </li> <li> <p>Check that your API token has valid permissions</p> </li> <li> <p>Ensure paperless-ngx is accessible from your network</p> </li> </ul>"},{"location":"getting-started/installation/#step-3-test-upload-optional","title":"Step 3: Test Upload (Optional)","text":"<pre><code># Create a test document\necho \"Test document for Records Manager\" &gt; /tmp/test-upload.txt\n\n# Upload to paperless-ngx\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file /tmp/test-upload.txt \\\n  --domain household \\\n  --dry-run\n</code></pre> <p>The <code>--dry-run</code> flag shows what would happen without actually uploading.</p>"},{"location":"getting-started/installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to the latest version:</p> <pre><code>cd ~/.claude/skills/RecordsManager\ngit pull origin main\n</code></pre> <p>Check for configuration changes in the changelog.</p>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove the Records Manager Skill:</p> <pre><code># 1. Remove the skill directory\nrm -rf ~/.claude/skills/RecordsManager\n\n# 2. Remove environment variables from your shell profile\n# Edit ~/.zshrc or ~/.bashrc and remove the MADEINOZ_RECORDMANAGER_ lines\n\n# 3. Reload your shell\nsource ~/.zshrc\n</code></pre> <p>Note: This does not affect documents stored in paperless-ngx.</p>"},{"location":"getting-started/installation/#configuration-options","title":"Configuration Options","text":""},{"location":"getting-started/installation/#country-selection","title":"Country Selection","text":"<p>The skill supports country-specific retention guidelines:</p> Country Retention Source Taxonomy Features Australia ATO guidelines Trust document support, FTE tracking US IRS guidelines Corporate tax records, compliance UK HMRC guidelines VAT records, company documents <p>Set with: <pre><code>export MADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\n</code></pre></p>"},{"location":"getting-started/installation/#domain-selection","title":"Domain Selection","text":"<p>Choose your primary use case:</p> Domain Use For Taxonomy Focus household Personal/family documents Financial, medical, insurance, legal corporate Business records Invoices, contracts, compliance, HR project Project documentation Plans, deliverables, communications <p>Set with: <pre><code>export MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n</code></pre></p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found-error","title":"\"Command not found\" error","text":"<p>Problem: <code>bun run</code> fails with command not found</p> <p>Solution: <pre><code># Install Bun if not present\ncurl -fsSL https://bun.sh/install | bash\n\n# Verify installation\nbun --version\n</code></pre></p>"},{"location":"getting-started/installation/#connection-refused-error","title":"\"Connection refused\" error","text":"<p>Problem: Cannot connect to paperless-ngx</p> <p>Solution:</p> <ol> <li>Verify paperless-ngx is running</li> <li>Check firewall rules</li> <li>Ensure URL includes protocol (https://)</li> <li>Test connectivity: <code>curl $MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code></li> </ol>"},{"location":"getting-started/installation/#api-token-invalid-error","title":"\"API token invalid\" error","text":"<p>Problem: paperless-ngx rejects API token</p> <p>Solution:</p> <ol> <li>Regenerate API token in paperless-ngx</li> <li>Verify token has read/write permissions</li> <li>Check for extra characters in environment variable</li> </ol>"},{"location":"getting-started/installation/#skill-not-found-error","title":"\"Skill not found\" error","text":"<p>Problem: PAI cannot find the Records Manager skill</p> <p>Solution: <pre><code># Verify skill location\nls -la ~/.claude/skills/RecordsManager/SKILL.md\n\n# Check PAI skills directory\necho $PAI_DIR\n\n# If PAI_DIR is not set, set it\nexport PAI_DIR=\"$HOME/.claude\"\n</code></pre></p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Complete the Quickstart Tutorial - Upload your first document</li> <li>Learn Taxonomies - Understand entity types and tagging</li> <li>Configure Retention - Set up country-specific retention rules</li> <li>Explore CLI - Master the command-line interface</li> </ol>"},{"location":"getting-started/installation/#getting-help","title":"Getting Help","text":"<p>If you encounter issues during installation:</p> <ul> <li>Check logs: <code>~/.claude/MEMORY/</code> for PAI session logs</li> <li>Verify configuration: Run <code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts status</code></li> <li>Review prerequisites: Ensure all system requirements are met</li> <li>Open an issue: GitHub Issues</li> </ul> <p>Version: 1.2.0 Last Updated: 2026-01-20</p>"},{"location":"getting-started/prerequisites/","title":"Prerequisites","text":"<p>System requirements and dependencies for installing and running the Records Manager Skill.</p>"},{"location":"getting-started/prerequisites/#overview","title":"Overview","text":"<p>The Records Manager Skill requires several components to function correctly. This guide covers all prerequisites and how to set them up.</p>"},{"location":"getting-started/prerequisites/#core-requirements","title":"Core Requirements","text":""},{"location":"getting-started/prerequisites/#1-pai-personal-ai-infrastructure","title":"1. PAI (Personal AI Infrastructure)","text":"<p>Required Version: v2.0 or higher</p> <p>What is PAI? PAI is a personalized agentic system that helps you accomplish your goals through AI assistant integration. The Records Manager Skill is a PAI pack that extends PAI's capabilities.</p> <p>Verification: <pre><code># Check PAI installation\nls -la ~/.claude/\n\n# Check PAI version\ncat ~/.claude/VERSION 2&gt;/dev/null || echo \"Version file not found\"\n</code></pre></p> <p>Installation: If you don't have PAI installed, follow the PAI Installation Guide.</p> <p>Key PAI Components Used:</p> <ul> <li> <p>Skill system for loading the Records Manager</p> </li> <li> <p>Agent system for specialized document management agents</p> </li> <li> <p>Configuration system for environment variables</p> </li> <li> <p>Hook system for session capture</p> </li> </ul>"},{"location":"getting-started/prerequisites/#2-paperless-ngx","title":"2. paperless-ngx","text":"<p>Required Version: v1.13.0 or higher</p> <p>What is paperless-ngx? paperless-ngx is a document management system that transforms physical documents into searchable online archives. It provides OCR, tagging, and storage for the Records Manager Skill.</p> <p>Verification: <pre><code># Check paperless-ngx is accessible\ncurl -I $MADEINOZ_RECORDMANAGER_PAPERLESS_URL 2&gt;/dev/null | head -1\n\n# Expected output: HTTP/1.1 200 OK\n</code></pre></p> <p>Installation: If you don't have paperless-ngx installed:</p> <p>Docker (Recommended): <pre><code># Clone paperless-ngx\ngit clone https://github.com/paperless-ngx/paperless-ngx.git\ncd paperless-ngx\n\n# Copy and edit configuration\ncp docker-compose.env.example docker-compose.env\n# Edit docker-compose.env with your settings\n\n# Start services\ndocker compose up -d\n</code></pre></p> <p>See the paperless-ngx documentation for detailed installation instructions.</p> <p>Required Permissions: The API token must have:</p> <ul> <li> <p>Read permissions - For searching and retrieving documents</p> </li> <li> <p>Write permissions - For uploading and tagging documents</p> </li> <li> <p>Tag management - For creating and modifying tags</p> </li> <li> <p>Document type management - For creating document types</p> </li> </ul>"},{"location":"getting-started/prerequisites/#3-bun-runtime","title":"3. Bun Runtime","text":"<p>Required Version: v1.0.0 or higher</p> <p>What is Bun? Bun is a fast TypeScript runtime used to execute the Records Manager CLI tools.</p> <p>Verification: <pre><code>bun --version\n</code></pre></p> <p>Installation: <pre><code># Install Bun\ncurl -fsSL https://bun.sh/install | bash\n\n# Add to PATH (if not automatic)\nexport BUN_INSTALL=\"$HOME/.bun\"\nexport PATH=\"$BUN_INSTALL/bin:$PATH\"\n</code></pre></p> <p>Why Bun?</p> <ul> <li> <p>Fast startup and execution</p> </li> <li> <p>Native TypeScript support</p> </li> <li> <p>Compatible with Node.js ecosystems</p> </li> <li> <p>Low memory footprint</p> </li> </ul>"},{"location":"getting-started/prerequisites/#4-git","title":"4. Git","text":"<p>Required Version: Any</p> <p>What is Git? Version control system used to clone the Records Manager repository.</p> <p>Verification: <pre><code>git --version\n</code></pre></p> <p>Installation: <pre><code># macOS\nbrew install git\n\n# Ubuntu/Debian\nsudo apt-get install git\n\n# Windows\n# Download from https://git-scm.com/downloads\n</code></pre></p>"},{"location":"getting-started/prerequisites/#optional-requirements","title":"Optional Requirements","text":""},{"location":"getting-started/prerequisites/#elevenlabs-api-optional","title":"ElevenLabs API (Optional)","text":"<p>For voice-enabled agent responses, you can configure ElevenLabs text-to-speech.</p> <p>Setup: <pre><code>export ELEVENLABS_API_KEY=\"your-elevenlabs-api-key\"\n</code></pre></p> <p>Without this: Agents will respond with text only.</p>"},{"location":"getting-started/prerequisites/#platform-specific-notes","title":"Platform-Specific Notes","text":""},{"location":"getting-started/prerequisites/#macos","title":"macOS","text":"<p>Requirements: *   macOS 11 (Big Sur) or later *   Xcode Command Line Tools</p> <p>Setup: <pre><code># Install Command Line Tools\nxcode-select --install\n\n# Install Homebrew (if not present)\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre></p>"},{"location":"getting-started/prerequisites/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<p>Requirements: *   Ubuntu 20.04 or later / Debian 11 or later *   Standard build tools</p> <p>Setup: <pre><code># Update packages\nsudo apt-get update\n\n# Install dependencies\nsudo apt-get install -y git curl build-essential\n</code></pre></p>"},{"location":"getting-started/prerequisites/#windows","title":"Windows","text":"<p>Requirements: *   Windows 10 or later *   WSL (Windows Subsystem for Linux) recommended</p> <p>Setup: <pre><code># Install WSL\nwsl --install\n\n# Within WSL, follow Linux instructions\n</code></pre></p> <p>Note: Native Windows support is experimental. WSL is recommended.</p>"},{"location":"getting-started/prerequisites/#network-requirements","title":"Network Requirements","text":""},{"location":"getting-started/prerequisites/#outbound-access","title":"Outbound Access","text":"<p>The Records Manager Skill requires:</p> Destination Purpose Required paperless-ngx URL Document storage and retrieval Yes GitHub (raw.githubusercontent.com) Optional: Remote resources No"},{"location":"getting-started/prerequisites/#firewall-configuration","title":"Firewall Configuration","text":"<p>Ensure your firewall allows:</p> <ul> <li>HTTPS (443) outbound to your paperless-ngx instance</li> <li>Local network access if paperless-ngx is self-hosted</li> </ul>"},{"location":"getting-started/prerequisites/#resource-requirements","title":"Resource Requirements","text":""},{"location":"getting-started/prerequisites/#minimum-resources","title":"Minimum Resources","text":"Resource Minimum Recommended RAM 512 MB 1 GB Disk 100 MB 200 MB Network 1 Mbps 10 Mbps"},{"location":"getting-started/prerequisites/#paperless-ngx-resources","title":"paperless-ngx Resources","text":"<p>The paperless-ngx server requirements are separate:</p> Resource Minimum Recommended RAM 2 GB 4 GB Disk 10 GB 50 GB+ CPU 2 cores 4+ cores"},{"location":"getting-started/prerequisites/#verification-checklist","title":"Verification Checklist","text":"<p>Before installing the Records Manager Skill, verify:</p> <ul> <li> <p> PAI v2.0+ is installed</p> </li> <li> <p> paperless-ngx v1.13+ is running and accessible</p> </li> <li> <p> Bun v1.0+ is installed</p> </li> <li> <p> Git is installed</p> </li> <li> <p> You have a paperless-ngx API token with read/write permissions</p> </li> <li> <p> You know your paperless-ngx URL</p> </li> <li> <p> Network connectivity to paperless-ngx is working</p> </li> </ul>"},{"location":"getting-started/prerequisites/#testing-prerequisites","title":"Testing Prerequisites","text":"<p>Run this test script to verify all prerequisites:</p> <pre><code>#!/bin/bash\necho \"Checking Records Manager Skill prerequisites...\"\n\n# Check PAI\nif [ -d \"$HOME/.claude\" ]; then\n  echo \"\u2713 PAI installed\"\nelse\n  echo \"\u2717 PAI not found at ~/.claude/\"\nfi\n\n# Check Bun\nif command -v bun &amp;&gt; /dev/null; then\n  echo \"\u2713 Bun installed: $(bun --version)\"\nelse\n  echo \"\u2717 Bun not installed\"\nfi\n\n# Check Git\nif command -v git &amp;&gt; /dev/null; then\n  echo \"\u2713 Git installed: $(git --version)\"\nelse\n  echo \"\u2717 Git not installed\"\nfi\n\n# Check paperless-ngx (if configured)\nif [ -n \"$MADEINOZ_RECORDMANAGER_PAPERLESS_URL\" ]; then\n  if curl -sfI \"$MADEINOZ_RECORDMANAGER_PAPERLESS_URL\" &gt; /dev/null; then\n    echo \"\u2713 paperless-ngx accessible at $MADEINOZ_RECORDMANAGER_PAPERLESS_URL\"\n  else\n    echo \"\u2717 Cannot connect to paperless-ngx\"\n  fi\nelse\n  echo \"\u26a0 paperless-ngx URL not configured (set during installation)\"\nfi\n\necho \"\"\necho \"If all checks pass, proceed to [Installation](installation.md)\"\n</code></pre> <p>Save as <code>check-prerequisites.sh</code>, make executable, and run:</p> <pre><code>chmod +x check-prerequisites.sh\n./check-prerequisites.sh\n</code></pre>"},{"location":"getting-started/prerequisites/#next-steps","title":"Next Steps","text":"<p>Once all prerequisites are verified:</p> <ol> <li> <p>Proceed to Installation - Complete the setup process</p> </li> <li> <p>Configure Environment - Set up paperless-ngx connection</p> </li> <li> <p>Run Quickstart - Upload your first document</p> </li> </ol>"},{"location":"getting-started/prerequisites/#getting-help","title":"Getting Help","text":"<p>If you're having trouble with prerequisites:</p> <ul> <li>PAI Installation: See PAI Documentation</li> <li>paperless-ngx Setup: See paperless-ngx Documentation</li> <li>Bun Installation: See Bun Documentation</li> <li>Community Support: GitHub Discussions</li> </ul> <p>Version: 1.2.0 Last Updated: 2026-01-20</p>"},{"location":"getting-started/quickstart/","title":"Quickstart Tutorial","text":"<p>Learn the basics of the Records Manager Skill by uploading your first document with intelligent tagging.</p>"},{"location":"getting-started/quickstart/#overview","title":"Overview","text":"<p>This tutorial will guide you through uploading your first document, understanding automatic tagging, and performing basic searches. By the end, you'll have a working document management system.</p> <p>Time Required: 10 minutes Prerequisites: Completed Installation</p>"},{"location":"getting-started/quickstart/#step-1-prepare-your-document","title":"Step 1: Prepare Your Document","text":"<p>Find a document you'd like to upload. For this tutorial, we'll use an invoice as an example.</p> <p>Supported formats:</p> <ul> <li> <p>PDF (preferred for documents with text/OCR)</p> </li> <li> <p>Images (PNG, JPG, JPEG - will be OCR-processed)</p> </li> <li> <p>Office documents (DOCX, XLSX - converted to PDF)</p> </li> </ul> <p>Example document:</p> <ul> <li> <p>An invoice from a supplier</p> </li> <li> <p>A medical receipt</p> </li> <li> <p>An insurance policy document</p> </li> <li> <p>A tax statement</p> </li> </ul>"},{"location":"getting-started/quickstart/#step-2-upload-your-document","title":"Step 2: Upload Your Document","text":"<p>Use the <code>upload</code> command to add your document with intelligent tagging:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  --file ~/Downloads/invoice.pdf \\\n  --domain household\n</code></pre> <p>What happens:</p> <ol> <li> <p>Document Upload - The file is uploaded to paperless-ngx</p> </li> <li> <p>OCR Processing - paperless-ngx extracts text from the document</p> </li> <li> <p>Intelligent Classification - The Records Manager analyzes the content</p> </li> <li> <p>Tag Application - Relevant tags are automatically applied</p> </li> <li> <p>Retention Assignment - Retention period is set based on document type</p> </li> </ol> <p>Expected output:</p> <pre><code>Uploading invoice.pdf...\n\nDocument Analysis:\n  Type: Invoice detected\n  Amount: $150.00\n  Date: 2024-01-15\n  Vendor: ABC Supplies\n\nSuggested Tags:\n\n  * invoice\n\n  * supplier\n\n  * 2024\n\n  * household\n\nDocument Type: Supplier Invoice\nRetention: 7 years (financial record)\n\n\u2713 Upload complete\n  Document ID: 1234\n  Archive URL: https://paperless.example.com/archive/1234\n</code></pre>"},{"location":"getting-started/quickstart/#step-3-understanding-automatic-tagging","title":"Step 3: Understanding Automatic Tagging","text":"<p>The Records Manager applies tags based on:</p>"},{"location":"getting-started/quickstart/#content-analysis","title":"Content Analysis","text":"<p>The document content is analyzed for:</p> <ul> <li> <p>Document type (invoice, receipt, statement, policy)</p> </li> <li> <p>Dates (document date, tax year)</p> </li> <li> <p>Entities (vendor names, organizations)</p> </li> <li> <p>Amounts (for financial documents)</p> </li> </ul>"},{"location":"getting-started/quickstart/#domain-taxonomy","title":"Domain Taxonomy","text":"<p>Your configured domain determines available tags:</p> Domain Common Tags household financial, medical, insurance, legal, education, receipts, invoices corporate accounting, contracts, compliance, hr, invoices, expenses project plans, deliverables, communications, milestones, reports"},{"location":"getting-started/quickstart/#country-rules","title":"Country Rules","text":"<p>Your country setting affects retention:</p> Country Example Retention Australia Tax records: 7 years (ATO) US Tax records: 7 years (IRS) UK VAT records: 6 years (HMRC)"},{"location":"getting-started/quickstart/#step-4-search-for-your-document","title":"Step 4: Search for Your Document","text":"<p>Now that your document is uploaded, search for it using tags:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --tags \"invoice,2024\" \\\n  --domain household\n</code></pre> <p>Expected output:</p> <pre><code>Searching for documents with tags: invoice, 2024\n\nFound 3 documents:\n\n1. ABC Supplies - January Invoice\n   ID: 1234\n   Date: 2024-01-15\n   Tags: invoice, supplier, 2024, household\n   Type: Supplier Invoice\n   Retention: 7 years (expires 2031-01-15)\n\n2. Utility Company - Electric Bill\n   ID: 1235\n   Date: 2024-01-10\n   Tags: invoice, utilities, 2024, household\n   Type: Utility Invoice\n   Retention: 7 years (expires 2031-01-10)\n\n[... additional results ...]\n</code></pre>"},{"location":"getting-started/quickstart/#step-5-view-document-details","title":"Step 5: View Document Details","text":"<p>Get detailed information about a specific document:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts info \\\n  --id 1234\n</code></pre> <p>Expected output:</p> <pre><code>Document Details: ABC Supplies - January Invoice\n\nBasic Information:\n  ID: 1234\n  Title: ABC Supplies - January Invoice\n  Created: 2024-01-20 10:30:00\n  Modified: 2024-01-20 10:30:00\n\nContent:\n  Type: Supplier Invoice\n  Archive Serial: 2024-01-15\n  Document Date: 2024-01-15\n\nTags:\n\n  * invoice (green)\n\n  * supplier (blue)\n\n  * 2024 (yellow)\n\n  * household (purple)\n\nRetention:\n  Period: 7 years\n  Expires: 2031-01-15\n  Reason: Financial record - ATO requirement\n  Country: Australia\n\nMetadata:\n  Vendor: ABC Supplies\n  Amount: $150.00\n  Currency: AUD\n  Category: Household Expenses\n\nArchive URL: https://paperless.example.com/archive/1234\n</code></pre>"},{"location":"getting-started/quickstart/#step-6-add-additional-tags","title":"Step 6: Add Additional Tags","text":"<p>You can manually add tags to refine organization:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts tag \\\n  --id 1234 \\\n  --tags \"home-office,deductible\"\n</code></pre> <p>Expected output:</p> <pre><code>Adding tags to document 1234...\n\nAdded tags:\n\n  * home-office\n\n  * deductible\n\nCurrent tags: invoice, supplier, 2024, household, home-office, deductible\n</code></pre>"},{"location":"getting-started/quickstart/#step-7-check-retention-status","title":"Step 7: Check Retention Status","text":"<p>Verify which documents are approaching retention deadlines:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts retention \\\n  --domain household\n</code></pre> <p>Expected output:</p> <pre><code>Retention Status for: household\n\nDocuments Retained: 234\n\nBy Retention Period:\n\n  5 years:    45 documents\n\n  7 years:   156 documents (financial records)\n\n  Permanent:  33 documents (legal, insurance)\n\nExpiring Soon (within 90 days):\n\n  * Old tax documents (2016) - safe to review for deletion\n\nArchive Ready:\n\n  * 23 documents past retention can be archived\n\n  * Run with --archive flag to move to cold storage\n</code></pre>"},{"location":"getting-started/quickstart/#common-workflows","title":"Common Workflows","text":""},{"location":"getting-started/quickstart/#upload-multiple-documents","title":"Upload Multiple Documents","text":"<pre><code># Upload all PDFs from Downloads folder\nfor file in ~/Downloads/*.pdf; do\n  bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts upload \\\n    --file \"$file\" \\\n    --domain household\ndone\n</code></pre>"},{"location":"getting-started/quickstart/#search-by-date-range","title":"Search by Date Range","text":"<pre><code># Find all documents from January 2024\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"after:2024-01-01 before:2024-01-31\" \\\n  --domain household\n</code></pre>"},{"location":"getting-started/quickstart/#find-untagged-documents","title":"Find Untagged Documents","text":"<pre><code># Find documents without tags for manual review\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --untagged \\\n  --domain household\n</code></pre>"},{"location":"getting-started/quickstart/#safety-feature-deletion-requires-confirmation","title":"Safety Feature: Deletion Requires Confirmation","text":"<p>The Records Manager Skill has a critical safety feature: deletion always requires explicit confirmation.</p> <p>If you try to delete documents:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts delete \\\n  --query \"tag:old\" \\\n  --domain household\n</code></pre> <p>Expected output:</p> <pre><code>\u26a0 DELETION REQUESTED \u26a0\n\nYou are requesting deletion of 12 documents:\n\n1. Old Invoice #1 (2018) - 7 year retention EXPIRED\n\n2. Old Receipt #2 (2018) - 7 year retention EXPIRED\n\n[...]\n\n\u26a0 SAFETY CHECK \u26a0\n\nThe Deletion Auditor agent requires:\n\n1. Confirmation that retention periods have expired\n\n2. Verification that documents are not needed for audit\n\n3. Explicit approval phrase to proceed\n\nTo confirm deletion, type: \"I understand this cannot be undone\"\n\n[Type phrase or press Ctrl+C to cancel]\n</code></pre> <p>This prevents accidental data loss.</p>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<p>Now that you've completed the quickstart:</p> <ol> <li> <p>Explore the User Guide - Learn about daily workflows</p> </li> <li> <p>Configure Taxonomies - Customize tags for your needs</p> </li> <li> <p>Set Up Retention Rules - Configure country-specific requirements</p> </li> <li> <p>Try Tutorials - Step-by-step guides for common tasks</p> </li> </ol>"},{"location":"getting-started/quickstart/#local-documentation-preview","title":"Local Documentation Preview","text":"<p>For contributors and documentation writers, you can run the documentation site locally to preview changes before deploying.</p>"},{"location":"getting-started/quickstart/#start-local-preview-server","title":"Start Local Preview Server","text":"<pre><code># From the repository root\nmkdocs serve\n</code></pre> <p>The documentation will be available at: http://127.0.0.1:8000</p>"},{"location":"getting-started/quickstart/#live-reload","title":"Live Reload","text":"<p>Any changes you make to documentation files in <code>docs/</code> will automatically reload in your browser.</p>"},{"location":"getting-started/quickstart/#alternative-port","title":"Alternative Port","text":"<p>If port 8000 is already in use:</p> <pre><code>mkdocs serve -a localhost:8001\n</code></pre>"},{"location":"getting-started/quickstart/#build-documentation","title":"Build Documentation","text":"<p>To build the static site for testing:</p> <pre><code>mkdocs build\n</code></pre> <p>Output will be in the <code>site/</code> directory.</p>"},{"location":"getting-started/quickstart/#clean-build","title":"Clean Build","text":"<p>To clear all cached builds:</p> <pre><code>rm -rf site/\nmkdocs build --clean\n</code></pre> <p>For more documentation development workflows, see CONTRIBUTING.md.</p>"},{"location":"getting-started/quickstart/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quickstart/#upload-fails","title":"Upload Fails","text":"<p>Problem: \"Upload failed\" error</p> <p>Solutions: *   Verify paperless-ngx is accessible: <code>curl $MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> *   Check API token permissions *   Ensure file is a supported format</p>"},{"location":"getting-started/quickstart/#no-tags-applied","title":"No Tags Applied","text":"<p>Problem: Document uploaded but no tags suggested</p> <p>Solutions: *   Check that OCR completed in paperless-ngx *   Verify document contains readable text *   Try manual tagging with the <code>tag</code> command</p>"},{"location":"getting-started/quickstart/#search-returns-no-results","title":"Search Returns No Results","text":"<p>Problem: Can't find recently uploaded document</p> <p>Solutions: *   Wait for OCR processing (usually 30-60 seconds) *   Check spelling of search terms *   Try broader search without specific tags</p>"},{"location":"getting-started/quickstart/#summary","title":"Summary","text":"<p>In this quickstart, you learned:</p> <ul> <li> <ul> <li> How to upload a document with intelligent tagging</li> </ul> </li> <li> <ul> <li> How automatic classification works</li> </ul> </li> <li> <ul> <li> How to search for documents by tags</li> </ul> </li> <li> <ul> <li> How to view document details</li> </ul> </li> <li> <ul> <li> How to add manual tags</li> </ul> </li> <li> <ul> <li> How to check retention status</li> </ul> </li> <li> <ul> <li> About deletion safety features</li> </ul> </li> </ul>"},{"location":"getting-started/quickstart/#whats-next","title":"What's Next?","text":"<ul> <li>User Guide - Learn daily workflows for document management</li> <li>Configuration - Customize the skill for your needs</li> <li>Tutorials - Step-by-step guides for specific tasks</li> <li>API Reference - Complete CLI command documentation</li> </ul> <p>Version: 1.2.0 Last Updated: 2026-01-20</p>"},{"location":"reference/","title":"Reference","text":"<p>This section provides comprehensive reference documentation for the Records Manager Skill.</p>"},{"location":"reference/#overview","title":"Overview","text":"<p>The Records Manager Skill provides expert record keeping with paperless-ngx integration, country-specific taxonomies, and intelligent document management. This reference section covers:</p> <ul> <li>CLI Commands - Complete command-line interface reference</li> <li>Taxonomy Data Structure - Entity types, categories, tags, and retention rules</li> </ul>"},{"location":"reference/#key-components","title":"Key Components","text":""},{"location":"reference/#three-layer-architecture","title":"Three-Layer Architecture","text":"<pre><code>INTENT LAYER (SKILL.md)\n    Detects record keeping intent, routes to workflows\n\nEXPERTISE LAYER (src/lib/)\n    TaxonomyExpert   - Country-specific retention rules (AU/US/UK)\n    TrustExpert      - ATO-compliant trust document management\n    WorkflowExpert   - Automated workflow recommendations\n    EntityCreator    - Dynamic entity creation\n    SensitivityExpert - Document sensitivity classification\n\nEXECUTION LAYER\n    PaperlessClient - Full paperless-ngx API wrapper (NO DELETE methods)\n    RecordManager   - CLI tool for all operations\n</code></pre>"},{"location":"reference/#environment-variables","title":"Environment Variables","text":"<p>All paperless-ngx configuration uses the <code>MADEINOZ_RECORDMANAGER_</code> prefix:</p> Variable Description Default <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> paperless-ngx instance URL Required <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code> API token with read/write permissions Required <code>MADEINOZ_RECORDMANAGER_COUNTRY</code> Country for compliance rules <code>Australia</code> <code>MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code> Default domain <code>household</code>"},{"location":"reference/#supported-countries","title":"Supported Countries","text":"<ul> <li>Australia (AU) - Full household, corporate, and trust support</li> <li>United States (US) - Household records</li> <li>United Kingdom (UK) - Household records</li> </ul>"},{"location":"reference/#entity-types","title":"Entity Types","text":"Type Description <code>household</code> Personal and family records <code>corporate</code> Business and company records <code>unit-trust</code> Unit trust structures <code>discretionary-trust</code> Discretionary family trusts <code>family-trust</code> Family trusts with FTE <code>project</code> Project-based records <code>person</code> Individual family member records"},{"location":"reference/#safety-design","title":"Safety Design","text":"<p>Important: The <code>PaperlessClient</code> has NO delete methods. Deletion requires the <code>DeleteConfirmation</code> workflow which mandates explicit user confirmation. This prevents catastrophic data loss.</p>"},{"location":"reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Getting Started - Installation and setup</li> <li>User Guide - Usage patterns and workflows</li> <li>Architecture - System design details</li> </ul>"},{"location":"reference/agents/","title":"Records Manager Agent Capabilities","text":"<p>Comprehensive documentation for specialized record keeping agents with domain expertise, personality characteristics, and collaboration workflows</p>"},{"location":"reference/agents/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Agent Roster</li> <li>Agent Details</li> <li>Agent Collaboration</li> <li>Integration with Records Manager</li> <li>Safety Considerations</li> <li>Example Scenarios</li> </ol>"},{"location":"reference/agents/#agent-roster","title":"Agent Roster","text":"Agent Icon Domain Personality Voice Specialization Records Keeper \ud83d\udccb Research Specialist Meticulous, Analytical, Systematic Drew (Professional, balanced) Document taxonomy and organization Compliance Guardian \u2696\ufe0f Legal Analyst Cautious, Meticulous, Thorough Joseph (Formal, authoritative) Retention requirements and compliance Archive Architect \ud83c\udfdb\ufe0f Data Analyst + Research Analytical, Pragmatic Charlotte (Sophisticated, intellectual) Storage strategy and lifecycle planning Deletion Auditor \ud83d\udee1\ufe0f Security Expert Skeptical, Cautious George (Warm, academic) Mandatory deletion safety Sensitivity Scanner \ud83d\udd12 Security Expert Cautious, Systematic James (Security-focused) Data classification and DLP Retention Monitor \u23f0 Business Strategist Meticulous, Cautious Joseph (Authoritative) Time-based compliance monitoring"},{"location":"reference/agents/#agent-details","title":"Agent Details","text":""},{"location":"reference/agents/#1-records-keeper","title":"1. Records Keeper \ud83d\udccb","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Research Specialist (Data Organization &amp; Classification)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Document taxonomy design principles</li> <li>Paperless-ngx tag hierarchies</li> <li>Metadata optimization strategies</li> <li>Search optimization techniques</li> <li>Organizational structure best practices</li> <li>Entity-specific classification (household, corporate, trusts)</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Meticulous, Analytical, Systematic</p> </li> <li> <p>Approach Methodology: Thorough, systematic analysis with attention to detail</p> </li> <li> <p>Communication Style: Professional, balanced, and neutral</p> </li> <li> <p>Problem-Solving Style: Data-driven with structured methodology</p> </li> </ul>"},{"location":"reference/agents/#voice-identity","title":"Voice Identity","text":"<ul> <li> <p>Voice: Drew (Professional, balanced, neutral)</p> </li> <li> <p>Voice ID: 29vD33N1CtxCmqQRPOHJ</p> </li> <li> <p>Characteristics: Clear, articulate, and consistently professional tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"organize my documents\"</p> </li> <li> <p>\"optimize my tagging system\"</p> </li> <li> <p>\"analyze document structure\"</p> </li> <li> <p>\"improve document findability\"</p> </li> <li> <p>\"create taxonomy\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>Analyzing document collections and suggesting taxonomies</p> </li> <li> <p>Organizing unstructured document repositories</p> </li> <li> <p>Designing tag hierarchies for households/corporations</p> </li> <li> <p>Improving document search and retrieval</p> </li> <li> <p>Quarterly document completeness verification (Entity Health Check)</p> </li> </ul>"},{"location":"reference/agents/#integration-with-other-agents","title":"Integration with Other Agents","text":"<ul> <li> <p>Handoff to Compliance Guardian: After organization, validates compliance</p> </li> <li> <p>Handoff to Archive Architect: Provides organized data for strategic planning</p> </li> <li> <p>Input from Sensitivity Scanner: Works with classified documents</p> </li> <li> <p>Collaboration with Retention Monitor: Ensures organized documents meet retention requirements</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios","title":"Example Scenarios","text":"<p>Scenario 1: Document Upload Organization <pre><code>User: \"Upload these tax documents and organize them properly\"\n\u2192 Records Keeper analyzes filenames and content\n\u2192 Uses TaxonomyExpert to suggest tags\n\u2192 Calls RecordManager upload with intelligent metadata\n\u2192 Provides summary of organization applied\n</code></pre></p> <p>Scenario 2: Taxonomy Optimization <pre><code>User: \"Improve my document tagging system\"\n\u2192 Analyzes current tag usage and document types\n\u2192 Identifies gaps and redundancies\n\u2192 Suggests optimized tag hierarchy\n\u2192 Recommends metadata improvements\n</code></pre></p>"},{"location":"reference/agents/#2-compliance-guardian","title":"2. Compliance Guardian \u2696\ufe0f","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base_1","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Legal Analyst (Retention &amp; Regulatory Requirements)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Country-specific retention requirements (Australia, US, UK)</li> <li>ATO compliance standards and regulations</li> <li>Trust deed retention requirements (permanent)</li> <li>Family Trust Election (FTE) 5+ year retention rules</li> <li>Audit trail verification procedures</li> <li>Risk assessment methodologies</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach_1","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Cautious, Meticulous, Thorough</p> </li> <li> <p>Approach Methodology: Thorough, exhaustive analysis with legal precision</p> </li> <li> <p>Communication Style: Formal, authoritative, and precise</p> </li> <li> <p>Problem-Solving Style: Risk-averse with compliance-first mindset</p> </li> </ul>"},{"location":"reference/agents/#voice-identity_1","title":"Voice Identity","text":"<ul> <li> <p>Voice: Joseph (Formal, authoritative, British)</p> </li> <li> <p>Voice ID: Zlb1dXrM653N07WRdFW3</p> </li> <li> <p>Characteristics: Confident, authoritative, and legally precise tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases_1","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"check compliance\"</p> </li> <li> <p>\"retention requirements\"</p> </li> <li> <p>\"legal review\"</p> </li> <li> <p>\"ato compliance\"</p> </li> <li> <p>\"trust deed requirements\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>Reviewing proposed deletions for legal risks</p> </li> <li> <p>Checking if documents can be safely destroyed</p> </li> <li> <p>Ensuring retention requirements are met</p> </li> <li> <p>Identifying compliance gaps in document storage</p> </li> <li> <p>Generating ATO compliance reports</p> </li> <li> <p>Warning about retention period violations</p> </li> </ul>"},{"location":"reference/agents/#integration-with-other-agents_1","title":"Integration with Other Agents","text":"<ul> <li> <p>Handoff to Deletion Auditor: Provides retention validation for deletion review</p> </li> <li> <p>Input from Retention Monitor: Uses retention deadline information</p> </li> <li> <p>Collaboration with Records Keeper: Validates organizational compliance</p> </li> <li> <p>Support for Sensitivity Scanner: Ensures classified documents meet regulatory standards</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios_1","title":"Example Scenarios","text":"<p>Scenario 1: Retention Validation <pre><code>User: \"Can I delete these old tax documents?\"\n\u2192 Compliance Guardian checks:\n  \u2022 Document type and retention period\n  \u2022 Country-specific requirements\n  \u2022 ATO compliance standards\n  \u2022 Trust deed implications (if applicable)\n\u2192 Provides clearance or warnings\n</code></pre></p> <p>Scenario 2: ATO Compliance Report <pre><code>User: \"Generate quarterly ATO compliance report\"\n\u2192 Compiles document retention status\n\u2022 Verifies retention periods are being followed\n\u2022 Generates audit trail documentation\n\u2022 Maps compliance to regulatory requirements\n</code></pre></p>"},{"location":"reference/agents/#3-archive-architect","title":"3. Archive Architect \ud83c\udfdb\ufe0f","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base_2","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Data Analyst + Research Specialist (Storage &amp; Retrieval Strategy)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Long-term document storage architecture</li> <li>Search optimization and retrieval patterns</li> <li>Archive structures and hierarchies</li> <li>Data migration and archival strategies</li> <li>Systems thinking for document lifecycles</li> <li>Tiered storage optimization</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach_2","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Analytical, Pragmatic</p> </li> <li> <p>Approach Methodology: Synthesizing, thorough with strategic thinking</p> </li> <li> <p>Communication Style: Sophisticated, intellectual, and precise</p> </li> <li> <p>Problem-Solving Style: Strategic with long-term perspective</p> </li> </ul>"},{"location":"reference/agents/#voice-identity_2","title":"Voice Identity","text":"<ul> <li> <p>Voice: Charlotte (Sophisticated, intellectual, precise)</p> </li> <li> <p>Voice ID: XB0fDUnXU5powFXDhCwa</p> </li> <li> <p>Characteristics: Intelligent, precise, and systematically clear tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases_2","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"archive strategy\"</p> </li> <li> <p>\"storage optimization\"</p> </li> <li> <p>\"lifecycle planning\"</p> </li> <li> <p>\"document migration\"</p> </li> <li> <p>\"long-term storage\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>Designing archival systems for large document collections</p> </li> <li> <p>Optimizing document findability across decades</p> </li> <li> <p>Planning archive-to-cold-storage migrations</p> </li> <li> <p>Creating retention policies and archive procedures</p> </li> <li> <p>Strategic document lifecycle planning</p> </li> <li> <p>Workflow effectiveness analysis</p> </li> </ul>"},{"location":"reference/agents/#integration-with-other-agents_2","title":"Integration with Other Agents","text":"<ul> <li> <p>Handoff to Compliance Guardian: Archive plans reviewed for compliance</p> </li> <li> <p>Input from Records Keeper: Uses organized document structures</p> </li> <li> <p>Collaboration with Retention Monitor: Aligns archive strategy with retention periods</p> </li> <li> <p>Input from Sensitivity Scanner: Considers sensitivity levels in archive design</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios_2","title":"Example Scenarios","text":"<p>Scenario 1: Archive Design <pre><code>User: \"Design an archive strategy for my corporate records\"\n\u2192 Analyzes document collection structure\n\u2192 Designs tiered storage strategy\n\u2192 Optimizes for search and retrieval\n\u2192 Provides migration plan with timelines\n</code></pre></p> <p>Scenario 2: Workflow Optimization <pre><code>User: \"Improve document processing workflows\"\n\u2192 Analyzes current workflow patterns\n\u2192 Identifies bottlenecks and inefficiencies\n\u2192 Recommends workflow enhancements\n\u2192 Suggests A/B testing approaches\n</code></pre></p>"},{"location":"reference/agents/#4-deletion-auditor","title":"4. Deletion Auditor \ud83d\udee1\ufe0f","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base_3","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Security Expert + Communications (Risk Assessment &amp; Safety)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Catastrophic loss prevention strategies</li> <li>Risk assessment methodologies</li> <li>Audit trail maintenance procedures</li> <li>Adversarial review techniques</li> <li>Retention period verification</li> <li>Legal compliance validation</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach_3","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Skeptical, Cautious</p> </li> <li> <p>Approach Methodology: Adversarial, exhaustive with stress-testing approach</p> </li> <li> <p>Communication Style: Warm, academic, and intellectually challenging</p> </li> <li> <p>Problem-Solving Style: Risk-focused with \"what could go wrong\" mentality</p> </li> </ul>"},{"location":"reference/agents/#voice-identity_3","title":"Voice Identity","text":"<ul> <li> <p>Voice: George (Warm, academic, intellectual)</p> </li> <li> <p>Voice ID: JBFqnCBsd6RMkjVDRZzb</p> </li> <li> <p>Characteristics: Thoughtful, academic, and safety-conscious tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases_3","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"delete documents\" (MANDATORY for all deletion requests)</p> </li> <li> <p>\"remove files\"</p> </li> <li> <p>\"destroy records\"</p> </li> <li> <p>\"clear out old documents\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>MANDATORY: Reviewing all deletion requests before execution</p> </li> <li> <p>Identifying risks in proposed bulk deletions</p> </li> <li> <p>Ensuring deletion confirmation workflow is followed</p> </li> <li> <p>Checking retention periods before allowing deletion</p> </li> <li> <p>Audit logging for compliance and legal protection</p> </li> </ul> <p>CRITICAL SAFETY ROLE: This agent MUST be consulted before ANY document deletion. The DeleteConfirmation workflow should route through this agent.</p>"},{"location":"reference/agents/#integration-with-other-agents_3","title":"Integration with Other Agents","text":"<ul> <li> <p>Mandatory Gatekeeper: All deletion requests route through this agent</p> </li> <li> <p>Input from Compliance Guardian: Uses retention period validation</p> </li> <li> <p>Input from Records Keeper: Understands document importance and relationships</p> </li> <li> <p>Input from Retention Monitor: Confirms documents are past retention periods</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios_3","title":"Example Scenarios","text":"<p>Scenario 1: Deletion Safety Review <pre><code>User: \"Delete all insurance documents from before 2020\"\n\u2192 Deletion Auditor conducts adversarial review:\n  \u2022 Checks retention requirements\n  \u2022 Identifies potential data loss risks\n  \u2022 Shows exactly what will be deleted\n  \u2022 Warns about consequences\n  \u2022 Requires explicit confirmation phrase\n  \u2022 Only after approval: proceeds with deletion\n</code></pre></p> <p>Scenario 2: Bulk Deletion Risk Assessment <pre><code>User: \"Remove all project files from 2018\"\n\u2192 Auditor stress-tests the request:\n  \u2022 Analyzes potential business impact\n  \u2022 Checks for regulatory implications\n  \u2022 Identifies dependent documents\n  \u2022 Questions deletion criteria\n  \u2022 Requires specific approval wording\n</code></pre></p>"},{"location":"reference/agents/#5-sensitivity-scanner","title":"5. Sensitivity Scanner \ud83d\udd12","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base_4","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Security Expert (Data Loss Prevention &amp; Classification)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Four-tier sensitivity classification (Public, Internal, Confidential, Restricted)</li> <li>HIPAA PHI detection patterns</li> <li>PCI-DSS cardholder data detection</li> <li>GDPR PII detection and flagging</li> <li>Legal privilege detection</li> <li>Security control requirements</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach_4","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Cautious, Systematic</p> </li> <li> <p>Approach Methodology: Systematic, thorough with pattern-based analysis</p> </li> <li> <p>Communication Style: Security-focused and precise</p> </li> <li> <p>Problem-Solving Style: Risk-averse with compliance-driven approach</p> </li> </ul>"},{"location":"reference/agents/#voice-identity_4","title":"Voice Identity","text":"<ul> <li> <p>Voice: James (Security-focused)</p> </li> <li> <p>Voice ID: ZQe5CZNOzWyzPSCn5a3c</p> </li> <li> <p>Characteristics: Security-conscious and systematically alert tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases_4","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"scan for sensitivity\"</p> </li> <li> <p>\"classify documents\"</p> </li> <li> <p>\"check for PII\"</p> </li> <li> <p>\"PHI detection\"</p> </li> <li> <p>\"security classification\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>Auto-classifying new uploads by sensitivity</p> </li> <li> <p>Scanning existing documents for sensitivity violations</p> </li> <li> <p>Detecting regulated data (PHI, PCI, PII)</p> </li> <li> <p>Applying appropriate sensitivity tags and colors</p> </li> <li> <p>DLP compliance monitoring</p> </li> <li> <p>Security risk assessment</p> </li> </ul> <p>Automatic Triggers:</p> <ul> <li> <p>New document uploads</p> </li> <li> <p>Daily scans of untagged documents</p> </li> <li> <p>Manual security reviews</p> </li> </ul>"},{"location":"reference/agents/#integration-with-other-agents_4","title":"Integration with Other Agents","text":"<ul> <li> <p>Input to All Agents: Provides sensitivity classifications for context</p> </li> <li> <p>Handoff to Compliance Guardian: High-sensitivity documents reviewed for compliance</p> </li> <li> <p>Input to Deletion Auditor: Sensitivity levels affect deletion risk assessment</p> </li> <li> <p>Collaboration with Archive Architect: Sensitive documents influence storage strategy</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios_4","title":"Example Scenarios","text":"<p>Scenario 1: Auto-Classification <pre><code>User uploads medical document\n\u2192 Sensitivity Scanner analyzes content:\n  \u2022 Detects PHI patterns\n  \u2022 Classifies as \"Confidential\"\n  \u2022 Applies red sensitivity tag\n  \u2022 Flags for encryption requirement\n  \u2022 Logs security classification\n</code></pre></p> <p>Scenario 2: Compliance Scan <pre><code>User: \"Scan all documents for sensitivity violations\"\n\u2192 Scanner analyzes entire document collection:\n  \u2022 Identifies unclassified sensitive documents\n  \u2022 Detects PII without proper tags\n  \u2022 Reports on security compliance gaps\n  \u2022 Recommends remediation actions\n</code></pre></p>"},{"location":"reference/agents/#6-retention-monitor","title":"6. Retention Monitor \u23f0","text":""},{"location":"reference/agents/#domain-expertise-and-knowledge-base_5","title":"Domain Expertise and Knowledge Base","text":"<ul> <li> <p>Primary Domain: Business Strategist (Time-Based Compliance)</p> </li> <li> <p>Knowledge Base:</p> </li> <li>Document retention period tracking</li> <li>Retention deadline monitoring</li> <li>Safe deletion verification</li> <li>ATO retention requirement adherence</li> <li>Archive readiness assessment</li> <li>Retention policy compliance</li> </ul>"},{"location":"reference/agents/#personality-characteristics-and-approach_5","title":"Personality Characteristics and Approach","text":"<ul> <li> <p>Personality Traits: Meticulous, Cautious</p> </li> <li> <p>Approach Methodology: Systematic with time-based precision</p> </li> <li> <p>Communication Style: Authoritative and business-focused</p> </li> <li> <p>Problem-Solving Style: Time-sensitive with compliance emphasis</p> </li> </ul>"},{"location":"reference/agents/#voice-identity_5","title":"Voice Identity","text":"<ul> <li> <p>Voice: Joseph (Authoritative, British)</p> </li> <li> <p>Voice ID: Zlb1dXr653N07WRdFW3</p> </li> <li> <p>Characteristics: Professional, authoritative, and time-conscious tone</p> </li> </ul>"},{"location":"reference/agents/#trigger-phrases-and-use-cases_5","title":"Trigger Phrases and Use Cases","text":"<p>Primary Triggers:</p> <ul> <li> <p>\"check retention\"</p> </li> <li> <p>\"what can I delete?\"</p> </li> <li> <p>\"retention status\"</p> </li> <li> <p>\"archive readiness\"</p> </li> <li> <p>\"deletion deadlines\"</p> </li> </ul> <p>Use Cases:</p> <ul> <li> <p>Monitoring document aging against retention requirements</p> </li> <li> <p>Alerting when documents can be safely deleted</p> </li> <li> <p>Tracking retention periods by document type</p> </li> <li> <p>Verifying retention rules are being followed</p> </li> <li> <p>Generating retention summary reports</p> </li> </ul> <p>Automatic Triggers:</p> <ul> <li> <p>Daily retention checks</p> </li> <li> <p>Document approaching retention deadlines</p> </li> <li> <p>Manual status queries</p> </li> </ul>"},{"location":"reference/agents/#integration-with-other-agents_5","title":"Integration with Other Agents","text":"<ul> <li> <p>Handoff to Deletion Auditor: Provides retention validation for deletion review</p> </li> <li> <p>Input to Compliance Guardian: Retention data used for compliance verification</p> </li> <li> <p>Collaboration with Records Keeper: Retention periods influence organization strategy</p> </li> <li> <p>Input to Archive Architect: Retention deadlines affect archive timing</p> </li> </ul>"},{"location":"reference/agents/#example-scenarios_5","title":"Example Scenarios","text":"<p>Scenario 1: Retention Status Check <pre><code>User: \"What documents are ready for deletion?\"\n\u2192 Retention Monitor analyzes:\n  \u2022 Document ages vs retention periods\n  \u2022 Country-specific requirements\n  \u2022 Trust deed implications\n  \u2022 Archive readiness status\n\u2192 Provides list of safely deletable documents\n</code></pre></p> <p>Scenario 2: Automated Retention Monitoring <pre><code>Daily scheduled task:\n\u2192 Monitor scans documents approaching retention deadlines\n\u2022 Generates alerts for documents ready for archival\n\u2022 Verifies compliance with retention policies\n\u2022 Updates retention status across document collection\n</code></pre></p>"},{"location":"reference/agents/#agent-collaboration","title":"Agent Collaboration","text":""},{"location":"reference/agents/#agent-collaboration-flowchart","title":"Agent Collaboration Flowchart","text":"<pre><code>flowchart TD\n    subgraph \"Annual Records Review Workflow\"\n        A[Annual Records Review Trigger] --&gt; B[Records Keeper&lt;br/&gt;Document Analysis]\n        A --&gt; C[Compliance Guardian&lt;br/&gt;Compliance Review]\n        A --&gt; D[Retention Monitor&lt;br/&gt;Deadline Assessment]\n    end\n\n    subgraph \"Document Processing Pipeline\"\n        B --&gt; E[Current Organization Status]\n        C --&gt; F[Compliance Requirements Check]\n        D --&gt; G[Retention Deadlines]\n    end\n\n    subgraph \"Strategic Analysis\"\n        E --&gt; H[Archive Architect&lt;br/&gt;Storage Strategy]\n        F --&gt; H\n        G --&gt; H\n        H --&gt; I[Strategic Recommendations&lt;br/&gt;Archive Plan]\n    end\n\n    subgraph \"Safety Gatekeeper\"\n        I --&gt; J[Deletion Auditor&lt;br/&gt;Safety Review]\n        J --&gt; K{Safe for Deletion?}\n        J --&gt; L[Archive Migration Required?]\n    end\n\n    subgraph \"Decision Points\"\n        K --&gt;|Yes| M[Safe Deletion Plan]\n        K --&gt;|No| N[Retention Extension]\n        L --&gt;|Yes| O[Archive Migration Plan]\n        L --&gt;|No| P[Status Update]\n    end\n\n    subgraph \"Execution\"\n        M --&gt; Q[Execute Deletion]\n        O --&gt; R[Execute Migration]\n        N --&gt; S[Update Retention]\n        P --&gt; T[Monitor Status]\n    end\n\n    subgraph \"Continuous Monitoring\"\n        Q --&gt; U[Post-Implementation Review]\n        R --&gt; U\n        S --&gt; U\n        T --&gt; U\n        U --&gt; V[Continuous Monitoring]\n        V --&gt; A\n    end\n\n    %% Agent color coding\n    classDef agent fill:#e3f2fd,stroke:#1976d2,stroke-width:2px\n    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px\n    classDef decision fill:#fff3e0,stroke:#f57c00,stroke-width:2px\n    classDef execution fill:#e8f5e8,stroke:#388e3c,stroke-width:2px\n    classDef monitoring fill:#fce4ec,stroke:#c2185b,stroke-width:2px\n\n    class B,C,D,E,F,G,H,I,J agent\n    class K,L decision\n    class M,N,O,P execution\n    class Q,R,S,T execution\n    class U,V monitoring</code></pre>  Use mouse to pan and zoom"},{"location":"reference/agents/#detailed-agent-handoffs","title":"Detailed Agent Handoffs","text":"<pre><code>sequenceDiagram\n    participant RK as Records Keeper\n    participant CG as Compliance Guardian\n    participant AM as Archive Architect\n    participant DA as Deletion Auditor\n    participant RM as Retention Monitor\n    participant SS as Sensitivity Scanner\n\n    %% Annual Review Flow\n    User-&gt;&gt;+RK: Start Annual Records Review\n    RK-&gt;&gt;RK: Analyze document organization\n    RK-&gt;&gt;RK: Identify structural issues\n    RK--&gt;&gt;-User: Current organization status\n\n    User-&gt;&gt;+CG: Review compliance status\n    CG-&gt;&gt;CG: Check retention compliance\n    CG-&gt;&gt;CG: Validate regulatory requirements\n    CG--&gt;&gt;-User: Compliance report\n\n    User-&gt;&gt;+RM: Check retention deadlines\n    RM-&gt;&gt;RM: Monitor document aging\n    RM-&gt;&gt;RM: Identify deletion candidates\n    RM--&gt;&gt;-User: Retention status\n\n    %% Strategic Planning\n    User-&gt;&gt;+AM: Design archive strategy\n    AM-&gt;&gt;AM: Analyze storage requirements\n    AM-&gt;&gt;AM: Design tiered storage\n    AM-&gt;&gt;AM: Plan migration timeline\n    AM--&gt;&gt;-User: Archive strategy\n\n    %% Safety Gatekeeper\n    User-&gt;&gt;+DA: Review proposed deletions\n    DA-&gt;&gt;DA: Stress-test deletion request\n    DA-&gt;&gt;DA: Check retention compliance\n    DA-&gt;&gt;DA: Assess data loss risk\n    DA--&gt;&gt;-User: Safety approval/rejection\n\n    %% Continuous Integration\n    loop Daily Monitoring\n        SS-&gt;&gt;SS: Auto-classify new documents\n        RM-&gt;&gt;RM: Check retention deadlines\n        CG-&gt;&gt;CG: Monitor compliance status\n    end\n\n    %% Handoff Triggers\n    RK-&gt;&gt;+CG: Handoff for compliance validation\n    CG-&gt;&gt;CG: Validate organization structure\n    CG--&gt;&gt;-RK: Compliance feedback\n\n    CG-&gt;&gt;+DA: Handoff for deletion safety\n    DA-&gt;&gt;DA: Review deletion safety\n    DA--&gt;&gt;-CG: Safety clearance\n\n    AM-&gt;&gt;+CG: Handoff for compliance review\n    CG-&gt;&gt;CG: Validate archive strategy\n    CG--&gt;&gt;-AM: Compliance approval\n\n    %% Emergency Response\n    alt Emergency Deletion Request\n        User-&gt;&gt;+DA: Emergency deletion\n        DA-&gt;&gt;DA: Immediate safety review\n        DA-&gt;&gt;+CG: Compliance validation\n        DA-&gt;&gt;+RM: Retention verification\n        DA--&gt;&gt;-User: Emergency approval\n    end</code></pre>  Use mouse to pan and zoom"},{"location":"reference/agents/#multi-agent-collaboration-matrix","title":"Multi-Agent Collaboration Matrix","text":"Workflow Phase Primary Agent Supporting Agents Handoff Points Safety Gateways Document Organization Records Keeper Sensitivity Scanner \u2192 Compliance Guardian Sensitivity Check Compliance Validation Compliance Guardian Retention Monitor \u2192 Deletion Auditor Retention Period Storage Planning Archive Architect Records Keeper, Retention Monitor \u2192 Compliance Guardian Archive Safety Deletion Safety Deletion Auditor Compliance Guardian, Records Keeper \u2192 Execute Deletion MANDATORY Sensitivity Classification Sensitivity Scanner All Agents \u2192 Compliance Guardian Data Protection Retention Monitoring Retention Monitor Compliance Guardian \u2192 Deletion Auditor Deadline Compliance"},{"location":"reference/agents/#collaboration-patterns","title":"Collaboration Patterns","text":""},{"location":"reference/agents/#pattern-1-document-upload-pipeline","title":"Pattern 1: Document Upload Pipeline","text":"<pre><code>1. Records Keeper: Analyzes document structure and organization\n\n2. Sensitivity Scanner: Classifies by sensitivity level\n\n3. Retention Monitor: Sets retention periods\n\n4. Compliance Guardian: Validates compliance of structure\n\n5. Archive Architect: Plans long-term storage strategy\n</code></pre>"},{"location":"reference/agents/#pattern-2-bulk-processing-workflow","title":"Pattern 2: Bulk Processing Workflow","text":"<pre><code>1. Records Keeper: Analyzes entire document collection\n\n2. Retention Monitor: Identifies retention status and deadlines\n\n3. Sensitivity Scanner: Classifies documents by sensitivity\n\n4. Compliance Guardian: Reviews compliance implications\n\n5. Archive Architect: Designs processing strategy\n\n6. Deletion Auditor: Reviews any proposed deletions\n</code></pre>"},{"location":"reference/agents/#pattern-3-archive-migration-workflow","title":"Pattern 3: Archive Migration Workflow","text":"<pre><code>1. Archive Architect: Designs migration strategy\n\n2. Records Keeper: Prepares document structure\n\n3. Compliance Guardian: Validates retention compliance\n\n4. Deletion Auditor: Reviews deletion components\n\n5. Retention Monitor: Tracks migration status\n</code></pre>"},{"location":"reference/agents/#handoff-points-between-agents","title":"Handoff Points Between Agents","text":"Current Agent Handoff To Trigger Condition Purpose Records Keeper Compliance Guardian Organization complete Validate compliance of new structure Compliance Guardian Deletion Auditor Deletion requested Ensure safety before deletion Retention Monitor Deletion Auditor Retention period expired Verify safe deletion Sensitivity Scanner Compliance Guardian High sensitivity detected Ensure regulatory compliance Archive Architect Compliance Guardian Archive strategy defined Verify retention compliance Records Keeper Archive Architect Organization complete Strategic storage planning All Agents Deletion Auditor Any deletion request MANDATORY safety checkpoint"},{"location":"reference/agents/#multi-agent-collaboration-examples","title":"Multi-Agent Collaboration Examples","text":""},{"location":"reference/agents/#example-1-document-lifecycle-management","title":"Example 1: Document Lifecycle Management","text":"<pre><code>1. Records Keeper: Organizes new documents\n\n2. Sensitivity Scanner: Classifies by sensitivity level\n\n3. Retention Monitor: Sets retention periods\n\n4. Compliance Guardian: Validates compliance\n\n5. Archive Architect: Plans long-term storage\n</code></pre>"},{"location":"reference/agents/#example-2-bulk-document-processing","title":"Example 2: Bulk Document Processing","text":"<pre><code>1. Records Keeper: Analyzes document collection\n\n2. Retention Monitor: Identifies retention status\n\n3. Sensitivity Scanner: Classifies documents\n\n4. Compliance Guardian: Reviews compliance implications\n\n5. Archive Architect: Designs processing strategy\n\n6. Deletion Auditor: Reviews any deletions\n</code></pre>"},{"location":"reference/agents/#integration-with-records-manager","title":"Integration with Records Manager","text":""},{"location":"reference/agents/#agent-tool-integration-matrix","title":"Agent-Tool Integration Matrix","text":"Agent Primary Tools Secondary Tools Integration Method Records Keeper TaxonomyExpert, EntityCreator, RecordManager PaperlessClient Direct tool calls Compliance Guardian TaxonomyExpert, TrustExpert, RetentionMonitor SensitivityExpert Review and validation Archive Architect PaperlessClient, WorkflowExpert, TaxonomyExpert All tools Strategic analysis Deletion Auditor Review system, audit logging Compliance tools Safety gatekeeper Sensitivity Scanner SensitivityExpert, PaperlessClient TaxonomyExpert Auto-classification Retention Monitor SensitivityExpert, TaxonomyExpert All tools Time-based tracking"},{"location":"reference/agents/#environment-setup","title":"Environment Setup","text":"<p>All agents require the Records Manager environment variables:</p> <pre><code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL=\"https://paperless.example.com\"\nMADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN=\"your-token\"\nMADEINOZ_RECORDMANAGER_COUNTRY=\"Australia\"\nMADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN=\"household\"\n</code></pre>"},{"location":"reference/agents/#agent-configuration","title":"Agent Configuration","text":"Agent AgentFactory Traits Voice ID Model Records Keeper meticulous, analytical, systematic 29vD33N1CtxCmqQRPOHJ sonnet Compliance Guardian legal, meticulous, cautious, thorough Zlb1dXrM653N07WRdFW3 sonnet Archive Architect technical, analytical, pragmatic, systematic XB0fDUnXU5powFXDhCwa sonnet Deletion Auditor security, skeptical, cautious, adversarial JBFqnCBsd6RMkjVDRZzb sonnet Sensitivity Scanner security, cautious, systematic, thorough ZQe5CZNOzWyzPSCn5a3c sonnet Retention Monitor business, meticulous, cautious, systematic Zlb1dXr653N07WRdFW3 sonnet"},{"location":"reference/agents/#safety-considerations","title":"Safety Considerations","text":""},{"location":"reference/agents/#critical-safety-rules","title":"Critical Safety Rules","text":""},{"location":"reference/agents/#1-deletion-auditor-mandatory-for-all-deletions","title":"1. Deletion Auditor - MANDATORY for All Deletions","text":"<ul> <li> <p>NON-NEGOTIABLE: All deletion requests MUST route through Deletion Auditor</p> </li> <li> <p>Adversarial Review: Agent stress-tests every deletion request</p> </li> <li> <p>Explicit Confirmation: Requires specific approval phrase before execution</p> </li> <li> <p>Audit Trail: All deletion decisions logged for compliance</p> </li> <li> <p>Risk Assessment: Identifies potential data loss and business impact</p> </li> </ul>"},{"location":"reference/agents/#2-compliance-validation","title":"2. Compliance Validation","text":"<ul> <li> <p>Retention Periods: All deletions must pass retention period validation</p> </li> <li> <p>Regulatory Compliance: Documents must meet country-specific requirements</p> </li> <li> <p>Trust Deed Compliance: Trust documents follow special retention rules</p> </li> <li> <p>Audit Trail: Maintain comprehensive compliance documentation</p> </li> </ul>"},{"location":"reference/agents/#3-sensitivity-protection","title":"3. Sensitivity Protection","text":"<ul> <li> <p>Automatic Classification: New documents automatically scanned for sensitivity</p> </li> <li> <p>Access Controls: Sensitive documents flagged for appropriate access controls</p> </li> <li> <p>Regulatory Compliance: PHI, PII, and PCI data properly protected</p> </li> <li> <p>Audit Trail: All sensitivity classifications logged</p> </li> </ul>"},{"location":"reference/agents/#4-archive-safety","title":"4. Archive Safety","text":"<ul> <li> <p>Backup Requirements: Critical documents must have appropriate backups</p> </li> <li> <p>Migration Safety: Archive migrations include rollback procedures</p> </li> <li> <p>Access Preservation: Ensure continued accessibility of archived documents</p> </li> <li> <p>Compliance Alignment: Archive strategies meet retention requirements</p> </li> </ul>"},{"location":"reference/agents/#anti-patterns-to-avoid","title":"Anti-Patterns to Avoid","text":"<p>\u274c Bypassing Deletion Auditor for any deletion request \u274c Using direct API deletion without agent review \u274c Ignoring agent warnings about retention periods \u274c Bulk deletions without individual review \u274c Skipping sensitivity classification for new documents \u274c Archive planning without compliance validation</p>"},{"location":"reference/agents/#emergency-procedures","title":"Emergency Procedures","text":""},{"location":"reference/agents/#document-deletion-emergency","title":"Document Deletion Emergency","text":"<ol> <li> <p>Immediate Halt: Stop any deletion in progress</p> </li> <li> <p>Deletion Auditor Review: Trigger immediate safety review</p> </li> <li> <p>Compliance Assessment: Verify legal compliance</p> </li> <li> <p>Recovery Assessment: Determine data restoration options</p> </li> <li> <p>Stakeholder Notification: Alert relevant parties</p> </li> <li> <p>Documentation: Complete incident documentation</p> </li> </ol>"},{"location":"reference/agents/#security-breach-response","title":"Security Breach Response","text":"<ol> <li> <p>Sensitivity Scanner: Immediate reclassification of affected documents</p> </li> <li> <p>Access Review: Verify document access controls</p> </li> <li> <p>Compliance Guardian: Assess regulatory implications</p> </li> <li> <p>Audit Trail: Document all actions taken</p> </li> <li> <p>Preventive Measures: Implement additional security controls</p> </li> </ol>"},{"location":"reference/agents/#example-scenarios_6","title":"Example Scenarios","text":""},{"location":"reference/agents/#scenario-1-new-document-upload-flow","title":"Scenario 1: New Document Upload Flow","text":"<pre><code>User: \"Upload these tax documents and organize them properly\"\n\nSystem Response:\n1. Records Keeper invoked \u2192 Analyzes documents and suggests organization\n2. Sensitivity Scanner invoked \u2192 Classifies documents by sensitivity level\n3. Retention Monitor invoked \u2192 Sets appropriate retention periods\n4. Compliance Guardian invoked \u2192 Validates compliance of organization\n5. All agents provide coordinated recommendations\n6. RecordManager uploads with intelligent metadata\n7. Complete summary of applied organization and classifications\n</code></pre>"},{"location":"reference/agents/#scenario-2-bulk-document-deletion","title":"Scenario 2: Bulk Document Deletion","text":"<pre><code>User: \"Delete all project files from 2018\"\n\nSystem Response:\n1. Routes to DeleteConfirmation workflow\n2. Deletion Auditor invoked (MANDATORY)\n   \u2022 Stress-tests the deletion request\n   \u2022 Identifies risks and dependencies\n   \u2022 Shows exactly what will be deleted\n   \u2022 Warns about potential consequences\n   \u2022 Requires explicit confirmation phrase\n3. Compliance Guardian invoked \u2192 Validates retention periods\n4. Records Keeper invoked \u2192 Assesses impact on document relationships\n5. Only after explicit approval \u2192 Executes deletion\n6. Audit trail logged for compliance\n</code></pre>"},{"location":"reference/agents/#scenario-3-archive-planning-strategy","title":"Scenario 3: Archive Planning Strategy","text":"<pre><code>User: \"Design an archive strategy for my corporate records\"\n\nSystem Response:\n1. Records Keeper invoked \u2192 Analyzes current document organization\n2. Retention Monitor invoked \u2192 Identifies document aging and status\n3. Sensitivity Scanner invoked \u2192 Classifies documents by sensitivity\n4. Archive Architect invoked \u2192 Designs strategic archive plan\n5. Compliance Guardian invoked \u2192 Validates archive compliance\n6. Deletion Auditor invoked \u2192 Reviews any proposed deletions\n7. Complete archival blueprint with safety approvals\n</code></pre>"},{"location":"reference/agents/#scenario-4-annual-compliance-review","title":"Scenario 4: Annual Compliance Review","text":"<pre><code>User: \"Perform annual compliance review of all documents\"\n\nSystem Response:\n1. Records Keeper \u2192 Analyzes document organization and structure\n2. Compliance Guardian \u2192 Reviews retention compliance across all documents\n3. Retention Monitor \u2192 Identifies documents approaching retention deadlines\n4. Sensitivity Scanner \u2192 Validates sensitivity classifications\n5. Archive Architect \u2192 Assesses archive readiness\n6. Deletion Auditor \u2192 Reviews any proposed deletions for safety\n7. Comprehensive compliance report with recommendations\n</code></pre>"},{"location":"reference/agents/#scenario-5-trust-document-management","title":"Scenario 5: Trust Document Management","text":"<pre><code>User: \"Manage trust deed and related documents\"\n\nSystem Response:\n1. Compliance Guardian invoked \u2192 Applies trust deed retention rules (permanent)\n2. Retention Monitor invoked \u2192 Sets FTE 5+ year retention from FTE date\n3. Sensitivity Scanner invoked \u2192 Classifies trust documents appropriately\n4. Records Keeper invoked \u2192 Organizes trust document structure\n5. Archive Architect invoked \u2192 Plans long-term trust document storage\n6. Deletion Auditor invoked \u2192 Ensures no trust documents are inappropriately deleted\n</code></pre>"},{"location":"reference/agents/#agent-usage-patterns","title":"Agent Usage Patterns","text":""},{"location":"reference/agents/#single-agent-usage","title":"Single Agent Usage","text":"<p>For focused tasks, invoke individual specialized agents for targeted assistance.</p>"},{"location":"reference/agents/#parallel-agent-usage","title":"Parallel Agent Usage","text":"<p>For comprehensive analysis, launch multiple agents simultaneously to provide complete coverage of different aspects.</p>"},{"location":"reference/agents/#sequential-agent-usage","title":"Sequential Agent Usage","text":"<p>For complex workflows, use agents in sequence where each agent builds upon the previous agent's work.</p>"},{"location":"reference/agents/#emergency-response","title":"Emergency Response","text":"<p>Critical safety situations trigger specific agent combinations with emphasis on security and compliance validation.</p> <p>Version: 2.3.0 Created: 2026-01-20 For: madeinoz-recordmanager-skill Status: Production Ready</p>"},{"location":"reference/api-reference/","title":"API Reference: TaxonomyExpert","text":"<p>Complete API reference for the hierarchical taxonomy system (v2.0).</p>"},{"location":"reference/api-reference/#constructor","title":"Constructor","text":""},{"location":"reference/api-reference/#new-taxonomyexpertcountry-domain-configpath","title":"<code>new TaxonomyExpert(country, domain, configPath?)</code>","text":"<p>Create a new TaxonomyExpert instance for navigating hierarchical taxonomies.</p> <p>Parameters: - <code>country</code> (string): ISO 3166-1 alpha-3 country code ('AUS', 'USA', or 'GBR') - <code>domain</code> (Domain): Entity type domain ('household', 'corporate', 'unit-trust', etc.) - <code>configPath</code> (string, optional): Custom path to taxonomies.yaml file</p> <p>Returns: <code>TaxonomyExpert</code> instance</p> <p>Example:</p> <pre><code>import { TaxonomyExpert } from './src/lib/TaxonomyExpert';\n\nconst expert = new TaxonomyExpert('AUS', 'household');\n</code></pre> <p>Throws: - Error if country is not supported - Error if config file cannot be loaded</p>"},{"location":"reference/api-reference/#hierarchical-navigation-methods","title":"Hierarchical Navigation Methods","text":""},{"location":"reference/api-reference/#getfunctionsdomain","title":"<code>getFunctions(domain)</code>","text":"<p>Get all functions for an entity type. Functions are the top level of the hierarchy.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type ('household', 'corporate', etc.)</p> <p>Returns: <code>TaxonomyFunction[]</code></p> <pre><code>interface TaxonomyFunction {\n  name: string;\n  description: string;\n  keywords: string[];\n  services: Record&lt;string, TaxonomyService&gt;;\n}\n</code></pre> <p>Example:</p> <pre><code>const functions = expert.getFunctions('household');\nfunctions.forEach(func =&gt; {\n  console.log(`${func.name}: ${func.description}`);\n  console.log(`Keywords: ${func.keywords.join(', ')}`);\n});\n</code></pre> <p>Output: <pre><code>HealthManagement: Health and medical records management\nKeywords: health, medical, wellness\nFinanceManagement: Financial records and tax documentation\nKeywords: finance, money, tax\n...\n</code></pre></p>"},{"location":"reference/api-reference/#getservicesdomain-functionname","title":"<code>getServices(domain, functionName)</code>","text":"<p>Get all services within a function. Services are the second level of the hierarchy.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>functionName</code> (string): Name of the function</p> <p>Returns: <code>TaxonomyService[]</code></p> <pre><code>interface TaxonomyService {\n  name: string;\n  description: string;\n  keywords: string[];\n  activities: Record&lt;string, TaxonomyActivity&gt;;\n}\n</code></pre> <p>Example:</p> <pre><code>const services = expert.getServices('household', 'HealthManagement');\nservices.forEach(service =&gt; {\n  console.log(`${service.name}: ${service.description}`);\n});\n</code></pre> <p>Output: <pre><code>MedicalCare: General medical and healthcare services\nDentalCare: Dental health services\nVisionCare: Vision and eye care services\n</code></pre></p>"},{"location":"reference/api-reference/#getactivitiesdomain-functionname-servicename","title":"<code>getActivities(domain, functionName, serviceName)</code>","text":"<p>Get all activities within a service. Activities are the third level of the hierarchy.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>functionName</code> (string): Name of the function - <code>serviceName</code> (string): Name of the service</p> <p>Returns: <code>TaxonomyActivity[]</code></p> <pre><code>interface TaxonomyActivity {\n  name: string;\n  description: string;\n  keywords: string[];\n  documentTypes: Record&lt;string, DocumentTypeConfig&gt;;\n}\n</code></pre> <p>Example:</p> <pre><code>const activities = expert.getActivities('household', 'HealthManagement', 'MedicalCare');\nactivities.forEach(activity =&gt; {\n  console.log(`${activity.name}: ${activity.description}`);\n});\n</code></pre> <p>Output: <pre><code>Consultations: Medical consultations and visits\nPrescriptions: Medication prescriptions and receipts\nTestResults: Medical test results and reports\n</code></pre></p>"},{"location":"reference/api-reference/#getdocumenttypesforactivitydomain-functionname-servicename-activityname","title":"<code>getDocumentTypesForActivity(domain, functionName, serviceName, activityName)</code>","text":"<p>Get all document types for an activity. Document types are the fourth level (leaf nodes).</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>functionName</code> (string): Name of the function - <code>serviceName</code> (string): Name of the service - <code>activityName</code> (string): Name of the activity</p> <p>Returns: <code>string[]</code> - Array of document type names</p> <p>Example:</p> <pre><code>const docTypes = expert.getDocumentTypesForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations'\n);\nconsole.log(docTypes);\n</code></pre> <p>Output: <pre><code>['Medical Receipt', 'Referral Letter', 'Specialist Referral']\n</code></pre></p>"},{"location":"reference/api-reference/#getretentionforactivitydomain-functionname-servicename-activityname-documenttype","title":"<code>getRetentionForActivity(domain, functionName, serviceName, activityName, documentType)</code>","text":"<p>Get retention requirements for a specific document type with full hierarchical context.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>functionName</code> (string): Name of the function - <code>serviceName</code> (string): Name of the service - <code>activityName</code> (string): Name of the activity - <code>documentType</code> (string): Name of the document type</p> <p>Returns: <code>RetentionRequirement</code></p> <pre><code>interface RetentionRequirement {\n  years: number;\n  legalCitation: string;\n  reasoning: string;\n  canDelete: boolean;\n  reason?: string;\n}\n</code></pre> <p>Example:</p> <pre><code>const retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations',\n  'Medical Receipt'\n);\n\nconsole.log(retention);\n</code></pre> <p>Output: <pre><code>{\n  years: 7,\n  legalCitation: 'ATO Record Keeping Requirements - Medical Expenses',\n  reasoning: 'Medical expenses may be claimed as tax deductions for 7 years',\n  canDelete: false,\n  reason: 'Document from 2019 must be kept until 2026 (7 years)'\n}\n</code></pre></p>"},{"location":"reference/api-reference/#path-validation-autocomplete-methods","title":"Path Validation &amp; Autocomplete Methods","text":""},{"location":"reference/api-reference/#validatepathdomain-path","title":"<code>validatePath(domain, path)</code>","text":"<p>Validate a hierarchical path exists in the taxonomy.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>path</code> (string): Hierarchical path to validate (Format: <code>Function/Service/Activity/DocumentType</code>)</p> <p>Returns: <code>ValidationResult</code></p> <pre><code>interface ValidationResult {\n  valid: boolean;\n  components?: {\n    function: string;\n    service: string;\n    activity: string;\n    documentType: string;\n  };\n  reason?: string;\n  suggestion?: string;\n}\n</code></pre> <p>Example:</p> <pre><code>const valid = expert.validatePath('household', 'HealthManagement/MedicalCare/Consultations/MedicalReceipt');\nconsole.log(valid);\n</code></pre> <p>Output (valid path): <pre><code>{\n  valid: true,\n  components: {\n    function: 'HealthManagement',\n    service: 'MedicalCare',\n    activity: 'Consultations',\n    documentType: 'MedicalReceipt'\n  }\n}\n</code></pre></p> <p>Output (invalid path): <pre><code>{\n  valid: false,\n  reason: 'Service \"InvalidService\" not found in function \"HealthManagement\"',\n  suggestion: 'Did you mean: MedicalCare, DentalCare, VisionCare?'\n}\n</code></pre></p>"},{"location":"reference/api-reference/#parsepathpath","title":"<code>parsePath(path)</code>","text":"<p>Parse a hierarchical path into its component levels.</p> <p>Parameters: - <code>path</code> (string): Hierarchical path (Format: <code>Function/Service/Activity/DocumentType</code>)</p> <p>Returns: Object with components</p> <pre><code>{\n  function: string;\n  service: string;\n  activity: string;\n  documentType: string;\n}\n</code></pre> <p>Example:</p> <pre><code>const parsed = expert.parsePath('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\nconsole.log(parsed);\n</code></pre> <p>Output: <pre><code>{\n  function: 'HealthManagement',\n  service: 'MedicalCare',\n  activity: 'Consultations',\n  documentType: 'MedicalReceipt'\n}\n</code></pre></p>"},{"location":"reference/api-reference/#resolvepathdomain-partialpath","title":"<code>resolvePath(domain, partialPath)</code>","text":"<p>Resolve a partial path with suggestions for completion.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>partialPath</code> (string): Incomplete hierarchical path</p> <p>Returns: Resolution result</p> <pre><code>{\n  suggestions: string[];  // Full paths that match the partial input\n  matched: string[];      // Components successfully matched so far\n  remaining: number;      // Number of levels still needed\n}\n</code></pre> <p>Example:</p> <pre><code>const resolved = expert.resolvePath('household', 'health/med');\nconsole.log(resolved);\n</code></pre> <p>Output: <pre><code>{\n  suggestions: [\n    'HealthManagement/MedicalCare/Consultations',\n    'HealthManagement/MedicalCare/Prescriptions',\n    'HealthManagement/MedicalCare/TestResults'\n  ],\n  matched: ['HealthManagement', 'MedicalCare'],\n  remaining: 2  // Still need Activity and DocumentType\n}\n</code></pre></p>"},{"location":"reference/api-reference/#autocompletedomain-partialpath","title":"<code>autocomplete(domain, partialPath)</code>","text":"<p>Get autocomplete suggestions for a partial hierarchical path.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>partialPath</code> (string): Partial path typed by user</p> <p>Returns: <code>string[]</code> - Array of matching full paths</p> <p>Features: - Case-insensitive matching - Fuzzy substring matching - Progressive path completion</p> <p>Example:</p> <pre><code>// Partial function name\nconst suggestions1 = expert.autocomplete('household', 'health');\nconsole.log(suggestions1);\n// Output: ['HealthManagement/MedicalCare/...', 'HealthManagement/DentalCare/...', ...]\n\n// Partial path with multiple levels\nconst suggestions2 = expert.autocomplete('household', 'health/med/cons');\nconsole.log(suggestions2);\n// Output: [\n//   'HealthManagement/MedicalCare/Consultations/MedicalReceipt',\n//   'HealthManagement/MedicalCare/Consultations/ReferralLetter',\n//   'HealthManagement/MedicalCare/Consultations/SpecialistReferral'\n// ]\n\n// Case-insensitive\nconst suggestions3 = expert.autocomplete('household', 'HEALTH/MEDICAL');\nconsole.log(suggestions3);\n// Output: Same as suggestions2\n</code></pre>"},{"location":"reference/api-reference/#searchbykeyworddomain-keywords","title":"<code>searchByKeyword(domain, keywords)</code>","text":"<p>Search for hierarchical paths by keywords (natural language description).</p> <p>Parameters: - <code>domain</code> (Domain): Entity type - <code>keywords</code> (string): Space-separated keywords describing the document</p> <p>Returns: <code>SearchResult[]</code></p> <pre><code>interface SearchResult {\n  path: string;\n  score: number;           // Relevance score (0-1)\n  matchedKeywords: string[];\n}\n</code></pre> <p>Example:</p> <pre><code>const results = expert.searchByKeyword('household', 'dental invoice consultation');\nconsole.log(results);\n</code></pre> <p>Output: <pre><code>[\n  {\n    path: 'HealthManagement/DentalCare/Consultations/DentalInvoice',\n    score: 0.95,\n    matchedKeywords: ['dental', 'invoice', 'consultation']\n  },\n  {\n    path: 'HealthManagement/DentalCare/Consultations/TreatmentPlan',\n    score: 0.65,\n    matchedKeywords: ['dental', 'consultation']\n  }\n]\n</code></pre></p>"},{"location":"reference/api-reference/#tag-path-generation-methods","title":"Tag &amp; Path Generation Methods","text":""},{"location":"reference/api-reference/#generatehierarchicaltagspath","title":"<code>generateHierarchicalTags(path)</code>","text":"<p>Generate hierarchical tags from a validated path for paperless-ngx tagging.</p> <p>Parameters: - <code>path</code> (string): Full hierarchical path (Format: <code>Function/Service/Activity/DocumentType</code>)</p> <p>Returns: <code>string[]</code> - Array of hierarchical tags</p> <p>Example:</p> <pre><code>const tags = expert.generateHierarchicalTags('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\nconsole.log(tags);\n</code></pre> <p>Output: <pre><code>[\n  'Function:HealthManagement',\n  'Service:MedicalCare',\n  'Activity:Consultations',\n  'DocumentType:MedicalReceipt'\n]\n</code></pre></p>"},{"location":"reference/api-reference/#generatestoragepathpath","title":"<code>generateStoragePath(path)</code>","text":"<p>Generate a filesystem-safe storage path from a hierarchical path.</p> <p>Parameters: - <code>path</code> (string): Full hierarchical path</p> <p>Returns: <code>string</code> - Filesystem-safe path with underscores</p> <p>Example:</p> <pre><code>const storagePath = expert.generateStoragePath('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\nconsole.log(storagePath);\n</code></pre> <p>Output: <pre><code>Health_Management/Medical_Care/Consultations/Medical_Receipt\n</code></pre></p> <p>Conversion rules: - PascalCase \u2192 Snake_Case - Spaces replaced with underscores - Forward slashes preserved for directory structure</p>"},{"location":"reference/api-reference/#helper-methods","title":"Helper Methods","text":""},{"location":"reference/api-reference/#getalldocumenttypesdomain","title":"<code>getAllDocumentTypes(domain)</code>","text":"<p>Get all document types with their full hierarchical paths.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type</p> <p>Returns: <code>DocumentTypeWithPath[]</code></p> <pre><code>interface DocumentTypeWithPath {\n  documentType: string;\n  path: string;\n  function: string;\n  service: string;\n  activity: string;\n}\n</code></pre> <p>Example:</p> <pre><code>const allTypes = expert.getAllDocumentTypes('household');\nallTypes.forEach(dt =&gt; {\n  console.log(`${dt.documentType} \u2192 ${dt.path}`);\n});\n</code></pre> <p>Output: <pre><code>Medical Receipt \u2192 HealthManagement/MedicalCare/Consultations/MedicalReceipt\nReferral Letter \u2192 HealthManagement/MedicalCare/Consultations/ReferralLetter\nBank Statement \u2192 FinanceManagement/Banking/Accounts/BankStatement\n...\n</code></pre></p>"},{"location":"reference/api-reference/#getalltagcategoriesdomain","title":"<code>getAllTagCategories(domain)</code>","text":"<p>Get all hierarchical tag categories for a domain.</p> <p>Parameters: - <code>domain</code> (Domain): Entity type</p> <p>Returns: <code>string[]</code> - Array of tag categories</p> <p>Example:</p> <pre><code>const categories = expert.getAllTagCategories('household');\nconsole.log(categories);\n</code></pre> <p>Output: <pre><code>[\n  'Function:HealthManagement',\n  'Service:MedicalCare',\n  'Service:DentalCare',\n  'Activity:Consultations',\n  'Activity:Prescriptions',\n  'DocumentType:MedicalReceipt',\n  ...\n]\n</code></pre></p>"},{"location":"reference/api-reference/#ishierarchicalavailable","title":"<code>isHierarchicalAvailable()</code>","text":"<p>Check if hierarchical taxonomy is available for this instance.</p> <p>Parameters: None</p> <p>Returns: <code>boolean</code> - True if hierarchical taxonomy is loaded and available</p> <p>Example:</p> <pre><code>if (expert.isHierarchicalAvailable()) {\n  const functions = expert.getFunctions('household');\n} else {\n  console.warn('Hierarchical taxonomy not available, falling back to flat taxonomy');\n}\n</code></pre>"},{"location":"reference/api-reference/#gettaxonomymode","title":"<code>getTaxonomyMode()</code>","text":"<p>Get the current taxonomy mode.</p> <p>Parameters: None</p> <p>Returns: <code>'hierarchical' | 'flat' | 'dual-mode'</code></p> <ul> <li><code>'hierarchical'</code>: Only hierarchical taxonomies are used</li> <li><code>'flat'</code>: Only flat taxonomies are used (legacy)</li> <li><code>'dual-mode'</code>: Both hierarchical and flat taxonomies are supported (transition period)</li> </ul> <p>Example:</p> <pre><code>const mode = expert.getTaxonomyMode();\nconsole.log(`Current mode: ${mode}`);\n\nif (mode === 'hierarchical') {\n  // Use new hierarchical methods\n} else if (mode === 'dual-mode') {\n  // Support both hierarchical and flat queries\n}\n</code></pre>"},{"location":"reference/api-reference/#static-methods","title":"Static Methods","text":""},{"location":"reference/api-reference/#taxonomyexpertgetsupportedcountries","title":"<code>TaxonomyExpert.getSupportedCountries()</code>","text":"<p>Get list of supported country codes.</p> <p>Parameters: None</p> <p>Returns: <code>string[]</code> - Array of ISO 3166-1 alpha-3 country codes</p> <p>Example:</p> <pre><code>const countries = TaxonomyExpert.getSupportedCountries();\nconsole.log(countries);\n// Output: ['AUS', 'USA', 'GBR']\n</code></pre>"},{"location":"reference/api-reference/#taxonomyexpertiscountrysupportedcountry","title":"<code>TaxonomyExpert.isCountrySupported(country)</code>","text":"<p>Check if a country code is supported.</p> <p>Parameters: - <code>country</code> (string): ISO 3166-1 alpha-3 country code</p> <p>Returns: <code>boolean</code></p> <p>Example:</p> <pre><code>console.log(TaxonomyExpert.isCountrySupported('AUS'));  // true\nconsole.log(TaxonomyExpert.isCountrySupported('FRA'));  // false\n</code></pre>"},{"location":"reference/api-reference/#taxonomyexpertgetsupportedtrusttypes","title":"<code>TaxonomyExpert.getSupportedTrustTypes()</code>","text":"<p>Get list of supported trust entity types.</p> <p>Parameters: None</p> <p>Returns: <code>string[]</code> - Array of trust types</p> <p>Example:</p> <pre><code>const trustTypes = TaxonomyExpert.getSupportedTrustTypes();\nconsole.log(trustTypes);\n// Output: ['unit-trust', 'discretionary-trust', 'family-trust']\n</code></pre>"},{"location":"reference/api-reference/#taxonomyexpertistrusttypedomain","title":"<code>TaxonomyExpert.isTrustType(domain)</code>","text":"<p>Check if a domain is a trust entity type.</p> <p>Parameters: - <code>domain</code> (string): Domain to check</p> <p>Returns: <code>boolean</code></p> <p>Example:</p> <pre><code>console.log(TaxonomyExpert.isTrustType('unit-trust'));      // true\nconsole.log(TaxonomyExpert.isTrustType('household'));       // false\n</code></pre>"},{"location":"reference/api-reference/#taxonomyexpertgetmetadata","title":"<code>TaxonomyExpert.getMetadata()</code>","text":"<p>Get metadata about the taxonomy system.</p> <p>Parameters: None</p> <p>Returns: Object with metadata</p> <pre><code>{\n  version: string;\n  supportedCountries: string[];\n  supportedDomains: string[];\n  totalFunctions: number;\n  totalServices: number;\n  totalActivities: number;\n  totalDocumentTypes: number;\n}\n</code></pre> <p>Example:</p> <pre><code>const metadata = TaxonomyExpert.getMetadata();\nconsole.log(metadata);\n</code></pre> <p>Output: <pre><code>{\n  version: '2.0.0',\n  supportedCountries: ['AUS', 'USA', 'GBR'],\n  supportedDomains: ['household', 'corporate', 'unit-trust', 'discretionary-trust', 'family-trust', 'project'],\n  totalFunctions: 12,\n  totalServices: 45,\n  totalActivities: 180,\n  totalDocumentTypes: 450\n}\n</code></pre></p>"},{"location":"reference/api-reference/#factory-function","title":"Factory Function","text":""},{"location":"reference/api-reference/#createexpertfromenv","title":"<code>createExpertFromEnv()</code>","text":"<p>Create a TaxonomyExpert instance from environment variables.</p> <p>Environment Variables: - <code>MADEINOZ_RECORDMANAGER_COUNTRY</code>: Country code (AUS, USA, or GBR) - <code>MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code>: Entity type domain</p> <p>Returns: <code>TaxonomyExpert</code> instance</p> <p>Example:</p> <pre><code>import { createExpertFromEnv } from './src/lib/TaxonomyExpert';\n\n// Uses environment variables\nconst expert = createExpertFromEnv();\n</code></pre> <p>Throws: - Error if environment variables are not set - Error if values are invalid</p>"},{"location":"reference/api-reference/#type-definitions","title":"Type Definitions","text":""},{"location":"reference/api-reference/#domain","title":"Domain","text":"<pre><code>type Domain =\n  | 'household'\n  | 'corporate'\n  | 'unit-trust'\n  | 'discretionary-trust'\n  | 'family-trust'\n  | 'project';\n</code></pre>"},{"location":"reference/api-reference/#country-codes","title":"Country Codes","text":"<pre><code>type CountryCode = 'AUS' | 'USA' | 'GBR';\n</code></pre>"},{"location":"reference/api-reference/#legacy-country-codes-deprecated","title":"Legacy Country Codes (Deprecated)","text":"<pre><code>type LegacyCountryCode = 'AU' | 'US' | 'UK';\n// Automatically normalized to alpha-3 codes\n</code></pre>"},{"location":"reference/api-reference/#error-handling","title":"Error Handling","text":"<p>All methods throw errors for invalid inputs:</p> <pre><code>try {\n  const expert = new TaxonomyExpert('INVALID', 'household');\n} catch (error) {\n  console.error(error.message);\n  // Output: 'Country \"INVALID\" not supported'\n}\n\ntry {\n  expert.validatePath('household', 'Invalid/Path/Here');\n} catch (error) {\n  console.error(error.message);\n  // Returns validation result with { valid: false, reason: '...' }\n}\n</code></pre>"},{"location":"reference/api-reference/#complete-usage-example","title":"Complete Usage Example","text":"<pre><code>import { TaxonomyExpert } from './src/lib/TaxonomyExpert';\nimport { PaperlessClient } from './src/lib/PaperlessClient';\n\n// Initialize expert\nconst expert = new TaxonomyExpert('AUS', 'household');\n\n// Progressive navigation\nconst functions = expert.getFunctions('household');\nconst services = expert.getServices('household', 'HealthManagement');\nconst activities = expert.getActivities('household', 'HealthManagement', 'MedicalCare');\nconst docTypes = expert.getDocumentTypesForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations'\n);\n\n// Validate and classify\nconst path = 'HealthManagement/MedicalCare/Consultations/MedicalReceipt';\nconst validation = expert.validatePath('household', path);\n\nif (validation.valid) {\n  // Generate tags and paths\n  const tags = expert.generateHierarchicalTags(path);\n  const storagePath = expert.generateStoragePath(path);\n\n  // Check retention\n  const retention = expert.getRetentionForActivity(\n    'household',\n    'HealthManagement',\n    'MedicalCare',\n    'Consultations',\n    'Medical Receipt'\n  );\n\n  // Upload to paperless-ngx\n  const client = new PaperlessClient(\n    process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_URL!,\n    process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN!\n  );\n\n  await client.uploadDocument('/path/to/document.pdf', {\n    title: 'Medical Receipt - Dr. Smith',\n    tags: tags,\n    custom_fields: {\n      taxonomy_path: path,\n      storage_path: storagePath,\n      retention_years: retention.years,\n      legal_citation: retention.legalCitation\n    }\n  });\n}\n</code></pre> <p>API Reference Version: 2.0.0 Last Updated: 2026-01-22 See Also: - Developer Quickstart - Hierarchical Taxonomies Guide - Contributing Taxonomies</p>"},{"location":"reference/changelog/","title":"Changelog","text":""},{"location":"reference/changelog/#overview","title":"Overview","text":"<p>The changelog tracks all notable changes to the Records Manager Skill. It follows the Keep a Changelog format and provides a comprehensive history of the project's development.</p>"},{"location":"reference/changelog/#viewing-the-changelog","title":"Viewing the Changelog","text":"<p>For the most detailed changelog with version history and release notes, please refer to the root CHANGELOG.md file.</p>"},{"location":"reference/changelog/#github-changelog","title":"GitHub Changelog","text":"<p>You can also view the changelog on GitHub at: *   Changelog on GitHub</p> <p>The GitHub version includes all commit history and pull request references alongside the structured release notes.</p>"},{"location":"reference/changelog/#version-navigation","title":"Version Navigation","text":"<ul> <li>Latest Release: 1.0.0</li> <li>Development: See the CHANGELOG.md for unreleased changes</li> </ul> <p>Each version entry includes: *   Release date *   Added features *   Changed functionality *   Deprecated features *   Fixed issues *   Security updates</p>"},{"location":"reference/cli/","title":"CLI Command Reference","text":"<p>The Records Manager CLI provides a comprehensive command-line interface for all document management operations.</p>"},{"location":"reference/cli/#usage","title":"Usage","text":"<pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts &lt;command&gt; [options]\n</code></pre>"},{"location":"reference/cli/#commands","title":"Commands","text":""},{"location":"reference/cli/#upload","title":"upload","text":"<p>Upload a document with intelligent tagging and metadata suggestions.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts upload &lt;file&gt; [options]\n</code></pre> Option Type Description <code>--title</code> string Custom document title (defaults to filename) <code>--domain</code> string Domain: <code>household</code>, <code>corporate</code>, <code>unit-trust</code>, <code>discretionary-trust</code>, <code>family-trust</code>, <code>project</code> <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts upload invoice.pdf --domain corporate\n</code></pre> <p>Output:</p> <ul> <li>Suggested document type</li> <li>Suggested tags</li> <li>Retention period and reason</li> <li>Created tag and document type IDs</li> <li>Uploaded document ID</li> </ul>"},{"location":"reference/cli/#search","title":"search","text":"<p>Search documents with filtering options.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts search [options]\n</code></pre> Option Type Description <code>--query</code> string Full-text search in document content <code>--tags</code> string Comma-separated tag names to filter <code>--type</code> string Document type filter <p>Examples:</p> <pre><code># Search by content\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --query \"invoice\"\n\n# Search by tags\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --tags \"tax,2024\"\n\n# Search by document type\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --type \"Tax Return\"\n</code></pre> <p>Output:</p> <ul> <li>Total document count</li> <li>Document ID, title, created date, and tags for each result</li> </ul>"},{"location":"reference/cli/#organize","title":"organize","text":"<p>Analyze and improve document organization with taxonomy suggestions. Dry run by default.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts organize [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to analyze <code>--apply</code> flag Apply suggested tags (omits for dry run) <p>Examples:</p> <pre><code># Dry run - see suggestions only\nbun run src/skills/RecordsManager/Tools/RecordManager.ts organize --domain household\n\n# Apply suggestions automatically\nbun run src/skills/RecordsManager/Tools/RecordManager.ts organize --domain household --apply\n</code></pre> <p>Output:</p> <ul> <li>Count of untagged documents</li> <li>Suggested tags and document type for each document</li> <li>Confirmation when tags are applied (with <code>--apply</code>)</li> </ul>"},{"location":"reference/cli/#tag","title":"tag","text":"<p>Add tags to one or more documents.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts tag &lt;docIds&gt; &lt;tagNames&gt;...\n</code></pre> Argument Type Description <code>docIds</code> string Comma-separated document IDs <code>tagNames</code> strings Tag names to add (space-separated) <p>Example:</p> <pre><code># Tag multiple documents\nbun run src/skills/RecordsManager/Tools/RecordManager.ts tag \"123,456,789\" tax 2024 corporate\n\n# Tag single document\nbun run src/skills/RecordsManager/Tools/RecordManager.ts tag \"123\" important\n</code></pre> <p>Output:</p> <ul> <li>Tag IDs that were created/found</li> <li>Confirmation for each tagged document</li> </ul>"},{"location":"reference/cli/#info","title":"info","text":"<p>Get detailed information about a document including retention status.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts info &lt;docId&gt;\n</code></pre> Argument Type Description <code>docId</code> string Document ID <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts info 12345\n</code></pre> <p>Output:</p> <ul> <li>Document ID and title</li> <li>Filename</li> <li>Created and modified dates</li> <li>Tags (with colors)</li> <li>Document type</li> <li>Retention period and reason (if applicable)</li> <li>Keep until date</li> <li>Whether deletion is allowed</li> </ul>"},{"location":"reference/cli/#retention","title":"retention","text":"<p>Display retention requirements for all document types in a domain.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts retention [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to show retention rules for <p>Examples:</p> <pre><code># Show default domain retention\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention\n\n# Show corporate domain retention\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain corporate\n\n# Show family trust retention\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain family-trust\n</code></pre> <p>Output:</p> <ul> <li>All document types for the domain</li> <li>Retention period in years</li> <li>Legal or regulatory reason for retention</li> </ul>"},{"location":"reference/cli/#status","title":"status","text":"<p>Test connection to paperless-ngx and display system status.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Output:</p> <p>1. Environment Configuration</p> <ul> <li> <p>PAPERLESS_URL (required)</p> </li> <li> <p>API_TOKEN (required)</p> </li> <li> <p>COUNTRY</p> </li> <li> <p>DEFAULT_DOMAIN</p> </li> </ul> <p>2. API Connectivity</p> <ul> <li> <p>API endpoint reachability</p> </li> <li> <p>Authentication status</p> </li> </ul> <p>3. Authentication &amp; Data Access</p> <ul> <li> <p>Tag count</p> </li> <li> <p>Document type count</p> </li> <li> <p>Total document count</p> </li> </ul> <p>4. Taxonomy Expert</p> <ul> <li> <p>Loaded country</p> </li> <li> <p>Document types defined</p> </li> <li> <p>Tag categories available</p> </li> </ul> <p>Exit Codes: <code>0</code> (all checks passed), <code>1</code> (checks failed)</p>"},{"location":"reference/cli/#install","title":"install","text":"<p>Install default country-specific taxonomies during initial setup.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts install [options]\n</code></pre> Option Type Description <code>--country</code> string Country for taxonomy installation (default: Australia) <code>--json</code> flag Output JSON format for scripting <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts install --country Australia\n</code></pre> <p>Output:</p> <ul> <li>Country installed</li> <li>Entity types installed</li> <li>Tags created count</li> <li>Document types created count</li> <li>Storage paths created count</li> <li>Custom fields created count</li> <li>Skipped resources (existing)</li> </ul>"},{"location":"reference/cli/#check-updates","title":"check-updates","text":"<p>Check for available taxonomy updates from YAML definitions.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates [options]\n</code></pre> Option Type Description <code>--country</code> string Country to check updates for (default: Australia) <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates --country Australia\n</code></pre> <p>Output:</p> <ul> <li>New Tags: Tags that will be created</li> <li>New Document Types: Document types that will be created</li> <li>New Storage Paths: Storage paths that will be created</li> <li>New Custom Fields: Custom fields that will be created</li> <li>\u26a0\ufe0f Retention Rule Changes: Changes requiring manual review (if any)</li> </ul> <p>Note: This command performs a dry-run and does not modify your paperless-ngx instance.</p>"},{"location":"reference/cli/#sync-taxonomies","title":"sync-taxonomies","text":"<p>Synchronize taxonomies by applying detected updates.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies [options]\n</code></pre> Option Type Description <code>--country</code> string Country to synchronize (default: Australia) <code>--approve-retention-changes</code> flag Required if retention rule changes are detected <p>Examples:</p> <pre><code># Apply updates without retention changes\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --country Australia\n\n# Apply updates WITH retention changes (requires explicit approval)\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --country Australia --approve-retention-changes\n</code></pre> <p>Output:</p> <ul> <li>Applied changes summary:</li> <li>Tags created</li> <li>Document types created</li> <li>Storage paths created</li> <li>Custom fields created</li> <li>Retention rules updated (if approved)</li> </ul> <p>Safety Features:</p> <ul> <li>Atomic transaction with rollback on failure</li> <li>Manual review required for retention rule changes</li> <li>Preserves existing user customizations</li> </ul>"},{"location":"reference/cli/#diff-taxonomies","title":"diff-taxonomies","text":"<p>Display taxonomy version history and changelog.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts diff-taxonomies\n</code></pre> <p>Output:</p> <ul> <li>Current taxonomy version</li> <li>Last update date</li> <li>Complete changelog with all versions:</li> <li>Version number</li> <li>Release date</li> <li>List of changes</li> </ul> <p>Example Output:</p> <pre><code>\ud83d\udccb Taxonomy Version History\n\nCurrent Version: 1.0.0\nLast Updated: 2026-01-22\n\n\ud83d\udcdc Changelog:\n\nVersion 1.0.0 (2026-01-22)\n   \u2022 Initial taxonomy definitions for Australia, United States, United Kingdom\n   \u2022 Complete household, corporate, and trust domain taxonomies\n   \u2022 Country-specific retention rules with legal citations\n</code></pre>"},{"location":"reference/cli/#delete","title":"delete","text":"<p>WARNING: Direct deletion is not supported through the CLI.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts delete &lt;query&gt;\n</code></pre> <p>This command will fail with a message directing you to use the <code>DeleteConfirmation</code> workflow. This safety measure prevents catastrophic data loss.</p>"},{"location":"reference/cli/#error-handling","title":"Error Handling","text":"<p>All commands return exit code <code>1</code> on error with descriptive error messages:</p> <pre><code>\u274c Error: Failed to connect to paperless-ngx API\n\u274c Error: Document 12345 not found\n\u274c Error: Invalid domain: invalid-domain\n</code></pre>"},{"location":"reference/cli/#hierarchical-taxonomy-commands-v20","title":"Hierarchical Taxonomy Commands (v2.0)","text":"<p>The following commands support the new hierarchical taxonomy system with 4-level classification: Function \u2192 Service \u2192 Activity \u2192 DocumentType.</p>"},{"location":"reference/cli/#taxonomy-functions","title":"taxonomy functions","text":"<p>Get all functions (top-level categories) for a domain.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query (defaults to <code>$MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code>) <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions --domain household\n</code></pre> <p>Output:</p> <pre><code>Functions for household:\n\u2022 HealthManagement - Health and medical records management\n\u2022 FinanceManagement - Financial records and tax documentation\n\u2022 PropertyManagement - Property ownership and maintenance\n\u2022 VehicleManagement - Vehicle ownership and maintenance\n\u2022 EducationManagement - Education and training records\n\u2022 LegalManagement - Legal documents and compliance\n</code></pre>"},{"location":"reference/cli/#taxonomy-services","title":"taxonomy services","text":"<p>Get all services within a function.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy services [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--function</code> string Function name (e.g., 'HealthManagement') <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy services \\\n  --domain household \\\n  --function HealthManagement\n</code></pre> <p>Output:</p> <pre><code>Services in HealthManagement:\n\u2022 MedicalCare - General medical and healthcare services\n\u2022 DentalCare - Dental health services\n\u2022 VisionCare - Vision and eye care services\n</code></pre>"},{"location":"reference/cli/#taxonomy-activities","title":"taxonomy activities","text":"<p>Get all activities within a service.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy activities [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--function</code> string Function name <code>--service</code> string Service name (e.g., 'MedicalCare') <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy activities \\\n  --domain household \\\n  --function HealthManagement \\\n  --service MedicalCare\n</code></pre> <p>Output:</p> <pre><code>Activities in HealthManagement/MedicalCare:\n\u2022 Consultations - Medical consultations and visits\n\u2022 Prescriptions - Medication prescriptions and receipts\n\u2022 TestResults - Medical test results and reports\n</code></pre>"},{"location":"reference/cli/#taxonomy-documenttypes","title":"taxonomy documenttypes","text":"<p>Get all document types for an activity.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy documenttypes [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--path</code> string Hierarchical path to activity (Format: <code>Function/Service/Activity</code>) <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy documenttypes \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations\"\n</code></pre> <p>Output:</p> <pre><code>Document Types in HealthManagement/MedicalCare/Consultations:\n\u2022 Medical Receipt\n\u2022 Referral Letter\n\u2022 Specialist Referral\n</code></pre>"},{"location":"reference/cli/#taxonomy-autocomplete","title":"taxonomy autocomplete","text":"<p>Get autocomplete suggestions for a partial hierarchical path.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--path</code> string Partial hierarchical path (supports fuzzy matching) <p>Features: - Case-insensitive matching - Fuzzy substring matching - Progressive path completion</p> <p>Examples:</p> <pre><code># Partial function name\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete \\\n  --domain household \\\n  --path \"health\"\n\n# Output:\n# Suggestions for \"health\":\n# \u2022 HealthManagement/MedicalCare/Consultations/MedicalReceipt\n# \u2022 HealthManagement/MedicalCare/Prescriptions/Prescription\n# \u2022 HealthManagement/DentalCare/Consultations/DentalInvoice\n# ...\n\n# Multiple levels\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete \\\n  --domain household \\\n  --path \"health/med/cons\"\n\n# Output:\n# Suggestions for \"health/med/cons\":\n# \u2022 HealthManagement/MedicalCare/Consultations/MedicalReceipt\n# \u2022 HealthManagement/MedicalCare/Consultations/ReferralLetter\n# \u2022 HealthManagement/MedicalCare/Consultations/SpecialistReferral\n</code></pre>"},{"location":"reference/cli/#taxonomy-search","title":"taxonomy search","text":"<p>Search for hierarchical paths by keywords (natural language).</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy search [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--keywords</code> string Space-separated keywords describing the document <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy search \\\n  --domain household \\\n  --keywords \"dental invoice consultation\"\n</code></pre> <p>Output:</p> <pre><code>Search results for \"dental invoice consultation\":\n1. HealthManagement/DentalCare/Consultations/DentalInvoice (score: 0.95)\n   Matched keywords: dental, invoice, consultation\n2. HealthManagement/DentalCare/Consultations/TreatmentPlan (score: 0.65)\n   Matched keywords: dental, consultation\n</code></pre>"},{"location":"reference/cli/#taxonomy-validate","title":"taxonomy validate","text":"<p>Validate a hierarchical path exists in the taxonomy.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy validate [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--path</code> string Full hierarchical path to validate (Format: <code>Function/Service/Activity/DocumentType</code>) <p>Example:</p> <pre><code># Valid path\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy validate \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n\n# Output:\n# \u2713 Path is valid\n# Components:\n#   Function: HealthManagement\n#   Service: MedicalCare\n#   Activity: Consultations\n#   DocumentType: MedicalReceipt\n\n# Invalid path\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy validate \\\n  --domain household \\\n  --path \"HealthManagement/InvalidService/Test/Doc\"\n\n# Output:\n# \u2717 Invalid path\n# Reason: Service \"InvalidService\" not found in function \"HealthManagement\"\n# Suggestion: Did you mean: MedicalCare, DentalCare, VisionCare?\n</code></pre>"},{"location":"reference/cli/#taxonomy-generate-tags","title":"taxonomy generate-tags","text":"<p>Generate hierarchical tags from a validated path.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy generate-tags [options]\n</code></pre> Option Type Description <code>--path</code> string Full hierarchical path <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy generate-tags \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre> <p>Output:</p> <pre><code>Hierarchical tags for: HealthManagement/MedicalCare/Consultations/MedicalReceipt\n\u2022 Function:HealthManagement\n\u2022 Service:MedicalCare\n\u2022 Activity:Consultations\n\u2022 DocumentType:MedicalReceipt\n</code></pre>"},{"location":"reference/cli/#taxonomy-generate-path","title":"taxonomy generate-path","text":"<p>Generate a filesystem-safe storage path from a hierarchical path.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy generate-path [options]\n</code></pre> Option Type Description <code>--path</code> string Full hierarchical path <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy generate-path \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre> <p>Output:</p> <pre><code>Storage path for: HealthManagement/MedicalCare/Consultations/MedicalReceipt\n\u2192 Health_Management/Medical_Care/Consultations/Medical_Receipt\n\n(Filesystem-safe: PascalCase \u2192 Snake_Case)\n</code></pre>"},{"location":"reference/cli/#taxonomy-retention","title":"taxonomy retention","text":"<p>Get retention requirements for a specific document type.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy retention [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to query <code>--path</code> string Full hierarchical path to document type <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy retention \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre> <p>Output:</p> <pre><code>Retention requirements for: HealthManagement/MedicalCare/Consultations/MedicalReceipt\n\nCountry: Australia\nRetention Period: 7 years\nLegal Citation: ATO Record Keeping Requirements - Medical Expenses\nReasoning: Medical expenses may be claimed as tax deductions for 7 years\n\nExample document from 2019:\n  Can delete: No\n  Reason: Document from 2019 must be kept until 2026 (7 years)\n</code></pre>"},{"location":"reference/cli/#upload-with-hierarchical-path","title":"upload (with hierarchical path)","text":"<p>Upload a document with hierarchical classification. Updated in v2.0.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts upload &lt;file&gt; [options]\n</code></pre> Option Type Description <code>--title</code> string Custom document title (defaults to filename) <code>--domain</code> string Domain: <code>household</code>, <code>corporate</code>, etc. <code>--path</code> string NEW v2.0: Full hierarchical path for classification <p>Example:</p> <pre><code># Upload with hierarchical path\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload medical-receipt.pdf \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations/MedicalReceipt\"\n</code></pre> <p>Output:</p> <pre><code>Uploading: medical-receipt.pdf\nDomain: household\nHierarchical Path: HealthManagement/MedicalCare/Consultations/MedicalReceipt\n\nGenerated tags:\n\u2022 Function:HealthManagement\n\u2022 Service:MedicalCare\n\u2022 Activity:Consultations\n\u2022 DocumentType:MedicalReceipt\n\nStorage path: Health_Management/Medical_Care/Consultations/Medical_Receipt\nRetention: 7 years (ATO Record Keeping Requirements)\n\n\u2713 Document uploaded successfully (ID: 12345)\n</code></pre>"},{"location":"reference/cli/#migration-status","title":"migration status","text":"<p>Check migration status from flat to hierarchical taxonomies.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts migration status [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to check <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts migration status --domain household\n</code></pre> <p>Output:</p> <pre><code>Migration Status for household:\nTotal Documents: 1000\nWith Hierarchical Tags: 950 (95%)\nWith Storage Paths: 950 (95%)\nMissing Mappings: 50 (5%)\n\nStatus: Migration 95% complete\nRemaining: 50 documents need manual review\n</code></pre>"},{"location":"reference/cli/#migration-verify","title":"migration verify","text":"<p>Verify migration completeness.</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts migration verify [options]\n</code></pre> Option Type Description <code>--domain</code> string Domain to verify <p>Example:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts migration verify --domain household\n</code></pre> <p>Output:</p> <pre><code>\u2713 Migration Verification Results:\n  Total Documents: 1000\n  With Hierarchical Tags: 1000 (100%)\n  With Storage Paths: 1000 (100%)\n  Missing Mappings: 0 (0%)\n\n\u2713 All documents successfully migrated\n</code></pre>"},{"location":"reference/cli/#environment-variable-reference","title":"Environment Variable Reference","text":"Variable Required Description <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> Yes Full URL to paperless-ngx instance <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code> Yes API token from paperless-ngx settings <code>MADEINOZ_RECORDMANAGER_COUNTRY</code> No Country for compliance (default: Australia) <code>MADEINOZ_RECORDMANAGER_DEFAULT_DOMAIN</code> No Default domain (default: household)"},{"location":"reference/cli/#exit-codes","title":"Exit Codes","text":"Code Meaning <code>0</code> Success <code>1</code> Error (details printed to stderr)"},{"location":"reference/taxonomy-data-structure/","title":"Hierarchical Taxonomy Data Structure","text":"<p>This reference describes the hierarchical taxonomy data structures used by the Records Manager for document classification, tagging, and retention rules.</p>"},{"location":"reference/taxonomy-data-structure/#overview","title":"Overview","text":"<p>The Records Manager uses a 4-level hierarchical taxonomy system that provides structured, navigable classification for documents. This hierarchy mirrors natural organizational thinking and enables precise document classification while maintaining discoverability.</p> <p>Configuration Location: Taxonomies are stored as JSON files in <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/{domain}.json</code> and loaded by the TaxonomyExpert.</p> <p>For extending taxonomies: See Adding Hierarchical Taxonomies.</p>"},{"location":"reference/taxonomy-data-structure/#hierarchical-structure","title":"Hierarchical Structure","text":"<pre><code>Function \u2192 Service \u2192 Activity \u2192 DocumentType\n</code></pre> <ul> <li>Function: Top-level capability area (e.g., \"HealthManagement\", \"FinancialManagement\")</li> <li>Service: Specific offering within a function (e.g., \"MedicalCare\", \"DentalCare\")</li> <li>Activity: Discrete operational task (e.g., \"Consultations\", \"Prescriptions\")</li> <li>DocumentType: Specific document types for the activity (e.g., \"Medical Receipt\", \"Prescription\")</li> </ul> <p>Example: <pre><code>HealthManagement/MedicalCare/Consultations/MedicalReceipt\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#typescript-type-definitions","title":"TypeScript Type Definitions","text":"<p>All types are defined in <code>src/lib/types/HierarchicalTaxonomy.ts</code>.</p>"},{"location":"reference/taxonomy-data-structure/#domain","title":"Domain","text":"<p>Domains supported by the system:</p> <pre><code>type Domain =\n  | 'household'      // Personal and family records\n  | 'corporate'      // Business records\n  | 'unit-trust'     // Unit trust structures\n  | 'discretionary-trust'  // Discretionary family trusts\n  | 'family-trust'   // Family trusts with FTE\n  | 'hybrid-trust'   // Hybrid trust structures\n  | 'project'        // Project-based records\n  | 'person';        // Individual family member records\n</code></pre>"},{"location":"reference/taxonomy-data-structure/#country","title":"Country","text":"<p>Supported countries with distinct retention rules (ISO 3166-1 alpha-3):</p> <pre><code>type Country = 'AUS' | 'USA' | 'GBR';\n</code></pre> <ul> <li>AUS: Australia</li> <li>USA: United States</li> <li>GBR: United Kingdom</li> </ul>"},{"location":"reference/taxonomy-data-structure/#taxonomymode","title":"TaxonomyMode","text":"<p>Operation mode during the 12-month transition period:</p> <pre><code>type TaxonomyMode = 'flat' | 'hierarchical' | 'hybrid';\n</code></pre> <ul> <li>flat: Legacy flat document type system</li> <li>hierarchical: New 4-level FSA structure</li> <li>hybrid: Both systems active (transition period)</li> </ul>"},{"location":"reference/taxonomy-data-structure/#retentionfromdate","title":"RetentionFromDate","text":"<p>Date from which retention period calculation starts:</p> <pre><code>type RetentionFromDate = 'creation' | 'fy_end' | 'fte_date' | 'distribution';\n</code></pre> <ul> <li>creation: From document creation date</li> <li>fy_end: From end of financial year</li> <li>fte_date: From Family Trust Election date (trust-specific)</li> <li>distribution: From distribution date (trust-specific)</li> </ul>"},{"location":"reference/taxonomy-data-structure/#core-hierarchical-entities","title":"Core Hierarchical Entities","text":""},{"location":"reference/taxonomy-data-structure/#hierarchicaltaxonomy","title":"HierarchicalTaxonomy","text":"<p>Root entity representing the complete taxonomy for a domain:</p> <pre><code>interface HierarchicalTaxonomy {\n  entityType: Domain;               // Domain (household, corporate, etc.)\n  country: Country;                 // Country code (AUS, USA, GBR)\n  countryName: string;              // Human-readable country name\n  version: string;                  // Semantic version (e.g., \"1.0.0\")\n  functions: Record&lt;string, TaxonomyFunction&gt;;  // Map of function definitions\n  metadata: TaxonomyMetadata;       // Creation and update metadata\n}\n</code></pre> <p>Example: <pre><code>{\n  \"entityType\": \"household\",\n  \"country\": \"AUS\",\n  \"countryName\": \"Australia\",\n  \"version\": \"1.0.0\",\n  \"functions\": { ... },\n  \"metadata\": { ... }\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#taxonomyfunction","title":"TaxonomyFunction","text":"<p>Top-level category representing a major area of activity:</p> <pre><code>interface TaxonomyFunction {\n  name: string;                     // Function name (PascalCase, unique)\n  description: string;              // Human-readable description\n  services: Record&lt;string, TaxonomyService&gt;;  // Map of service definitions\n  icon?: string;                    // Optional icon (emoji or identifier)\n}\n</code></pre> <p>Example: <pre><code>{\n  \"name\": \"HealthManagement\",\n  \"description\": \"Health and medical care documentation\",\n  \"icon\": \"\ud83c\udfe5\",\n  \"services\": { ... }\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#taxonomyservice","title":"TaxonomyService","text":"<p>Mid-level category representing a service area:</p> <pre><code>interface TaxonomyService {\n  name: string;                     // Service name (PascalCase, unique within function)\n  description: string;              // Human-readable description\n  activities: Record&lt;string, TaxonomyActivity&gt;;  // Map of activity definitions\n  icon?: string;                    // Optional icon\n}\n</code></pre> <p>Example: <pre><code>{\n  \"name\": \"MedicalCare\",\n  \"description\": \"Primary healthcare and specialist consultations\",\n  \"icon\": \"\ud83e\ude7a\",\n  \"activities\": { ... }\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#taxonomyactivity","title":"TaxonomyActivity","text":"<p>Leaf-level category with document types and retention rules:</p> <pre><code>interface TaxonomyActivity {\n  name: string;                     // Activity name (PascalCase, unique within service)\n  description: string;              // Human-readable description\n  documentTypes: string[];          // Document types for this activity\n  retention: Record&lt;Country, RetentionRule&gt;;  // Country-specific retention rules\n  icon?: string;                    // Optional icon\n  keywords?: string[];              // Search keywords for autocomplete\n}\n</code></pre> <p>Example: <pre><code>{\n  \"name\": \"DoctorVisits\",\n  \"description\": \"Medical appointments and consultation records\",\n  \"icon\": \"\ud83d\udc68\u200d\u2695\ufe0f\",\n  \"documentTypes\": [\n    \"Doctor's Note\",\n    \"Consultation Summary\",\n    \"Referral Letter\"\n  ],\n  \"retention\": {\n    \"AUS\": {\n      \"years\": 7,\n      \"authority\": \"Privacy Act 1988\",\n      \"notes\": \"Medical records retention requirement\"\n    }\n  },\n  \"keywords\": [\"doctor\", \"physician\", \"gp\", \"medical\", \"consultation\"]\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#retentionrule","title":"RetentionRule","text":"<p>Country-specific retention requirement:</p> <pre><code>interface RetentionRule {\n  years: number;                    // Retention period (0 = permanent)\n  authority: string;                // Legal authority or regulation\n  notes?: string;                   // Additional context\n  fromDate?: RetentionFromDate;     // Start date for retention period\n}\n</code></pre> <p>Example: <pre><code>{\n  \"years\": 7,\n  \"authority\": \"ATO Section 254 of Tax Administration Act 1953\",\n  \"notes\": \"Tax deduction substantiation requirement\",\n  \"fromDate\": \"fy_end\"\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#taxonomymetadata","title":"TaxonomyMetadata","text":"<p>Metadata about taxonomy creation and updates:</p> <pre><code>interface TaxonomyMetadata {\n  createdAt: string;                // ISO 8601 timestamp\n  updatedAt: string;                // ISO 8601 timestamp\n  createdBy: string;                // Creator identifier\n  source: TaxonomySource;           // Data source\n  checksum?: string;                // SHA-256 content hash\n}\n</code></pre> <p>TaxonomySource: <pre><code>type TaxonomySource = 'default-taxonomy' | 'custom' | 'imported';\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#navigation-and-path-entities","title":"Navigation and Path Entities","text":""},{"location":"reference/taxonomy-data-structure/#taxonomypath","title":"TaxonomyPath","text":"<p>Complete navigation path through the hierarchy:</p> <pre><code>interface TaxonomyPath {\n  function: string;                 // Function name\n  service: string;                  // Service name\n  activity: string;                 // Activity name\n  fullPath: string;                 // Complete slash-delimited path\n}\n</code></pre> <p>Example: <pre><code>{\n  function: \"HealthManagement\",\n  service: \"MedicalCare\",\n  activity: \"DoctorVisits\",\n  fullPath: \"HealthManagement/MedicalCare/DoctorVisits\"\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#navigationbreadcrumb","title":"NavigationBreadcrumb","text":"<p>Breadcrumb for CLI display during navigation:</p> <pre><code>interface NavigationBreadcrumb {\n  function: string | null;          // Current function (null if at root)\n  service: string | null;           // Current service (null if function not selected)\n  activity: string | null;          // Current activity (null if service not selected)\n  display: string;                  // Formatted breadcrumb string\n}\n</code></pre> <p>Example: <pre><code>{\n  function: \"HealthManagement\",\n  service: \"MedicalCare\",\n  activity: null,\n  display: \"Health Management \u2192 Medical Care \u2192 [Select Activity]\"\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#autocompletesuggestion","title":"AutocompleteSuggestion","text":"<p>Autocomplete suggestion with ranking:</p> <pre><code>interface AutocompleteSuggestion {\n  value: string;                    // Full path or component name\n  display: string;                  // Display text for user\n  score: number;                    // Match quality (0-1, higher is better)\n  matchType: 'exact' | 'prefix' | 'abbreviated' | 'fuzzy';  // Match type\n}\n</code></pre> <p>Example: <pre><code>{\n  value: \"HealthManagement/MedicalCare/DoctorVisits\",\n  display: \"Health Management / Medical Care / Doctor Visits\",\n  score: 0.95,\n  matchType: \"prefix\"\n}\n</code></pre></p>"},{"location":"reference/taxonomy-data-structure/#file-locations","title":"File Locations","text":"Domain File Path household <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/household.json</code> corporate <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/corporate.json</code> unit-trust <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/unit-trust.json</code> discretionary-trust <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/discretionary-trust.json</code> family-trust <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/family-trust.json</code> hybrid-trust <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/hybrid-trust.json</code> project <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/project.json</code> person <code>src/skills/RECORDSMANAGER/Config/taxonomies/hierarchical/person.json</code>"},{"location":"reference/taxonomy-data-structure/#api-usage","title":"API Usage","text":""},{"location":"reference/taxonomy-data-structure/#loading-taxonomy","title":"Loading Taxonomy","text":"<pre><code>import { TaxonomyExpert } from './src/skills/RECORDSMANAGER/Lib/TaxonomyExpert';\n\n// Create expert for household entity in Australia using hierarchical mode\nconst expert = new TaxonomyExpert('AUS', 'household', 'hierarchical');\n\n// Get all functions\nconst functions = expert.getFunctions('household');\n// Returns: TaxonomyFunction[]\n\n// Get services for a function\nconst services = expert.getServices('household', 'HealthManagement');\n// Returns: TaxonomyService[]\n\n// Get activities for a service\nconst activities = expert.getActivities('household', 'HealthManagement', 'MedicalCare');\n// Returns: TaxonomyActivity[]\n\n// Get document types for an activity\nconst docTypes = expert.getDocumentTypesForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'DoctorVisits'\n);\n// Returns: string[]\n\n// Get retention rules for an activity\nconst retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'DoctorVisits'\n);\n// Returns: Record&lt;Country, RetentionRule&gt;\n</code></pre>"},{"location":"reference/taxonomy-data-structure/#path-operations","title":"Path Operations","text":"<pre><code>// Validate a path\nconst validation = expert.validatePath('household', 'HealthManagement/MedicalCare/DoctorVisits');\n// Returns: { valid: boolean; errors?: string[] }\n\n// Parse a path\nconst parsed = expert.parsePath('household', 'HealthManagement/MedicalCare/DoctorVisits');\n// Returns: TaxonomyPath\n\n// Autocomplete partial path\nconst suggestions = expert.autocomplete('household', 'Health/Med', { maxResults: 10 });\n// Returns: AutocompleteSuggestion[]\n\n// Generate hierarchical tags\nconst tags = expert.generateHierarchicalTags(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'DoctorVisits'\n);\n// Returns: string[] (e.g., ['HealthManagement', 'MedicalCare', 'DoctorVisits', ...])\n\n// Generate storage path\nconst storagePath = expert.generateStoragePath(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'DoctorVisits'\n);\n// Returns: string (e.g., '/Household/Health Management/Medical Care/Doctor Visits')\n</code></pre>"},{"location":"reference/taxonomy-data-structure/#performance-characteristics","title":"Performance Characteristics","text":"<p>Based on validation testing (Phase 11, Task T147):</p> Operation Average Time Notes Initial taxonomy load 0.91ms Cold start, all 8 domains getFunctions &lt;0.001ms Cached, sub-millisecond getServices &lt;0.001ms Cached, sub-millisecond getActivities &lt;0.001ms Cached, sub-millisecond validatePath 0.001ms Path validation parsePath 0.001ms Path parsing autocomplete 0.02-0.21ms Depends on input length searchByKeyword 0.31ms Keyword-based search generateHierarchicalTags 0.002ms Tag generation generateStoragePath 0.002ms Path generation Full traversal (8 domains) 6.87ms Complete hierarchy navigation <p>Memory: No memory leaks detected. Cache stable at 0MB growth on 1,000 repeated loads (Phase 11, Task T148).</p>"},{"location":"reference/taxonomy-data-structure/#see-also","title":"See Also","text":"<ul> <li>Hierarchical Taxonomies User Guide</li> <li>Adding Hierarchical Taxonomies</li> <li>Developer Quickstart</li> <li>Type Contracts</li> </ul>"},{"location":"tutorials/","title":"Tutorials","text":"<p>Welcome to the Records Manager Skill tutorials. These hands-on guides will help you get started with managing documents, creating entities, and staying compliant with retention requirements.</p>"},{"location":"tutorials/#tutorial-overview","title":"Tutorial Overview","text":"Tutorial Description Time Difficulty First Upload Upload your first document to paperless-ngx 5 min Beginner Entity Creation Create custom entities for households, trusts, and businesses 10 min Intermediate Retention Check Verify document retention compliance 5 min Beginner Batch Import Bulk import multiple documents efficiently 15 min Intermediate"},{"location":"tutorials/#before-you-begin","title":"Before You Begin","text":"<p>Ensure you have:</p> <ol> <li>PAI installed with the Records Manager Skill loaded</li> <li>paperless-ngx running with API access configured</li> <li>Environment variables set:</li> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code></li> <li><code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code></li> </ol>"},{"location":"tutorials/#what-youll-learn","title":"What You'll Learn","text":"<ul> <li> <p>How to upload documents with automatic tagging</p> </li> <li> <p>How to create and manage custom entities</p> </li> <li> <p>How to verify retention compliance for your jurisdiction</p> </li> <li> <p>How to perform bulk operations efficiently</p> </li> <li> <p>Best practices for document organization</p> </li> </ul>"},{"location":"tutorials/#need-help","title":"Need Help?","text":"<ul> <li> <p>See the Configuration Guide for setup instructions</p> </li> <li> <p>Check the Reference for complete command documentation</p> </li> <li> <p>Review the Workflows for advanced automation patterns</p> </li> </ul>"},{"location":"tutorials/batch-import/","title":"Tutorial: Bulk Document Import","text":"<p>This tutorial guides you through importing multiple documents efficiently, with automatic tagging and organization.</p>"},{"location":"tutorials/batch-import/#objective","title":"Objective","text":"<p>Import multiple documents in bulk with consistent tagging, domain assignment, and metadata.</p>"},{"location":"tutorials/batch-import/#prerequisites","title":"Prerequisites","text":"<ul> <li>\u2705 Completed First Upload tutorial</li> <li>\u2705 Entities created (see Entity Creation)</li> <li>\u2705 Multiple documents prepared for import</li> <li>\u2705 Understanding of your desired folder/tag structure</li> </ul>"},{"location":"tutorials/batch-import/#step-1-prepare-your-document-structure","title":"Step 1: Prepare Your Document Structure","text":"<p>Organize your documents for efficient import:</p> <pre><code>~/Documents/Import/\n\u251c\u2500\u2500 corporate/\n\u2502   \u251c\u2500\u2500 invoices/\n\u2502   \u2502   \u251c\u2500\u2500 2024/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 acme-jan.pdf\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 acme-feb.pdf\n\u2502   \u2502   \u2514\u2500\u2500 2025/\n\u2502   \u2502       \u2514\u2500\u2500 acme-jan.pdf\n\u2502   \u2514\u2500\u2500 contracts/\n\u2502       \u2514\u2500\u2500 vendor-agreement.pdf\n\u251c\u2500\u2500 household/\n\u2502   \u251c\u2500\u2500 receipts/\n\u2502   \u2514\u2500\u2500 insurance/\n\u2514\u2500\u2500 trust/\n    \u2514\u2500\u2500 deeds/\n        \u2514\u2500\u2500 smith-trust-deed.pdf\n</code></pre> <p>Tips for organization:</p> <ul> <li> <p>Group by entity (corporate, household, trust)</p> </li> <li> <p>Separate by document type (invoices, receipts, contracts)</p> </li> <li> <p>Use date-based folders for chronological sorting</p> </li> <li> <p>Keep filenames descriptive but consistent</p> </li> </ul>"},{"location":"tutorials/batch-import/#step-2-single-folder-bulk-import","title":"Step 2: Single Folder Bulk Import","text":"<p>Import all documents from a single folder:</p> <pre><code># Via PAI\nrecords-manager upload ~/Documents/Import/corporate/invoices/2024/ \\\n  --domain corporate \\\n  --document-type invoice \\\n  --tags \"2024,invoice\" \\\n  --batch\n\n# Or directly\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  ~/Documents/Import/corporate/invoices/2024/ \\\n  --domain corporate \\\n  --document-type invoice \\\n  --tags \"2024,invoice\" \\\n  --batch\n</code></pre> <p>Expected output: <pre><code>\ud83d\udce4 Batch Upload Started\nFolder: ~/Documents/Import/corporate/invoices/2024/\nDocuments found: 24\n\nProgress:\n[\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588] 100%\n\u2713 Uploaded: acme-jan.pdf\n\u2713 Uploaded: acme-feb.pdf\n\u2713 Uploaded: acme-mar.pdf\n...\n\nSummary:\n\u2713 Successfully uploaded: 24\n\u2717 Failed: 0\n\u23f1\ufe0f  Duration: 2m 15s\n\nNext steps:\n*   Review uploaded documents at: https://your-instance.com/documents\n*   Run: records-manager search --tag \"2024,invoice\"\n</code></pre></p>"},{"location":"tutorials/batch-import/#step-3-recursive-import-with-date-parsing","title":"Step 3: Recursive Import with Date Parsing","text":"<p>Import from a folder tree with automatic date extraction from filenames:</p> <pre><code>records-manager upload ~/Documents/Import/corporate/ \\\n  --domain corporate \\\n  --recursive \\\n  --date-from-filename \\\n  --pattern \".*-(\\d{4})-(\\d{2})\\.pdf$\"\n</code></pre> <p>Parameters explained: | Parameter | Description | Example | |-----------|-------------|---------| | <code>--recursive</code> | Process subdirectories | Scans entire tree | | <code>--date-from-filename</code> | Extract date from filename | <code>\"invoice-2024-01.pdf\"</code> \u2192 Jan 2024 | | <code>--pattern</code> | Regex pattern for date extraction | Matches YYYY-MM format |</p>"},{"location":"tutorials/batch-import/#step-4-smart-import-with-type-detection","title":"Step 4: Smart Import with Type Detection","text":"<p>Let Records Manager detect document types automatically:</p> <pre><code>records-manager upload ~/Documents/Import/ \\\n  --domain household \\\n  --recursive \\\n  --detect-type \\\n  --auto-tag\n</code></pre> <p>Features:</p> <ul> <li> <p>Detects document type from content (invoice, receipt, contract, etc.)</p> </li> <li> <p>Generates tags from folder structure</p> </li> <li> <p>Suggests titles from filenames</p> </li> <li> <p>Creates document dates from file metadata</p> </li> </ul>"},{"location":"tutorials/batch-import/#step-5-import-with-csv-metadata","title":"Step 5: Import with CSV Metadata","text":"<p>For precise control, use a CSV file to specify metadata for each document:</p> <p>Create <code>import.csv</code>: <pre><code>filename,domain,document-type,title,tags,created\nacme-jan.pdf,corporate,invoice,\"ACME Corp January Invoice\",\"2024,acme\",2024-01-15\nvendor-agreement.pdf,corporate,contract,\"Vendor Master Services Agreement\",\"contract,active\",2024-01-01\ninsurance.pdf,household,insurance,\"Home Insurance Policy 2024\",\"insurance,2024\",2024-01-01\n</code></pre></p> <p>Run import with CSV: <pre><code>records-manager upload ~/Documents/Import/ \\\n  --metadata-csv import.csv \\\n  --base-path ~/Documents/Import/\n</code></pre></p> <p>CSV columns: | Column | Required | Description | |--------|----------|-------------| | <code>filename</code> | \u2705 | Relative path from base-path | | <code>domain</code> | \u2705 | Target entity | | <code>document-type</code> | \u274c | Document type (auto-detected if omitted) | | <code>title</code> | \u274c | Custom title (filename used if omitted) | | <code>tags</code> | \u274c | Comma-separated tags | | <code>created</code> | \u274c | Document date (file date used if omitted) |</p>"},{"location":"tutorials/batch-import/#step-6-monitor-import-progress","title":"Step 6: Monitor Import Progress","text":"<p>For large imports, monitor progress in real-time:</p> <pre><code># Verbose mode shows each file\nrecords-manager upload ~/Documents/Import/ \\\n  --domain corporate \\\n  --recursive \\\n  --verbose\n\n# Quiet mode only shows summary\nrecords-manager upload ~/Documents/Import/ \\\n  --domain corporate \\\n  --recursive \\\n  --quiet\n</code></pre>"},{"location":"tutorials/batch-import/#step-7-verify-import-results","title":"Step 7: Verify Import Results","text":"<p>After import, verify all documents were processed:</p> <pre><code># Count imported documents\nrecords-manager search --domain corporate --count-only\n\n# Find any failed uploads\nrecords-manager search --domain corporate --tag \"import-failed\"\n\n# Get import summary by date\nrecords-manager search --domain corporate --after 2024-01-01 --before 2024-01-31\n</code></pre>"},{"location":"tutorials/batch-import/#expected-outcomes","title":"Expected Outcomes","text":"<p>After completing this tutorial, you should be able to:</p> <ul> <li>\u2705 Import multiple documents efficiently</li> <li>\u2705 Use recursive folder scanning</li> <li>\u2705 Apply consistent metadata across batches</li> <li>\u2705 Use CSV files for precise metadata control</li> <li>\u2705 Verify import success</li> <li>\u2705 Handle import errors gracefully</li> </ul>"},{"location":"tutorials/batch-import/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/batch-import/#issue-no-matching-files-found","title":"Issue: \"No matching files found\"","text":"<p>Solution: Check your path and permissions:</p> <ol> <li> <p>Verify the path is absolute (not relative)</p> </li> <li> <p>Check file permissions on the folder</p> </li> <li> <p>Ensure the path ends with <code>/</code> for folders</p> </li> </ol>"},{"location":"tutorials/batch-import/#issue-date-extraction-failed","title":"Issue: \"Date extraction failed\"","text":"<p>Solution: Adjust your regex pattern: <pre><code># Test your pattern first\necho \"invoice-2024-01.pdf\" | grep -E \".*-(\\d{4})-(\\d{2})\\.pdf$\"\n\n# Simplify pattern if complex\n--pattern \"(\\d{4})-(\\d{2})\"\n</code></pre></p>"},{"location":"tutorials/batch-import/#issue-some-uploads-failed","title":"Issue: \"Some uploads failed\"","text":"<p>Solution: Review failed files:</p> <ol> <li> <p>Check file sizes (may exceed upload limit)</p> </li> <li> <p>Verify file formats are supported</p> </li> <li> <p>Ensure paperless-ngx has sufficient storage</p> </li> <li> <p>Re-run with <code>--verbose</code> for specific error details</p> </li> </ol>"},{"location":"tutorials/batch-import/#performance-tips","title":"Performance Tips","text":"Strategy Speed Use Case <code>--batch</code> (default) Fast Most imports, balanced processing <code>--parallel</code> Faster Many small files, powerful server <code>--sequential</code> Slower Large files, limited resources <p>Recommended settings by import size:</p> <ul> <li> <p>&lt; 100 files: Default settings</p> </li> <li> <p>100-1000 files: Add <code>--parallel</code> with concurrency of 5</p> </li> <li> <p>1000+ files: Consider multiple smaller imports by folder</p> </li> </ul>"},{"location":"tutorials/batch-import/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Test with a small batch first - Run 5-10 files to verify settings</p> </li> <li> <p>Use descriptive filenames - Makes title suggestions more accurate</p> </li> <li> <p>Organize before importing - Folder structure becomes tags</p> </li> <li> <p>Keep CSVs as records - Save import.csv for audit trail</p> </li> <li> <p>Run verification after import - Confirm document counts match</p> </li> <li> <p>Handle failures separately - Export failed list for retry</p> </li> </ol>"},{"location":"tutorials/batch-import/#example-complete-migration-workflow","title":"Example: Complete Migration Workflow","text":"<p>Here's a complete workflow for migrating existing documents:</p> <pre><code>#!/bin/bash\n# migration-script.sh\n\n# 1. Test import with sample\nrecords-manager upload ~/Documents/test-sample/ \\\n  --domain corporate \\\n  --dry-run\n\n# 2. Actual import by year\nfor year in 2020 2021 2022 2023 2024; do\n  echo \"Importing $year...\"\n  records-manager upload ~/Documents/archive/$year/ \\\n    --domain corporate \\\n    --tags \"$year,migration\" \\\n    --date-from-filename \\\n    --quiet\ndone\n\n# 3. Verification\necho \"Verifying import...\"\nrecords-manager retention check --domain corporate\n\n# 4. Report\necho \"Migration complete!\"\nrecords-manager search --domain corporate --tag \"migration\" --count-only\n</code></pre>"},{"location":"tutorials/batch-import/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Verify Retention Compliance after import</p> </li> <li> <p>Set up Automated Workflows for ongoing processing</p> </li> <li> <p>Configure Monitoring for import alerts</p> </li> </ul>"},{"location":"tutorials/entity-creation/","title":"Tutorial: Creating Custom Entities","text":"<p>This tutorial shows you how to create custom entities for organizing documents by household, trust, business, or project.</p>"},{"location":"tutorials/entity-creation/#objective","title":"Objective","text":"<p>Create a custom entity with specialized taxonomies and retention rules.</p>"},{"location":"tutorials/entity-creation/#prerequisites","title":"Prerequisites","text":"<ul> <li>\u2705 Completed First Upload tutorial</li> <li>\u2705 Understanding of your record keeping requirements</li> <li>\u2705 Write access to paperless-ngx</li> </ul>"},{"location":"tutorials/entity-creation/#step-1-understand-entity-types","title":"Step 1: Understand Entity Types","text":"<p>Records Manager supports several entity types, each with specialized behavior:</p> Entity Type Use Case Retention Focus <code>household</code> Personal/family records General household retention <code>corporate</code> Business documents Corporate tax &amp; legal retention <code>unit-trust</code> Unit trust structures Trust-specific compliance <code>discretionary-trust</code> Family/discretionary trusts Trust deed + distribution retention <code>family-trust</code> Family trust elections FTE + trust deed retention <code>project</code> Temporary/project work Project-based retention"},{"location":"tutorials/entity-creation/#step-2-create-a-household-entity","title":"Step 2: Create a Household Entity","text":"<p>Create a basic household entity for personal documents:</p> <pre><code># Via PAI\nrecords-manager entity create \\\n  --type household \\\n  --name \"My Household\" \\\n  --description \"Personal household records\"\n\n# Or directly\nbun run src/skills/RecordsManager/Tools/RecordManager.ts \\\n  entity create \\\n  --type household \\\n  --name \"My Household\" \\\n  --description \"Personal household records\"\n</code></pre> <p>Expected output: <pre><code>\u2713 Entity created successfully\n  Entity ID: household_my-household\n  Type: household\n  Name: My Household\n  Description: Personal household records\n  Taxonomy: AU_HOUSEHOLD (default)\n</code></pre></p>"},{"location":"tutorials/entity-creation/#step-3-create-a-corporate-entity","title":"Step 3: Create a Corporate Entity","text":"<p>For business documents, create a corporate entity with specific retention:</p> <pre><code>records-manager entity create \\\n  --type corporate \\\n  --name \"ACME Corporation\" \\\n  --description \"Operating company records\" \\\n  --country AU \\\n  --tax-id \"51-123456789\" \\\n  --retention-years 7\n</code></pre> <p>Parameters explained: | Parameter | Description | Example | |-----------|-------------|---------| | <code>--type</code> | Entity type | <code>corporate</code>, <code>household</code>, <code>trust</code> | | <code>--name</code> | Display name | <code>\"ACME Corporation\"</code> | | <code>--description</code> | Entity purpose | <code>\"Operating company records\"</code> | | <code>--country</code> | Tax jurisdiction | <code>AU</code>, <code>US</code>, <code>UK</code> | | <code>--tax-id</code> | Tax identifier | <code>\"51-123456789\"</code> | | <code>--retention-years</code> | Default retention period | <code>7</code> |</p>"},{"location":"tutorials/entity-creation/#step-4-create-a-trust-entity","title":"Step 4: Create a Trust Entity","text":"<p>Trusts require special handling for compliance documents:</p> <pre><code>records-manager entity create \\\n  --type discretionary-trust \\\n  --name \"Smith Family Trust\" \\\n  --description \"Discretionary trust established 2020\" \\\n  --trust-deed-date \"2020-03-15\" \\\n  --tax-id \"XXX-000-000-000\"\n</code></pre> <p>Trust-specific parameters: | Parameter | Description | Required | |-----------|-------------|----------| | <code>--trust-deed-date</code> | Date trust deed was executed | Yes (for trusts) | | <code>--fte-date</code> | Family Trust Election date | Conditional | | <code>--tax-id</code> | Trust TFN | Recommended |</p>"},{"location":"tutorials/entity-creation/#step-5-verify-entity-creation","title":"Step 5: Verify Entity Creation","text":"<p>List all entities to confirm creation:</p> <pre><code>records-manager entity list\n</code></pre> <p>Expected output: <pre><code>Registered Entities:\n\n1. household_my-household\n   Type: household\n   Name: My Household\n   Documents: 0\n\n2. corporate_acme-corporation\n   Type: corporate\n   Name: ACME Corporation\n   Tax ID: 51-123456789\n   Documents: 0\n\n3. discretionary-trust_smith-family-trust\n   Type: discretionary-trust\n   Name: Smith Family Trust\n   Trust Deed Date: 2020-03-15\n   Documents: 0\n</code></pre></p>"},{"location":"tutorials/entity-creation/#step-6-upload-to-specific-entity","title":"Step 6: Upload to Specific Entity","text":"<p>Once created, upload documents directly to an entity:</p> <pre><code>records-manager upload /path/to/document.pdf \\\n  --domain corporate_acme-corporation \\\n  --document-type invoice\n</code></pre>"},{"location":"tutorials/entity-creation/#expected-outcomes","title":"Expected Outcomes","text":"<p>After completing this tutorial, you should be able to:</p> <ul> <li>\u2705 Create entities of any supported type</li> <li>\u2705 Configure entity-specific retention rules</li> <li>\u2705 Set up trust entities with deed tracking</li> <li>\u2705 Upload documents to specific entities</li> <li>\u2705 List and manage existing entities</li> </ul>"},{"location":"tutorials/entity-creation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/entity-creation/#issue-entity-type-not-recognized","title":"Issue: \"Entity type not recognized\"","text":"<p>Solution: Use valid entity types:</p> <ul> <li> <p><code>household</code></p> </li> <li> <p><code>corporate</code></p> </li> <li> <p><code>unit-trust</code></p> </li> <li> <p><code>discretionary-trust</code></p> </li> <li> <p><code>family-trust</code></p> </li> <li> <p><code>project</code></p> </li> </ul>"},{"location":"tutorials/entity-creation/#issue-trust-deed-date-required","title":"Issue: \"Trust deed date required\"","text":"<p>Solution: Trust entities require the trust execution date: <pre><code># Add the trust deed date\n--trust-deed-date \"YYYY-MM-DD\"\n</code></pre></p>"},{"location":"tutorials/entity-creation/#issue-entity-already-exists","title":"Issue: \"Entity already exists\"","text":"<p>Solution: Entity names must be unique. Either:</p> <ol> <li>Use a different name</li> <li>Delete the existing entity first (requires confirmation)</li> <li>Update the existing entity instead</li> </ol>"},{"location":"tutorials/entity-creation/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Plan your entity structure before creating multiple entities</p> </li> <li> <p>Use descriptive names that clearly identify the entity</p> </li> <li> <p>Set appropriate retention based on your jurisdiction</p> </li> <li> <p>Document trust dates accurately for compliance</p> </li> <li> <p>Test with a few uploads before bulk importing</p> </li> </ol>"},{"location":"tutorials/entity-creation/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Learn about Retention Checking for your entities</p> </li> <li> <p>Set up Batch Import for existing documents</p> </li> <li> <p>Configure Automated Workflows</p> </li> </ul>"},{"location":"tutorials/entity-creation/#reference-entity-naming-convention","title":"Reference: Entity Naming Convention","text":"<p>Entity IDs follow the pattern: <code>{type}_{slugified-name}</code></p> <p>Examples:</p> <ul> <li> <p><code>household_my-household</code> \u2192 <code>My Household</code></p> </li> <li> <p><code>corporate_acme-corp</code> \u2192 <code>ACME Corp</code></p> </li> <li> <p><code>discretionary-trust_smith-family</code> \u2192 <code>Smith Family Trust</code></p> </li> </ul>"},{"location":"tutorials/first-upload/","title":"Tutorial: Your First Document Upload","text":"<p>This tutorial walks you through uploading your first document to paperless-ngx using the Records Manager Skill.</p>"},{"location":"tutorials/first-upload/#objective","title":"Objective","text":"<p>Upload a document to paperless-ngx with automatic domain tagging and title suggestion.</p>"},{"location":"tutorials/first-upload/#prerequisites","title":"Prerequisites","text":"<ul> <li>\u2705 paperless-ngx instance running</li> <li>\u2705 API token generated in paperless-ngx settings</li> <li>\u2705 Environment variables configured (see Configuration Guide)</li> <li>\u2705 A PDF or image file to upload</li> </ul>"},{"location":"tutorials/first-upload/#step-1-verify-your-setup","title":"Step 1: Verify Your Setup","text":"<p>First, confirm the Records Manager can connect to your paperless-ngx instance:</p> <pre><code># Via PAI\nrecords-manager status\n\n# Or directly via CLI\nbun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre> <p>Expected output: <pre><code>\u2713 Connected to paperless-ngx at https://your-instance.com\n\u2713 API token validated\n\u2713 Version: 1.16.0\n</code></pre></p> <p>Troubleshooting:</p> <ul> <li> <p>If connection fails, verify <code>MADEINOZ_RECORDMANAGER_PAPERLESS_URL</code> is correct</p> </li> <li> <p>If API token fails, regenerate in paperless-ngx (Settings \u2192 API Tokens)</p> </li> <li> <p>Check network connectivity to your paperless-ngx instance</p> </li> </ul>"},{"location":"tutorials/first-upload/#step-2-prepare-your-document","title":"Step 2: Prepare Your Document","text":"<p>Create or locate a test document. For this tutorial, we'll use a sample invoice:</p> <pre><code># Create a test file (or use your own)\necho \"Sample Invoice #12345\nDate: 2025-01-20\nAmount: $150.00\" &gt; /tmp/sample-invoice.txt\n</code></pre>"},{"location":"tutorials/first-upload/#step-3-upload-with-domain-tagging","title":"Step 3: Upload with Domain Tagging","text":"<p>Upload your document with automatic domain classification:</p> <pre><code># Via PAI (recommended)\nrecords-manager upload /tmp/sample-invoice.txt --domain household\n\n# Or directly via CLI\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  /tmp/sample-invoice.txt \\\n  --domain household\n</code></pre> <p>Expected output: <pre><code>\ud83d\udce4 Uploading document...\n\u2713 Document uploaded successfully\n  Document ID: 1234\n  Title: Sample Invoice\n  Domain: household\n  URL: https://your-instance.com/documents/1234\n</code></pre></p>"},{"location":"tutorials/first-upload/#step-4-upload-with-custom-metadata","title":"Step 4: Upload with Custom Metadata","text":"<p>For better organization, provide additional metadata:</p> <pre><code>records-manager upload /path/to/document.pdf \\\n  --domain corporate \\\n  --title \"ACME Corp Invoice - January 2025\" \\\n  --tags \"invoice,2025,acme\" \\\n  --document-type \"invoice\" \\\n  --created \"2025-01-15\"\n</code></pre> <p>Parameters explained: | Parameter | Description | Example | |-----------|-------------|---------| | <code>--domain</code> | Entity domain | <code>household</code>, <code>corporate</code>, <code>trust</code> | | <code>--title</code> | Custom document title | <code>\"Invoice #12345\"</code> | | <code>--tags</code> | Comma-separated tags | <code>\"invoice,tax,2025\"</code> | | <code>--document-type</code> | Document type | <code>\"invoice\"</code>, <code>\"receipt\"</code>, <code>\"contract\"</code> | | <code>--created</code> | Document date | <code>\"2025-01-15\"</code> |</p>"},{"location":"tutorials/first-upload/#step-5-verify-upload-in-paperless-ngx","title":"Step 5: Verify Upload in paperless-ngx","text":"<ol> <li> <p>Open your paperless-ngx web interface</p> </li> <li> <p>Navigate to Documents</p> </li> <li> <p>Your document should appear with:</p> </li> <li> <p>The assigned title</p> </li> <li> <p>Domain-based tags</p> </li> <li> <p>Correct document type</p> </li> </ol>"},{"location":"tutorials/first-upload/#expected-outcomes","title":"Expected Outcomes","text":"<p>After completing this tutorial, you should be able to:</p> <ul> <li>\u2705 Upload documents via CLI or PAI</li> <li>\u2705 Assign domains and tags automatically</li> <li>\u2705 Verify documents appear in paperless-ngx</li> <li>\u2705 Understand basic upload parameters</li> </ul>"},{"location":"tutorials/first-upload/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/first-upload/#issue-api-token-invalid","title":"Issue: \"API token invalid\"","text":"<p>Solution: Regenerate your API token in paperless-ngx:</p> <ol> <li> <p>Go to Settings \u2192 API Tokens</p> </li> <li> <p>Click Create new token</p> </li> <li> <p>Copy and update <code>MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN</code></p> </li> </ol>"},{"location":"tutorials/first-upload/#issue-document-upload-failed","title":"Issue: \"Document upload failed\"","text":"<p>Solution: Check file format support:</p> <ul> <li> <p>Supported: PDF, PNG, JPEG, TIFF</p> </li> <li> <p>Max size: Depends on paperless-ngx configuration (typically 100MB)</p> </li> <li> <p>Verify file path is absolute, not relative</p> </li> </ul>"},{"location":"tutorials/first-upload/#issue-domain-not-recognized","title":"Issue: \"Domain not recognized\"","text":"<p>Solution: Use valid domain values:</p> <ul> <li> <p><code>household</code> - Personal documents</p> </li> <li> <p><code>corporate</code> - Business documents</p> </li> <li> <p><code>unit-trust</code> - Unit trust documents</p> </li> <li> <p><code>discretionary-trust</code> - Discretionary trust documents</p> </li> <li> <p><code>family-trust</code> - Family trust documents</p> </li> <li> <p><code>project</code> - Project-specific documents</p> </li> </ul>"},{"location":"tutorials/first-upload/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Learn how to Create Custom Entities</p> </li> <li> <p>Check Retention Compliance</p> </li> <li> <p>Explore Batch Import for multiple documents</p> </li> </ul>"},{"location":"tutorials/migration-guide/","title":"Migration Guide: Flat to Hierarchical Taxonomies","text":"<p>This guide walks you through migrating existing documents from flat taxonomies to the new hierarchical taxonomy system introduced in v2.0.</p>"},{"location":"tutorials/migration-guide/#overview","title":"Overview","text":"<p>Flat taxonomy (v1.x): <pre><code>Tags: Medical, Receipt, Tax-Deductible\nDocument Type: Medical Receipt\n</code></pre></p> <p>Hierarchical taxonomy (v2.0): <pre><code>Path: HealthManagement/MedicalCare/Consultations/MedicalReceipt\nTags: Function:HealthManagement, Service:MedicalCare, Activity:Consultations, DocumentType:MedicalReceipt\nStorage Path: Health_Management/Medical_Care/Consultations/Medical_Receipt\n</code></pre></p>"},{"location":"tutorials/migration-guide/#migration-phases","title":"Migration Phases","text":""},{"location":"tutorials/migration-guide/#phase-1-preparation-15-minutes","title":"Phase 1: Preparation (15 minutes)","text":"<p>1. Backup your paperless-ngx database:</p> <pre><code># Docker deployment\ndocker exec paperless_db pg_dump -U paperless paperless &gt; paperless_backup_$(date +%Y%m%d).sql\n\n# Manual deployment\npg_dump -U paperless paperless &gt; paperless_backup_$(date +%Y%m%d).sql\n</code></pre> <p>2. Verify environment:</p> <pre><code># Check current country setting\necho $MADEINOZ_RECORDMANAGER_COUNTRY\n\n# Verify hierarchical taxonomy is available\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions --domain household\n</code></pre> <p>3. Document current state:</p> <pre><code># Export current document list\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search --domain household --query \"*\" &gt; pre_migration_docs.txt\n\n# Count documents by domain\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts stats --domain household\n</code></pre>"},{"location":"tutorials/migration-guide/#phase-2-load-migration-mapping-table-5-minutes","title":"Phase 2: Load Migration Mapping Table (5 minutes)","text":"<p>The system includes automatic mapping from flat document types to hierarchical paths.</p> <p>1. Load mapping table:</p> <pre><code>import { TaxonomyInstaller } from '~/src/lib/TaxonomyInstaller';\nimport { PaperlessClient } from '~/src/lib/PaperlessClient';\n\nconst client = new PaperlessClient(\n  process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_URL,\n  process.env.MADEINOZ_RECORDMANAGER_PAPERLESS_API_TOKEN\n);\n\nconst installer = new TaxonomyInstaller(\n  client,\n  'AUS',  // Your country code\n  '/tmp/migration-logs'\n);\n\n// Load migration mappings\nconst mappings = await installer.loadMappingTable('household');\nconsole.log(`Loaded ${mappings.length} migration mappings`);\n</code></pre> <p>2. Review mapping coverage:</p> <pre><code>// Check how many of your documents can be auto-mapped\nconst documents = await client.getDocuments();\nconst coverage = mappings.filter(m =&gt;\n  documents.some(d =&gt; d.document_type === m.flatDocumentType)\n).length;\n\nconsole.log(`Mapping coverage: ${coverage}/${documents.length} (${(coverage/documents.length*100).toFixed(1)}%)`);\n</code></pre> <p>Expected: 90%+ of documents should have automatic mappings.</p>"},{"location":"tutorials/migration-guide/#phase-3-run-automatic-migration-30-minutes-for-1000-docs","title":"Phase 3: Run Automatic Migration (30 minutes for 1000 docs)","text":"<p>1. Perform migration:</p> <pre><code>// Migrate all documents in domain\nconst result = await installer.migrateAllDocuments();\n\nconsole.log('Migration Results:');\nconsole.log(`Total Documents: ${result.totalDocuments}`);\nconsole.log(`Auto-Mapped: ${result.autoMapped}`);\nconsole.log(`Manual Review Needed: ${result.manualReview}`);\nconsole.log(`Failed: ${result.failed}`);\n</code></pre> <p>2. Check migration audit log:</p> <pre><code>// View detailed migration log\nresult.mappingLog.forEach(entry =&gt; {\n  console.log(`Doc ${entry.documentId}: ${entry.originalType} \u2192 ${entry.hierarchicalPath} (${entry.method})`);\n});\n</code></pre> <p>Example output: <pre><code>Doc 1234: Medical Receipt \u2192 HealthManagement/MedicalCare/Consultations/MedicalReceipt (automatic)\nDoc 1235: Tax Return \u2192 FinanceManagement/Taxation/Returns/TaxReturn (automatic)\nDoc 1236: Utility Bill \u2192 PropertyManagement/Utilities/Bills/ElectricityBill (automatic)\nDoc 1237: Unknown Type \u2192 null (manual)\n</code></pre></p>"},{"location":"tutorials/migration-guide/#phase-4-manual-review-for-unmapped-documents-1-hour","title":"Phase 4: Manual Review for Unmapped Documents (1 hour)","text":"<p>1. Get documents needing manual review:</p> <pre><code>const reviewDocs = await installer.getDocumentsForManualReview();\n\nconsole.log(`${reviewDocs.length} documents need manual review`);\n</code></pre> <p>2. Review each document:</p> <pre><code>for (const doc of reviewDocs) {\n  console.log(`\\nDocument ${doc.id}: \"${doc.title}\"`);\n  console.log(`Original type: ${doc.document_type}`);\n  console.log(`Alternatives:`);\n  doc.alternatives.forEach((alt, i) =&gt; {\n    console.log(`  ${i + 1}. ${alt.path} (score: ${alt.score})`);\n  });\n\n  // Prompt user to select correct path\n  const selection = await promptUser('Select path (1-N): ');\n  const selectedPath = doc.alternatives[selection - 1].path;\n\n  // Apply selected mapping\n  await installer.applyManualMapping(doc.id, selectedPath);\n}\n</code></pre> <p>3. Validate manual mappings:</p> <pre><code>// Verify all documents now have hierarchical paths\nconst unmapped = await installer.getUnmappedDocuments();\nconsole.log(`Remaining unmapped: ${unmapped.length}`);\n</code></pre>"},{"location":"tutorials/migration-guide/#phase-5-verification-15-minutes","title":"Phase 5: Verification (15 minutes)","text":"<p>1. Verify migration completeness:</p> <pre><code># Check all documents have hierarchical tags\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts migration verify --domain household\n</code></pre> <p>Expected output: <pre><code>\u2713 Migration Verification Results:\n  Total Documents: 1000\n  With Hierarchical Tags: 1000 (100%)\n  With Storage Paths: 1000 (100%)\n  Missing Mappings: 0 (0%)\n\n\u2713 All documents successfully migrated\n</code></pre></p> <p>2. Spot-check random documents:</p> <pre><code>// Sample 10 random migrated documents\nconst docs = await client.getDocuments();\nconst sample = docs.sort(() =&gt; Math.random() - 0.5).slice(0, 10);\n\nfor (const doc of sample) {\n  console.log(`\\nDocument ${doc.id}: ${doc.title}`);\n  console.log(`Tags:`, doc.tags);\n  console.log(`Custom Fields:`, doc.custom_fields);\n\n  // Verify hierarchical tags exist\n  const hasFunction = doc.tags.some(t =&gt; t.startsWith('Function:'));\n  const hasService = doc.tags.some(t =&gt; t.startsWith('Service:'));\n  const hasActivity = doc.tags.some(t =&gt; t.startsWith('Activity:'));\n  const hasDocType = doc.tags.some(t =&gt; t.startsWith('DocumentType:'));\n\n  if (hasFunction &amp;&amp; hasService &amp;&amp; hasActivity &amp;&amp; hasDocType) {\n    console.log('\u2713 Hierarchical tags present');\n  } else {\n    console.log('\u2717 Missing hierarchical tags');\n  }\n}\n</code></pre> <p>3. Test search functionality:</p> <pre><code># Test hierarchical path search\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --domain household \\\n  --path \"HealthManagement/MedicalCare/Consultations\"\n\n# Test tag search\nbun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --domain household \\\n  --tags \"Function:HealthManagement\"\n</code></pre>"},{"location":"tutorials/migration-guide/#phase-6-dual-mode-operation-12-months-recommended","title":"Phase 6: Dual-Mode Operation (12 months recommended)","text":"<p>During the transition period, support both flat and hierarchical taxonomies:</p> <p>1. Enable dual-mode:</p> <pre><code>const expert = new TaxonomyExpert('AUS', 'household');\nconst mode = expert.getTaxonomyMode();\nconsole.log(`Current mode: ${mode}`);  // Should return 'hierarchical' or 'dual-mode'\n</code></pre> <p>2. Handle legacy flat queries:</p> <pre><code>// Legacy flat query (still works)\nconst flatResults = expert.getDocumentTypes('household');\n\n// New hierarchical query (preferred)\nconst hierarchicalResults = expert.getFunctions('household');\n</code></pre> <p>3. Gradual deprecation:</p> <p>Over the 12-month transition period: - Month 1-3: Dual-mode with no warnings - Month 4-9: Dual-mode with deprecation warnings - Month 10-12: Hierarchical-only with migration prompts - After 12 months: Flat taxonomy fully deprecated</p>"},{"location":"tutorials/migration-guide/#rollback-procedure","title":"Rollback Procedure","text":"<p>If you need to rollback the migration:</p> <p>1. Stop paperless-ngx:</p> <pre><code>docker-compose down  # or systemctl stop paperless\n</code></pre> <p>2. Restore database backup:</p> <pre><code>docker exec -i paperless_db psql -U paperless paperless &lt; paperless_backup_20260122.sql\n</code></pre> <p>3. Restart paperless-ngx:</p> <pre><code>docker-compose up -d  # or systemctl start paperless\n</code></pre> <p>4. Verify rollback:</p> <pre><code>bun run ~/.claude/skills/RecordsManager/Tools/RecordManager.ts search --domain household --query \"*\" &gt; post_rollback_docs.txt\n\ndiff pre_migration_docs.txt post_rollback_docs.txt\n</code></pre>"},{"location":"tutorials/migration-guide/#common-migration-issues","title":"Common Migration Issues","text":""},{"location":"tutorials/migration-guide/#issue-1-mapping-coverage-below-90","title":"Issue 1: Mapping Coverage Below 90%","text":"<p>Cause: Custom or non-standard document types</p> <p>Solution:</p> <ol> <li> <p>Add custom mappings to migration table:    <pre><code>await installer.addCustomMapping({\n  flatDocumentType: 'My Custom Type',\n  hierarchicalPath: 'FinanceManagement/Custom/Activity/CustomType',\n  confidence: 1.0\n});\n</code></pre></p> </li> <li> <p>Re-run migration:    <pre><code>await installer.migrateAllDocuments();\n</code></pre></p> </li> </ol>"},{"location":"tutorials/migration-guide/#issue-2-retention-requirements-changed","title":"Issue 2: Retention Requirements Changed","text":"<p>Cause: Hierarchical paths have different retention periods</p> <p>Solution:</p> <ol> <li> <p>Review retention for affected documents:    <pre><code>const retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations',\n  'Medical Receipt'\n);\nconsole.log(retention);\n</code></pre></p> </li> <li> <p>Update retention dates if needed (preserve original if longer)</p> </li> </ol>"},{"location":"tutorials/migration-guide/#issue-3-tags-duplicated","title":"Issue 3: Tags Duplicated","text":"<p>Cause: Both flat and hierarchical tags applied</p> <p>Solution:</p> <ol> <li>Remove old flat tags:    <pre><code>// Keep only hierarchical tags\nawait client.updateDocument(documentId, {\n  tags: doc.tags.filter(t =&gt;\n    t.startsWith('Function:') ||\n    t.startsWith('Service:') ||\n    t.startsWith('Activity:') ||\n    t.startsWith('DocumentType:')\n  )\n});\n</code></pre></li> </ol>"},{"location":"tutorials/migration-guide/#issue-4-storage-paths-inconsistent","title":"Issue 4: Storage Paths Inconsistent","text":"<p>Cause: Legacy documents have old storage paths</p> <p>Solution:</p> <ol> <li>Regenerate storage paths for all documents:    <pre><code>for (const doc of documents) {\n  const hierarchicalPath = doc.custom_fields.taxonomy_path;\n  const newStoragePath = expert.generateStoragePath(hierarchicalPath);\n\n  await client.updateDocument(doc.id, {\n    custom_fields: {\n      ...doc.custom_fields,\n      storage_path: newStoragePath\n    }\n  });\n}\n</code></pre></li> </ol>"},{"location":"tutorials/migration-guide/#post-migration-checklist","title":"Post-Migration Checklist","text":"<ul> <li> All documents have hierarchical tags (Function, Service, Activity, DocumentType)</li> <li> All documents have storage paths in custom fields</li> <li> Search works with hierarchical paths</li> <li> Retention checking works with hierarchical paths</li> <li> Upload workflow uses hierarchical classification</li> <li> Backup of pre-migration state is verified and accessible</li> <li> Migration audit log is saved for compliance</li> <li> Team members trained on hierarchical taxonomy navigation</li> <li> Documentation updated for new taxonomy structure</li> <li> Deprecation timeline communicated to users</li> </ul>"},{"location":"tutorials/migration-guide/#migration-timeline","title":"Migration Timeline","text":"<p>Recommended schedule for production migration:</p> Phase Duration Tasks Week 1 Preparation Backup, testing, mapping table review Week 2 Pilot Migrate 10% of documents, verify, collect feedback Week 3 Gradual Rollout Migrate 50% of remaining documents Week 4 Full Migration Complete migration, manual review Week 5-8 Dual-Mode Support both flat and hierarchical queries Month 3-12 Transition Gradual deprecation of flat taxonomy Month 13+ Hierarchical-Only Flat taxonomy fully deprecated"},{"location":"tutorials/migration-guide/#support-during-migration","title":"Support During Migration","text":"<p>Documentation: - Hierarchical Taxonomies Guide - Troubleshooting - API Reference</p> <p>Tools: - Migration CLI tool: <code>bun run Tools/RecordManager.ts migration</code> - Verification script: <code>bun run Tools/RecordManager.ts migration verify</code> - Manual mapping UI: <code>bun run Tools/RecordManager.ts migration review</code></p> <p>Help: - GitHub Issues: Report migration issues - Migration audit logs: Saved to <code>/tmp/migration-logs/</code></p> <p>Migration Version: 2.0.0 Last Updated: 2026-01-22 Test Coverage: T115 (Complete Migration Workflow Integration)</p>"},{"location":"tutorials/retention-check/","title":"Tutorial: Checking Retention Compliance","text":"<p>This tutorial demonstrates how to verify document retention compliance for your jurisdiction and entity types.</p>"},{"location":"tutorials/retention-check/#objective","title":"Objective","text":"<p>Check which documents are approaching or past their retention deadlines, and understand your compliance obligations.</p>"},{"location":"tutorials/retention-check/#prerequisites","title":"Prerequisites","text":"<ul> <li>\u2705 Completed First Upload tutorial</li> <li>\u2705 Documents already uploaded to paperless-ngx</li> <li>\u2705 Entities created (see Entity Creation)</li> </ul>"},{"location":"tutorials/retention-check/#step-1-understand-retention-rules","title":"Step 1: Understand Retention Rules","text":"<p>Records Manager includes built-in retention expertise for several jurisdictions:</p> Country Authority Typical Retention Australia ATO 5-7 years (tax), Permanent (trust deeds) United States IRS 3-7 years (tax), Varies by state United Kingdom HMRC 6 years (tax), 10+ years (legal) <p>Australia-specific examples:</p> <ul> <li> <p>Tax documents: 5 years from EOFY</p> </li> <li> <p>Trust deeds: Permanent</p> </li> <li> <p>Family Trust Election: 5+ years from FTE date</p> </li> <li> <p>Employment records: 7 years after termination</p> </li> </ul>"},{"location":"tutorials/retention-check/#step-2-check-overall-retention-status","title":"Step 2: Check Overall Retention Status","text":"<p>Get a summary of retention compliance across all documents:</p> <pre><code># Via PAI\nrecords-manager retention check\n\n# Or directly\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention check\n</code></pre> <p>Expected output: <pre><code>\ud83d\udcca Retention Status Summary\n\nTotal Documents: 247\nCompliant: 231 (93.5%)\n\u26a0\ufe0f  Review Required: 12 (4.9%)\n\u274c Overdue: 4 (1.6%)\n\nDocuments Approaching Deadline:\n*   Invoice #12345 (expires in 30 days)\n*   Receipt ABC-999 (expires in 45 days)\n\nOverdue Documents:\n*   2020 Tax Return (expired 180 days ago)\n*   Employment Contract (expired 365 days ago)\n</code></pre></p>"},{"location":"tutorials/retention-check/#step-3-check-specific-entity","title":"Step 3: Check Specific Entity","text":"<p>Filter retention check by entity:</p> <pre><code>records-manager retention check --domain corporate_acme-corp\n</code></pre> <p>Expected output: <pre><code>\ud83d\udcca Retention Status: ACME Corporation\n\nEntity Type: corporate\nJurisdiction: Australia\nTotal Documents: 89\nCompliant: 87 (97.8%)\nReview Required: 2 (2.2%)\n\nApproaching Deadline:\n*   2020-06-15: Vendor Invoice #INV-2020-089 (30 days)\n*   2020-07-22: Expense Receipt (45 days)\n</code></pre></p>"},{"location":"tutorials/retention-check/#step-4-get-detailed-document-report","title":"Step 4: Get Detailed Document Report","text":"<p>Generate a detailed report including document types and specific retention periods:</p> <pre><code>records-manager retention check --detailed --format markdown\n</code></pre> <p>Expected output: <pre><code># Retention Compliance Report\nGenerated: 2025-01-20\n\n## Summary by Document Type\n\n| Type | Total | Compliant | Review | Overdue |\n|------|-------|-----------|--------|---------|\n| Invoice | 45 | 43 | 2 | 0 |\n| Receipt | 78 | 75 | 3 | 0 |\n| Tax Return | 5 | 5 | 0 | 0 |\n| Contract | 12 | 10 | 0 | 2 |\n\n## Overdue Documents\n\n| Document | Type | Entity | Expired |\n|----------|------|--------|---------|\n| Employment Agreement | contract | corporate | 2024-01-15 (365 days) |\n| Lease Agreement | contract | household | 2024-06-01 (232 days) |\n\n## Recommended Actions\n\n1. Review 2 overdue contracts for archiving or extension\n\n2. Process 5 documents approaching 60-day threshold\n\n3. Archive expired documents following deletion workflow\n</code></pre></p>"},{"location":"tutorials/retention-check/#step-5-export-retention-report","title":"Step 5: Export Retention Report","text":"<p>Save the report for audit purposes:</p> <pre><code># Save as Markdown\nrecords-manager retention check --detailed --format markdown &gt; retention-report.md\n\n# Save as JSON for processing\nrecords-manager retention check --format json &gt; retention-report.json\n\n# Save as CSV for spreadsheet analysis\nrecords-manager retention check --format csv &gt; retention-report.csv\n</code></pre>"},{"location":"tutorials/retention-check/#step-6-understand-retention-by-country","title":"Step 6: Understand Retention by Country","text":"<p>Check retention requirements for your configured country:</p> <pre><code>records-manager retention rules --country AU\n</code></pre> <p>Expected output: <pre><code>\ud83c\udde6\ud83c\uddfa Australian Retention Requirements\n\nIncome Tax Documents: 5 years after EOFY\n*   Tax returns, assessments, notices\n*   Payment summaries\n*   Business activity statements\n\nGST Records: 5 years\n*   Tax invoices\n*   Credit/debit notes\n*   Accounting records\n\nEmployee Records: 7 years after termination\n*   Tax file declarations\n*   Payment summaries\n*   Superannuation contributions\n\nTrust Documents: Special rules\n*   Trust deeds: Permanent retention\n*   Family Trust Election: 5+ years from FTE date\n*   Distribution minutes: 5 years from EOFY\n\nSource: Australian Taxation Office (ATO)\n</code></pre></p>"},{"location":"tutorials/retention-check/#expected-outcomes","title":"Expected Outcomes","text":"<p>After completing this tutorial, you should be able to:</p> <ul> <li>\u2705 Run retention compliance checks</li> <li>\u2705 Identify documents approaching expiry</li> <li>\u2705 Export reports in multiple formats</li> <li>\u2705 Understand jurisdiction-specific requirements</li> <li>\u2705 Take action on non-compliant documents</li> </ul>"},{"location":"tutorials/retention-check/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/retention-check/#issue-no-documents-found","title":"Issue: \"No documents found\"","text":"<p>Solution: Ensure documents are uploaded:</p> <ol> <li> <p>Check documents exist in paperless-ngx</p> </li> <li> <p>Verify document dates are set correctly</p> </li> <li> <p>Confirm entity configuration</p> </li> </ol>"},{"location":"tutorials/retention-check/#issue-jurisdiction-not-configured","title":"Issue: \"Jurisdiction not configured\"","text":"<p>Solution: Set your country in environment variables: <pre><code># Add to .env or shell profile\nexport MADEINOZ_RECORDMANAGER_RECORDS_COUNTRY=AU\n</code></pre></p>"},{"location":"tutorials/retention-check/#issue-incorrect-retention-calculated","title":"Issue: \"Incorrect retention calculated\"","text":"<p>Solution: Verify document metadata:</p> <ol> <li> <p>Check <code>created</code> date is accurate</p> </li> <li> <p>Ensure <code>document-type</code> is correctly assigned</p> </li> <li> <p>For trusts, verify <code>trust-deed-date</code> is set</p> </li> </ol>"},{"location":"tutorials/retention-check/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Run monthly retention checks to stay ahead of deadlines</p> </li> <li> <p>Export reports for audit trails and compliance evidence</p> </li> <li> <p>Set calendar reminders for quarterly reviews</p> </li> <li> <p>Archive, don't delete - use the deletion workflow for confirmation</p> </li> <li> <p>Keep trust deeds permanently - they should never expire</p> </li> </ol>"},{"location":"tutorials/retention-check/#taking-action-on-non-compliant-documents","title":"Taking Action on Non-Compliant Documents","text":"<p>When documents are overdue or approaching deadline:</p> <ol> <li> <p>Review required (30-60 days):</p> </li> <li> <p>Determine if document should be kept longer</p> </li> <li> <p>Check if legal/tax obligation extends retention</p> </li> <li> <p>Document reason for extended retention</p> </li> <li> <p>Overdue (past retention):</p> </li> <li> <p>Verify no active legal/tax requirement</p> </li> <li> <p>Use deletion workflow for confirmation</p> </li> <li> <p>Archive if uncertain rather than delete</p> </li> <li> <p>Trust documents:</p> </li> <li> <p>Never delete trust deeds</p> </li> <li> <p>Keep FTE documents for 5+ years from FTE date</p> </li> <li> <p>Maintain distribution records</p> </li> </ol>"},{"location":"tutorials/retention-check/#next-steps","title":"Next Steps","text":"<ul> <li> <p>Review Deletion Workflow for safe document removal</p> </li> <li> <p>Set up Automated Retention Monitoring</p> </li> <li> <p>Learn Batch Import for existing document migrations</p> </li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>Welcome to the Records Manager User Guide. This section provides comprehensive documentation for using the Records Manager skill to manage your documents, organize records, and maintain compliance with retention requirements.</p>"},{"location":"user-guide/#overview","title":"Overview","text":"<p>The Records Manager is an expert record keeping system that integrates with paperless-ngx to provide intelligent document organization, country-specific taxonomies, and automated workflow management. Whether you are managing household records, corporate documents, or trust structures, the Records Manager offers specialized expertise for your domain.</p>"},{"location":"user-guide/#what-you-can-do","title":"What You Can Do","text":"<ul> <li>Upload Documents: Intelligently tag and organize documents as you add them to your system</li> <li>Search Records: Find documents quickly by tags, content, type, or custom queries</li> <li>Organize Collections: Improve document structure with taxonomy-driven suggestions</li> <li>Check Retention: Understand how long to keep documents for legal compliance</li> <li>Manage Tags: Apply consistent tagging across your document library</li> <li>Validate Trusts: Ensure trust documents meet ATO requirements (Australia)</li> <li>Create Workflows: Automate document processing with custom workflows</li> </ul>"},{"location":"user-guide/#key-concepts","title":"Key Concepts","text":""},{"location":"user-guide/#domains","title":"Domains","text":"<p>Records Manager supports multiple domains, each with specialized taxonomies and retention rules:</p> <ul> <li>Household: Personal records including tax, medical, insurance, legal, education, and identity documents</li> <li>Corporate: Business records including invoices, contracts, employee records, and financial statements</li> <li>Unit Trust: Unit trust documents with unit registry and distribution tracking</li> <li>Discretionary Trust: Discretionary trust governance and distribution records</li> <li>Family Trust: Family trust documents including FTE compliance tracking</li> <li>Projects: Project documentation organized by phase and deliverables</li> </ul>"},{"location":"user-guide/#tags","title":"Tags","text":"<p>Tags are the primary organizational mechanism in Records Manager. They can represent:</p> <ul> <li>Categories: financial, medical, insurance, legal, hr, compliance</li> <li>Entity Types: household, corporate, unit-trust, discretionary-trust, family-trust, project</li> <li>Document Types: invoice, receipt, contract, tax-return, insurance-policy</li> <li>Custom Fields: Any tag you create for your specific needs</li> </ul>"},{"location":"user-guide/#retention-periods","title":"Retention Periods","text":"<p>Each document type has a legally-defined retention period based on your country's regulations:</p> <ul> <li>7 years: Most tax and financial documents (Australia ATO requirement)</li> <li>10 years: Insurance policies, contracts, personal records</li> <li>15 years: Permanent trust records, wills, powers of attorney</li> <li>5 years: Family Trust Election (from FTE date, not EOFY)</li> </ul>"},{"location":"user-guide/#getting-started","title":"Getting Started","text":""},{"location":"user-guide/#prerequisites","title":"Prerequisites","text":"<p>Before using Records Manager, ensure you have:</p> <ol> <li> <p>Paperless-ngx instance: A running paperless-ngx installation</p> </li> <li> <p>API Token: Generated from paperless-ngx settings</p> </li> <li> <p>Environment configured: Required environment variables set</p> </li> </ol>"},{"location":"user-guide/#quick-start","title":"Quick Start","text":"<p>The simplest way to use Records Manager is through natural language commands:</p> <pre><code>User: \"Upload this tax return to my records\"\nAI: [Invokes Upload workflow, suggests tags, uploads to paperless-ngx]\n\nUser: \"Find all medical receipts from 2024\"\nAI: [Invokes Search workflow, returns matching documents]\n\nUser: \"Check retention for my trust documents\"\nAI: [Invokes Retention workflow, shows compliance status]\n</code></pre>"},{"location":"user-guide/#navigation","title":"Navigation","text":"<p>Use the sidebar to navigate to specific topics:</p> <ul> <li>Workflows: Detailed workflow documentation and usage</li> <li>Daily Usage: Common tasks and operations</li> <li>Search: Document search workflows and tips</li> <li>Tagging: Tag-based organization strategies</li> <li>Retention: Compliance and retention checking</li> <li>Trusts: Trust document management and FTE compliance</li> </ul>"},{"location":"user-guide/#safety-first","title":"Safety First","text":"<p>Records Manager includes important safety features:</p> <ul> <li>Deletion Confirmation: All document deletions require explicit approval with the exact confirmation phrase</li> <li>Retention Warnings: Automatic alerts when documents cannot be legally deleted</li> <li>Audit Trail: All deletion decisions are logged for compliance</li> <li>FTE Protection: Family Trust Election documents receive special retention tracking</li> </ul>"},{"location":"user-guide/#need-help","title":"Need Help?","text":"<p>If you encounter issues:</p> <ol> <li>Check the Troubleshooting section</li> <li>Review Workflow Documentation for specific workflow issues</li> <li>Run <code>check status</code> to verify your paperless-ngx connection</li> </ol>"},{"location":"user-guide/#next-steps","title":"Next Steps","text":"<ul> <li>Read the Workflows section to understand available operations</li> <li>Explore Daily Usage for common task patterns</li> <li>Set up your first Entity for domain-specific organization</li> </ul>"},{"location":"user-guide/daily-usage/","title":"Daily Usage","text":"<p>This guide covers common tasks and operations you'll perform regularly with Records Manager. These are the day-to-day activities for maintaining an organized and compliant document system.</p>"},{"location":"user-guide/daily-usage/#common-daily-tasks","title":"Common Daily Tasks","text":""},{"location":"user-guide/daily-usage/#uploading-documents","title":"Uploading Documents","text":"<p>The most frequent activity is adding new documents to your records.</p>"},{"location":"user-guide/daily-usage/#quick-upload","title":"Quick Upload","text":"<pre><code>User: \"Upload this invoice\"\nAI: [Analyzes document, suggests tags, uploads to paperless-ngx]\n</code></pre>"},{"location":"user-guide/daily-usage/#specified-domain-upload","title":"Specified Domain Upload","text":"<pre><code>User: \"Store this bank statement in household records\"\nAI: \"Suggested tags: financial, bank, statement, 2024\"\n    \"Document uploaded as #5678\"\n</code></pre>"},{"location":"user-guide/daily-usage/#batch-upload-concept","title":"Batch Upload Concept","text":"<p>While Records Manager processes one document at a time, you can efficiently handle multiple documents:</p> <pre><code># Process multiple files\nfor file in ~/Downloads/invoices/*.pdf; do\n  bun run RecordManager.ts upload \"$file\" --domain corporate\ndone\n</code></pre>"},{"location":"user-guide/daily-usage/#finding-documents","title":"Finding Documents","text":"<p>Daily document lookup is streamlined with intelligent search.</p>"},{"location":"user-guide/daily-usage/#by-tag","title":"By Tag","text":"<pre><code>User: \"Show me all medical receipts\"\nAI: [Returns documents tagged with 'medical' and 'receipt']\n</code></pre>"},{"location":"user-guide/daily-usage/#by-type","title":"By Type","text":"<pre><code>User: \"Find all tax returns\"\nAI: [Returns all documents with type 'Tax Return']\n</code></pre>"},{"location":"user-guide/daily-usage/#by-date-range","title":"By Date Range","text":"<pre><code>User: \"Show invoices from January 2024\"\nAI: [Searches and filters by date]\n</code></pre>"},{"location":"user-guide/daily-usage/#combining-filters","title":"Combining Filters","text":"<pre><code>User: \"Find medical receipts from 2024 that are tax deductible\"\nAI: \"Found 8 documents matching:\"\n    \"  #1234: Medical Receipt - Dr Smith (tags: medical, receipt, tax-deductible, 2024)\"\n    \"  #1235: Pharmacy receipt (tags: medical, receipt, tax-deductible, 2024)\"\n    \"  ...\"\n</code></pre>"},{"location":"user-guide/daily-usage/#checking-document-details","title":"Checking Document Details","text":"<p>Before performing operations, verify document information.</p> <pre><code>User: \"Show me document 1234\"\nAI: \"Document #1234:\"\n    \"  Title: Medical Receipt - Dr Smith\"\n    \"  Created: 2024-03-15\"\n    \"  Tags: medical, receipt, tax-deductible, 2024\"\n    \"  Type: Medical Receipt\"\n    \"  Retention: 7 years (until 2031-03-15)\"\n    \"  Status: Can be deleted after retention date\"\n</code></pre>"},{"location":"user-guide/daily-usage/#weekly-tasks","title":"Weekly Tasks","text":""},{"location":"user-guide/daily-usage/#organizing-new-documents","title":"Organizing New Documents","text":"<p>Set aside time weekly to organize recently uploaded documents.</p> <pre><code>User: \"Organize my household records\"\nAI: \"Found 12 untagged or poorly tagged documents:\"\n    \"  #4567: [Untitled] \u2192 Suggested: 'Utility Bill' with tags: household, utility\"\n    \"  #4568: scan001.pdf \u2192 Suggested: 'Receipt' with tags: financial, receipt\"\n    \"  ...\"\n    \"Apply these suggestions? (yes/no)\"\n</code></pre>"},{"location":"user-guide/daily-usage/#reviewing-tags","title":"Reviewing Tags","text":"<p>Ensure consistent tagging across your documents.</p> <pre><code>User: \"Tag documents 1234, 1235, 1236 as tax-deductible\"\nAI: \"Applying tag 'tax-deductible' to 3 documents...\"\n    \"\u2705 Tags applied\"\n</code></pre>"},{"location":"user-guide/daily-usage/#retention-check","title":"Retention Check","text":"<p>Quick check for any documents approaching retention deadlines.</p> <pre><code>User: \"Check retention for tax documents\"\nAI: \"Tax Document Retention Status:\"\n    \"  Tax Return 2018: Retention expires 2025-10-31 (safe to delete after)\"\n    \"  Tax Assessment 2020: Retention expires 2027-11-15 (keep)\"\n    \"  Invoice #4567: Retention expires 2028-03-20 (keep)\"\n</code></pre>"},{"location":"user-guide/daily-usage/#monthly-tasks","title":"Monthly Tasks","text":""},{"location":"user-guide/daily-usage/#workflow-review","title":"Workflow Review","text":"<p>Ensure automated workflows are performing correctly.</p> <pre><code>User: \"Review my auto-tag workflows\"\nAI: \"Workflow: 'Auto Tag - Smith Family Trust'\"\n    \"  Match Rate: 87% (45/52 documents)\"\n    \"  Accuracy: 94% (42/45 correctly tagged)\"\n    \"  Suggestions:\"\n    \"    - Consider adding 'variation' to match pattern for deed variations\"\n</code></pre>"},{"location":"user-guide/daily-usage/#document-cleanup","title":"Document Cleanup","text":"<p>Identify and organize documents that need attention.</p> <pre><code>User: \"Find untagged documents\"\nAI: \"Found 8 untagged documents:\"\n    \"  #7890: Unknown document (created 2024-01-15)\"\n    \"  #7891: Unknown document (created 2024-01-18)\"\n    \"  ...\"\n    \"Run organize workflow to suggest tags?\"\n</code></pre>"},{"location":"user-guide/daily-usage/#end-of-financial-year-eofy","title":"End of Financial Year (EOFY)","text":""},{"location":"user-guide/daily-usage/#trust-document-validation","title":"Trust Document Validation","text":"<p>Critical for trust structures to maintain compliance.</p> <pre><code>User: \"Validate Smith Family Trust documents\"\nAI: \"Smith Family Trust - Document Check:\"\n    \"Required Documents: 10\"\n    \"Found: 8/10 complete\"\n    \"\"\n    \"\u2705 Present:\"\n    \"  - Trust Deed\"\n    \"  - Family Trust Election (FTE)\"\n    \"  - Trustee Appointment\"\n    \"  - ABN Registration\"\n    \"  - Annual Financial Statements (2023)\"\n    \"  - Tax Return (2023)\"\n    \"\"\n    \"\u26a0\ufe0f  Missing:\"\n    \"  - Beneficiary Declaration\"\n    \"  - TFN Registration\"\n    \"\"\n    \"\u26a0\ufe0f  Warnings:\"\n    \"  - Pre-EOFY Trustee Resolution not created for 2024\"\n    \"  - Distribution Minutes not documented for 2024\"\n</code></pre>"},{"location":"user-guide/daily-usage/#pre-eofy-resolution","title":"Pre-EOFY Resolution","text":"<p>Create required trustee resolution before June 30.</p> <pre><code>User: \"Create pre-EOFY resolution for Smith Family Trust\"\nAI: \"Generating Pre-EOFY Trustee Resolution template...\"\n    \"This resolution documents the trustee's intention to distribute\"\n    \"income for the 2023-2024 financial year.\"\n    \"\"\n    [Provides template for trustee to execute]\n</code></pre>"},{"location":"user-guide/daily-usage/#distribution-minutes","title":"Distribution Minutes","text":"<p>Document beneficiary distributions before EOFY.</p> <pre><code>User: \"Record trust distribution for Smith Family Trust\"\nAI: \"Creating Distribution Minutes template...\"\n    \"Beneficiaries: [List from trust deed]\"\n    \"Income: $XX,XXX\"\n    \"Capital Gains: $X,XXX\"\n    \"\"\n    [Provides template for recording distributions]\n</code></pre>"},{"location":"user-guide/daily-usage/#tax-document-preparation","title":"Tax Document Preparation","text":"<p>Gather all documents needed for tax return.</p> <pre><code>User: \"Prepare documents for 2024 tax return\"\nAI: \"Compiling tax documents for 2024...\"\n    \"\u2705 Income Documents:\"\n    \"  - Payment Summaries (3)\"\n    \"  - Bank Statements (12)\"\n    \"  - Investment Statements (4)\"\n    \"\"\n    \"\u2705 Deduction Documents:\"\n    \"  - Medical Receipts (8)\"\n    \"  - Charitable Donations (5)\"\n    \"  - Work-Related Expenses (12)\"\n    \"\"\n    \"Ready for tax preparation\"\n</code></pre>"},{"location":"user-guide/daily-usage/#annual-tasks","title":"Annual Tasks","text":""},{"location":"user-guide/daily-usage/#retention-audit","title":"Retention Audit","text":"<p>Review all documents for retention compliance.</p> <pre><code>User: \"Run retention audit for all documents\"\nAI: \"Retention Audit Results:\"\n    \"  Total Documents: 1,247\"\n    \"  Within Retention: 1,198\"\n    \"  Past Retention: 49\"\n    \"\"\n    \"Documents past retention (49):\"\n    \"  - Tax Return 2017 (safe to delete)\"\n    \"  - Bank Statements 2018 (safe to delete)\"\n    \"  ...\"\n    \"Review deletion candidates?\"\n</code></pre>"},{"location":"user-guide/daily-usage/#fte-retention-check","title":"FTE Retention Check","text":"<p>Critical check for Family Trust Election documents.</p> <pre><code>User: \"Check FTE retention for all trusts\"\nAI: \"Family Trust Election Retention Status:\"\n    \"\"\n    \"Smith Family Trust:\"\n    \"  FTE Date: 2020-02-01\"\n    \"  Retain Until: 2025-02-01\"\n    \"  Status: \u26a0\ufe0f  EXPIRES IN 12 DAYS\"\n    \"  Action: Plan to archive after 2025-02-01\"\n    \"\"\n    \"Jones Family Trust:\"\n    \"  FTE Date: 2019-06-15\"\n    \"  Retain Until: 2024-06-15\"\n    \"  Status: \u2705 RETENTION EXPIRED\"\n    \"  Action: Can be archived or destroyed\"\n</code></pre>"},{"location":"user-guide/daily-usage/#practical-scenarios","title":"Practical Scenarios","text":""},{"location":"user-guide/daily-usage/#scenario-tax-time-preparation","title":"Scenario: Tax Time Preparation","text":"<pre><code>User: \"Get ready for tax time\"\nAI: \"Running tax preparation workflow...\"\n    \"\"\n    \"Step 1: Gathering income documents...\"\n    \"  Found 17 income documents\"\n    \"\"\n    \"Step 2: Gathering deduction evidence...\"\n    \"  Found 34 deduction documents\"\n    \"\"\n    \"Step 3: Checking retention...\"\n    \"  All documents current\"\n    \"\"\n    \"Step 4: Organizing by category...\"\n    \"  \u2713 Income: payment summaries, interest, dividends\"\n    \"  \u2713 Deductions: medical, work, donations\"\n    \"\"\n    \"Tax documents ready. Would you like me to:\"\n    \"  - Generate summary report\"\n    \"  - Create PDF bundle for accountant\"\n    \"  - Export to spreadsheet\"\n</code></pre>"},{"location":"user-guide/daily-usage/#scenario-insurance-claim","title":"Scenario: Insurance Claim","text":"<pre><code>User: \"Find documents for home insurance claim\"\nAI: \"Searching for insurance documents...\"\n    \"\"\n    \"\u2705 Insurance Policy:\"\n    \"  #1234: Home Insurance Policy (expires 2024-12-31)\"\n    \"\"\n    \"\u2705 Related Documents:\"\n    \"  #5678: Receipt - Roof Repair (potential claim item)\"\n    \"  #5679: Receipt - Water Damage Repair\"\n    \"  #5680: Quote - Window Replacement\"\n    \"\"\n    \"Would you like to:\"\n    \"  - Download all documents\"\n    \"  - Filter by date range\"\n    \"  - Add claim tag to these documents\"\n</code></pre>"},{"location":"user-guide/daily-usage/#scenario-trust-establishment","title":"Scenario: Trust Establishment","text":"<pre><code>User: \"Set up a new family trust\"\nAI: \"Starting Family Trust setup...\"\n    \"\"\n    \"Step 1: Basic Information\"\n    \"  - Trust Name: [Your Trust Name]\"\n    \"  - Trustee: [Individual or Corporate Trustee]\"\n    \"  - Appointor: [Who controls the trust]\"\n    \"  - Beneficiaries: [List eligible beneficiaries]\"\n    \"\"\n    \"Step 2: Registration\"\n    \"  - ABN: [Apply for trust ABN]\"\n    \"  - TFN: [Apply for trust TFN]\"\n    \"\"\n    \"Step 3: Family Trust Election\"\n    \"  - FTE Lodgment Date: [Critical for retention]\"\n    \"  - Note: Must be retained 5 years from FTE date\"\n    \"\"\n    \"Step 4: Document Storage\"\n    \"  Creating entity tag: family-trust-[name]\"\n    \"  Creating storage path: /Trusts/Family/[Trust Name]\"\n    \"\"\n    \"\u2705 Entity created. Ready to upload trust documents.\"\n</code></pre>"},{"location":"user-guide/daily-usage/#scenario-document-cleanup","title":"Scenario: Document Cleanup","text":"<pre><code>User: \"Clean up old documents\"\nAI: \"Analyzing documents for cleanup...\"\n    \"\"\n    \"Documents past retention period (49):\"\n    \"  Category            | Count | Earliest\"\n    \"  ------------------- | ----- | ----------\"\n    \"  Bank Statements     | 24    | 2018-01-01\"\n    \"  Utility Bills       | 18    | 2018-03-15\"\n    \"  Tax Returns         | 3     | 2017-07-01\"\n    \"  Receipts            | 4     | 2017-11-20\"\n    \"\"\n    \"Options:\"\n    \"  1. Review individually\"\n    \"  2. Archive all (move to archive storage)\"\n    \"  3. Delete all (permanent, requires confirmation)\"\n    \"\"\n    \"Recommendation: Archive bank statements and receipts,\"\n    \"                Delete utility bills (no long-term value)\"\n</code></pre>"},{"location":"user-guide/daily-usage/#daily-usage-tips","title":"Daily Usage Tips","text":"<ol> <li> <p>Upload Immediately: Process documents as soon as they arrive to prevent backlog</p> </li> <li> <p>Consistent Tagging: Let the system suggest tags, but review for accuracy</p> </li> <li> <p>Search Before Upload: Check if similar documents exist before adding</p> </li> <li> <p>Weekly Organization: Spend 10 minutes weekly organizing new documents</p> </li> <li> <p>Monthly Review: Check retention status and workflow performance</p> </li> <li> <p>EOFY Preparation: Start gathering tax documents in May, not June</p> </li> <li> <p>Trust Compliance: Validate trust documents quarterly, not annually</p> </li> </ol>"},{"location":"user-guide/daily-usage/#keyboard-shortcuts-cli","title":"Keyboard Shortcuts (CLI)","text":"<pre><code># Quick commands for daily use\nalias rm-upload='bun run RecordManager.ts upload'\nalias rm-search='bun run RecordManager.ts search'\nalias rm-info='bun run RecordManager.ts info'\nalias rm-status='bun run RecordManager.ts status'\n\n# Usage\nrm-upload ~/Downloads/invoice.pdf\nrm-search --query \"medical\" --tags \"receipt\"\nrm-info 1234\nrm-status\n</code></pre>"},{"location":"user-guide/daily-usage/#troubleshooting-daily-issues","title":"Troubleshooting Daily Issues","text":""},{"location":"user-guide/daily-usage/#document-not-found","title":"Document Not Found","text":"<pre><code>User: \"Find my tax return\"\nAI: \"No exact matches found. Similar documents:\"\n    \"  - Tax Assessment 2023\"\n    \"  - Tax Return 2022\"\n    \"Try: 'search tax return' with year filter\"\n</code></pre>"},{"location":"user-guide/daily-usage/#upload-failed","title":"Upload Failed","text":"<pre><code>User: \"Upload this document\"\nAI: \"Upload failed. Possible reasons:\"\n    \"  1. File doesn't exist\"\n    \"\"\n    \"  2. Paperless-ngx connection issue\"\n    \"\"\n    \"  3. File type not supported\"\n    \"Run 'check status' to verify connection\"\n</code></pre>"},{"location":"user-guide/daily-usage/#tag-not-applied","title":"Tag Not Applied","text":"<pre><code>User: \"Tag 1234 as important\"\nAI: \"Tag 'important' applied to document #1234\"\n    \"Note: Tag was created automatically\"\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/","title":"Hierarchical Taxonomies","text":"<p>NEW in v2.0: The Records Manager now supports hierarchical taxonomies with a 4-level structure for precise document classification.</p>"},{"location":"user-guide/hierarchical-taxonomies/#overview","title":"Overview","text":"<p>Hierarchical taxonomies provide a structured, navigable classification system that mirrors how we naturally think about documents. Instead of flat lists of tags and document types, you can now navigate through a logical hierarchy to find the exact classification you need.</p>"},{"location":"user-guide/hierarchical-taxonomies/#structure","title":"Structure","text":"<p>The hierarchical taxonomy has 4 levels:</p> <pre><code>Function \u2192 Service \u2192 Activity \u2192 DocumentType\n</code></pre> <p>Example: Medical Receipt</p> <pre><code>HealthManagement/                    \u2190 Function\n\u251c\u2500\u2500 MedicalCare/                     \u2190 Service\n\u2502   \u251c\u2500\u2500 Consultations/               \u2190 Activity\n\u2502   \u2502   \u251c\u2500\u2500 Medical Receipt          \u2190 DocumentType\n\u2502   \u2502   \u251c\u2500\u2500 Referral Letter\n\u2502   \u2502   \u2514\u2500\u2500 Specialist Referral\n\u2502   \u251c\u2500\u2500 Prescriptions/\n\u2502   \u2502   \u251c\u2500\u2500 Prescription\n\u2502   \u2502   \u2514\u2500\u2500 Medication Receipt\n\u2502   \u2514\u2500\u2500 TestResults/\n\u2502       \u251c\u2500\u2500 Pathology Report\n\u2502       \u2514\u2500\u2500 Imaging Report\n\u2514\u2500\u2500 DentalCare/\n    \u2514\u2500\u2500 Consultations/\n        \u251c\u2500\u2500 Dental Invoice\n        \u2514\u2500\u2500 Treatment Plan\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/#why-hierarchical-taxonomies","title":"Why Hierarchical Taxonomies?","text":"<p>Benefits:</p> <ol> <li>Precision - Navigate through logical levels to find exact document type</li> <li>Discoverability - Explore related document types in the same category</li> <li>Consistency - Standardized paths ensure uniform classification</li> <li>Scalability - Easy to add new document types within existing structure</li> <li>Compliance - Hierarchical paths map directly to retention requirements</li> </ol> <p>Traditional flat taxonomy: - 100+ document types in one long list - Hard to find the right type - No relationship between similar documents</p> <p>Hierarchical taxonomy: - Navigate Function \u2192 Service \u2192 Activity \u2192 DocumentType - Related documents grouped together - Clear context at each level</p>"},{"location":"user-guide/hierarchical-taxonomies/#using-hierarchical-taxonomies","title":"Using Hierarchical Taxonomies","text":""},{"location":"user-guide/hierarchical-taxonomies/#interactive-classification","title":"Interactive Classification","text":"<p>When uploading a document, navigate the hierarchy step-by-step:</p> <pre><code># User: \"I want to upload a medical receipt\"\n\n# Step 1: Select function\nAvailable functions:\n\u2022 HealthManagement\n\u2022 FinanceManagement\n\u2022 PropertyManagement\n...\n\n&gt; HealthManagement\n\n# Step 2: Select service\nAvailable services in HealthManagement:\n\u2022 MedicalCare\n\u2022 DentalCare\n\u2022 VisionCare\n\n&gt; MedicalCare\n\n# Step 3: Select activity\nAvailable activities in Medical Care:\n\u2022 Consultations\n\u2022 Prescriptions\n\u2022 TestResults\n\n&gt; Consultations\n\n# Step 4: Select document type\nAvailable document types for Consultations:\n\u2022 Medical Receipt\n\u2022 Referral Letter\n\u2022 Specialist Referral\n\n&gt; Medical Receipt\n\n\u2713 Classified as: HealthManagement/MedicalCare/Consultations/MedicalReceipt\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/#path-format","title":"Path Format","text":"<p>Hierarchical paths use forward slashes (<code>/</code>) to separate levels:</p> <pre><code>Function/Service/Activity/DocumentType\n</code></pre> <p>Examples: - <code>HealthManagement/MedicalCare/Consultations/MedicalReceipt</code> - <code>FinanceManagement/Banking/Accounts/BankStatement</code> - <code>PropertyManagement/Maintenance/Repairs/InvoiceReceipt</code></p> <p>Rules: - Case-sensitive (use exact names) - No spaces around slashes - Must include all 4 levels</p>"},{"location":"user-guide/hierarchical-taxonomies/#autocomplete","title":"Autocomplete","text":"<p>The system provides intelligent autocomplete for partial paths:</p> <pre><code># Type partial path\n&gt; health/med/cons\n\n# Get suggestions\n\u2192 HealthManagement/MedicalCare/Consultations/\n\n# Continue typing\n&gt; health/med/cons/medical\n\n# Get exact match\n\u2192 HealthManagement/MedicalCare/Consultations/MedicalReceipt\n</code></pre> <p>Fuzzy matching: - Case-insensitive: <code>HEALTH</code> matches <code>HealthManagement</code> - Partial matches: <code>med</code> matches <code>MedicalCare</code> - Keyword matching: <code>dental bill</code> finds <code>HealthManagement/DentalCare/Consultations/DentalInvoice</code></p>"},{"location":"user-guide/hierarchical-taxonomies/#tags-and-storage-paths","title":"Tags and Storage Paths","text":"<p>Once classified, the system generates:</p> <p>FSA Classification Tag (applied to paperless-ngx): <pre><code>FSA/HealthManagement/MedicalCare/Consultations\n</code></pre></p> <p>CRITICAL: Documents receive a SINGLE full FSA path tag, NOT individual level tags.</p> <p>WRONG (Do NOT use): <pre><code>Function:HealthManagement\nService:MedicalCare\nActivity:Consultations\nDocumentType:MedicalReceipt\n</code></pre></p> <p>RIGHT (Required format): <pre><code>FSA/HealthManagement/MedicalCare/Consultations\n</code></pre></p> <p>Why full paths matter: - Single source of truth for classification - Maps directly to retention requirements via Activity level - Prevents ambiguity and tag proliferation - Provides complete context in one tag</p> <p>Storage path (filesystem-safe): <pre><code>Health_Management/Medical_Care/Consultations/Medical_Receipt\n</code></pre></p>"},{"location":"user-guide/hierarchical-taxonomies/#fsa-retention-compliance-critical","title":"FSA \u2192 Retention Compliance (CRITICAL)","text":"<p>Automatic Retention Enforcement:</p> <p>When an FSA tag is applied to a document, the system AUTOMATICALLY determines and applies the correct retention tag based on the FSA Activity level.</p> <p>How it works:</p> <ol> <li>Document classified with FSA path: <code>FSA/FinancialRecords/Banking/AccountStatements</code></li> <li>System looks up retention for Activity \"AccountStatements\" via <code>TaxonomyExpert.getRetentionForActivity()</code></li> <li>System applies BOTH tags atomically:</li> <li><code>FSA/FinancialRecords/Banking/AccountStatements</code></li> <li><code>RETENTION/7-years</code> (automatically determined from FSA Activity)</li> </ol> <p>CRITICAL REQUIREMENTS:</p> <ul> <li>FSA path and retention tag MUST be applied together in a single atomic operation</li> <li>NEVER apply FSA tags without corresponding retention tags</li> <li>Retention period is determined from FSA Activity level, not DocumentType</li> <li>Prevents compliance gaps where documents have classification but no retention enforcement</li> </ul> <p>Common FSA \u2192 Retention Mappings:</p> FSA Path Automatic Retention Legal Basis <code>FSA/FinancialRecords/Banking/AccountStatements</code> <code>RETENTION/7-years</code> ATO Record Keeping Requirements <code>FSA/TrustAdministration/LegalDocumentation/TrustDeed</code> <code>RETENTION/permanent</code> Foundational trust document <code>FSA/TrustAdministration/Governance/TrusteeResolutions</code> <code>RETENTION/7-years</code> ATO distribution substantiation <code>FSA/HealthManagement/MedicalCare/Consultations</code> <code>RETENTION/7-years</code> ATO medical expense deduction <p>What this means for users:</p> <ul> <li>You classify the document with FSA path</li> <li>System automatically applies correct retention</li> <li>No manual retention tag selection needed</li> <li>Guaranteed compliance with country-specific regulations</li> </ul>"},{"location":"user-guide/hierarchical-taxonomies/#available-hierarchies","title":"Available Hierarchies","text":""},{"location":"user-guide/hierarchical-taxonomies/#healthmanagement","title":"HealthManagement","text":"<p>Document types for health and medical records:</p> <pre><code>HealthManagement/\n\u251c\u2500\u2500 MedicalCare/\n\u2502   \u251c\u2500\u2500 Consultations/\n\u2502   \u2502   \u251c\u2500\u2500 Medical Receipt\n\u2502   \u2502   \u251c\u2500\u2500 Referral Letter\n\u2502   \u2502   \u2514\u2500\u2500 Specialist Referral\n\u2502   \u251c\u2500\u2500 Prescriptions/\n\u2502   \u2502   \u251c\u2500\u2500 Prescription\n\u2502   \u2502   \u2514\u2500\u2500 Medication Receipt\n\u2502   \u2514\u2500\u2500 TestResults/\n\u2502       \u251c\u2500\u2500 Pathology Report\n\u2502       \u2514\u2500\u2500 Imaging Report\n\u251c\u2500\u2500 DentalCare/\n\u2502   \u2514\u2500\u2500 Consultations/\n\u2502       \u251c\u2500\u2500 Dental Invoice\n\u2502       \u2514\u2500\u2500 Treatment Plan\n\u2514\u2500\u2500 VisionCare/\n    \u2514\u2500\u2500 Consultations/\n        \u251c\u2500\u2500 Vision Test Results\n        \u2514\u2500\u2500 Optical Invoice\n</code></pre> <p>Retention: 7 years (Australia) - Medical expenses for tax deduction</p>"},{"location":"user-guide/hierarchical-taxonomies/#financemanagement","title":"FinanceManagement","text":"<p>Document types for financial records:</p> <pre><code>FinanceManagement/\n\u251c\u2500\u2500 Banking/\n\u2502   \u251c\u2500\u2500 Accounts/\n\u2502   \u2502   \u251c\u2500\u2500 Bank Statement\n\u2502   \u2502   \u2514\u2500\u2500 Account Closure Notice\n\u2502   \u2514\u2500\u2500 Transactions/\n\u2502       \u251c\u2500\u2500 Transfer Receipt\n\u2502       \u2514\u2500\u2500 Direct Debit Notice\n\u251c\u2500\u2500 Investments/\n\u2502   \u251c\u2500\u2500 Trading/\n\u2502   \u2502   \u251c\u2500\u2500 Trade Confirmation\n\u2502   \u2502   \u2514\u2500\u2500 Dividend Statement\n\u2502   \u2514\u2500\u2500 Reports/\n\u2502       \u2514\u2500\u2500 Investment Portfolio Report\n\u2514\u2500\u2500 CreditCards/\n    \u2514\u2500\u2500 Statements/\n        \u2514\u2500\u2500 Credit Card Statement\n</code></pre> <p>Retention: 5-7 years (varies by document type and country)</p>"},{"location":"user-guide/hierarchical-taxonomies/#propertymanagement","title":"PropertyManagement","text":"<p>Document types for property and real estate:</p> <pre><code>PropertyManagement/\n\u251c\u2500\u2500 Ownership/\n\u2502   \u251c\u2500\u2500 Purchase/\n\u2502   \u2502   \u251c\u2500\u2500 Contract of Sale\n\u2502   \u2502   \u2514\u2500\u2500 Settlement Statement\n\u2502   \u2514\u2500\u2500 Title/\n\u2502       \u2514\u2500\u2500 Title Deed\n\u251c\u2500\u2500 Maintenance/\n\u2502   \u251c\u2500\u2500 Repairs/\n\u2502   \u2502   \u251c\u2500\u2500 Invoice Receipt\n\u2502   \u2502   \u2514\u2500\u2500 Work Order\n\u2502   \u2514\u2500\u2500 Inspections/\n\u2502       \u2514\u2500\u2500 Building Inspection Report\n\u2514\u2500\u2500 Rental/\n    \u251c\u2500\u2500 Agreements/\n    \u2502   \u2514\u2500\u2500 Rental Agreement\n    \u2514\u2500\u2500 Payments/\n        \u2514\u2500\u2500 Rent Receipt\n</code></pre> <p>Retention: Varies (Capital Gains Tax - property held since acquisition)</p>"},{"location":"user-guide/hierarchical-taxonomies/#navigation-methods","title":"Navigation Methods","text":""},{"location":"user-guide/hierarchical-taxonomies/#cli-navigation","title":"CLI Navigation","text":"<p>Use the CLI tool to navigate hierarchically:</p> <pre><code># Get all functions for an entity\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy functions --domain household\n\n# Get services within a function\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy services --domain household --function HealthManagement\n\n# Get activities within a service\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy activities --domain household --function HealthManagement --service MedicalCare\n\n# Get document types for an activity\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy documenttypes --domain household --path \"HealthManagement/MedicalCare/Consultations\"\n\n# Autocomplete a partial path\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete --domain household --path \"health/med\"\n\n# Search by keywords\nbun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy search --domain household --keywords \"medical receipt\"\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/#api-navigation","title":"API Navigation","text":"<p>Use TaxonomyExpert methods for programmatic access:</p> <pre><code>import { TaxonomyExpert } from './src/lib/TaxonomyExpert';\n\nconst expert = new TaxonomyExpert('AUS', 'household');\n\n// Navigate hierarchy\nconst functions = expert.getFunctions('household');\nconst services = expert.getServices('household', 'HealthManagement');\nconst activities = expert.getActivities('household', 'HealthManagement', 'MedicalCare');\nconst docTypes = expert.getDocumentTypesForActivity('household', 'HealthManagement', 'MedicalCare', 'Consultations');\n\n// Validate path\nconst validation = expert.validatePath('household', 'HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Returns: { valid: true, components: [...] }\n\n// Autocomplete\nconst suggestions = expert.autocomplete('household', 'health/med');\n// Returns: ['HealthManagement/MedicalCare/Consultations', 'HealthManagement/MedicalCare/Prescriptions', ...]\n\n// Search by keywords\nconst results = expert.searchByKeyword('household', 'medical receipt');\n// Returns: [{ path: 'HealthManagement/MedicalCare/Consultations/MedicalReceipt', score: 0.95, matchedKeywords: [...] }]\n\n// Generate FSA classification tag\nconst fsaTag = expert.generateFSATag('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Returns: 'FSA/HealthManagement/MedicalCare/Consultations'\n\n// Get retention tag for FSA path\nconst retentionTag = expert.getRetentionTagForPath('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Returns: 'RETENTION/7-years'\n\nconst storagePath = expert.generateStoragePath('HealthManagement/MedicalCare/Consultations/MedicalReceipt');\n// Returns: 'Health_Management/Medical_Care/Consultations/Medical_Receipt'\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/#retention-and-compliance","title":"Retention and Compliance","text":"<p>Hierarchical paths map directly to retention requirements:</p> <pre><code>// Get retention for a specific document type\nconst retention = expert.getRetentionForActivity(\n  'household',\n  'HealthManagement',\n  'MedicalCare',\n  'Consultations',\n  'Medical Receipt'\n);\n\n// Returns:\n// {\n//   years: 7,\n//   legalCitation: 'ATO Record Keeping Requirements - Medical Expenses',\n//   canDelete: false,\n//   reason: 'Document from 2019 must be kept until 2026 (7 years)'\n// }\n</code></pre> <p>Compliance benefits: - Retention rules embedded in taxonomy structure - Legal citations provided for each document type - Country-specific requirements (AUS, USA, GBR) - Automatic deletion safety checks</p>"},{"location":"user-guide/hierarchical-taxonomies/#migration-from-flat-taxonomies","title":"Migration from Flat Taxonomies","text":"<p>If you have existing documents with flat tags, see the Migration Guide for step-by-step instructions on migrating to hierarchical taxonomies.</p> <p>Key differences:</p> Flat Taxonomy Hierarchical Taxonomy Single tag: <code>MedicalReceipt</code> Path: <code>HealthManagement/MedicalCare/Consultations/MedicalReceipt</code> No context Full context at each level Hard to navigate Step-by-step navigation No grouping Related documents grouped by Function/Service/Activity"},{"location":"user-guide/hierarchical-taxonomies/#best-practices","title":"Best Practices","text":"<ol> <li>Use autocomplete - Don't memorize paths, let the system suggest</li> <li>Search by keywords - Describe the document, let the system find the path</li> <li>Validate paths - Always validate before applying to documents</li> <li>Generate FSA tags - Use <code>generateFSATag()</code> for full path format (never apply individual level tags)</li> <li>Apply retention atomically - When adding FSA tag, ALWAYS include retention tag via <code>getRetentionTagForPath()</code></li> <li>Storage paths - Use <code>generateStoragePath()</code> for filesystem compatibility</li> <li>Check retention - Use FSA Activity level when checking retention requirements</li> <li>Progressive navigation - Go level-by-level when unsure of exact path</li> <li>Context matters - Full FSA path provides classification AND retention context in one tag</li> </ol>"},{"location":"user-guide/hierarchical-taxonomies/#performance","title":"Performance","text":"<p>The hierarchical taxonomy system is highly optimized for production use, with sub-millisecond operations validated in comprehensive performance testing.</p>"},{"location":"user-guide/hierarchical-taxonomies/#benchmark-results","title":"Benchmark Results","text":"<p>Validated Performance Metrics (Phase 11, Task T147):</p> Operation Average Time Notes Initial taxonomy load 0.91ms Cold start, all 8 domains getFunctions() &lt;0.001ms Cached, sub-millisecond getServices() &lt;0.001ms Cached, sub-millisecond getActivities() &lt;0.001ms Cached, sub-millisecond getDocumentTypesForActivity() &lt;0.001ms Cached, sub-millisecond validatePath() 0.001ms Path validation parsePath() 0.001ms Path parsing autocomplete() 0.02-0.21ms Depends on input length searchByKeyword() 0.31ms Keyword-based search generateHierarchicalTags() 0.002ms Tag generation generateStoragePath() 0.002ms Path generation Full traversal 6.87ms Complete hierarchy navigation (all 8 domains)"},{"location":"user-guide/hierarchical-taxonomies/#memory-efficiency","title":"Memory Efficiency","text":"<p>Validated Memory Characteristics (Phase 11, Task T148):</p> <ul> <li>Cache stability: 0MB growth on 1,000 repeated loads</li> <li>Navigation stability: Bounded linear growth (1.65MB per 1,000 operations)</li> <li>No memory leaks detected: Active garbage collection confirmed</li> <li>Memory growth rate: -10.8% (negative = memory being reclaimed)</li> </ul>"},{"location":"user-guide/hierarchical-taxonomies/#what-this-means","title":"What This Means","text":"<p>For end users: - Instant autocomplete suggestions (&lt;1ms response) - Zero lag when navigating the hierarchy - Smooth experience even with thousands of documents</p> <p>For developers: - Safe to call TaxonomyExpert methods in tight loops - No performance degradation over time - Suitable for real-time classification workflows</p> <p>For system administrators: - Minimal memory footprint - No cache cleanup required - Scales to handle all 8 domains simultaneously</p> <p>These benchmarks were validated on production-representative workloads with 10,000+ operations across all domains (household, corporate, unit-trust, discretionary-trust, family-trust, hybrid-trust, project, person).</p>"},{"location":"user-guide/hierarchical-taxonomies/#troubleshooting","title":"Troubleshooting","text":"<p>Problem: Path validation fails</p> <pre><code>\u274c Invalid path: HealthManagement/InvalidService/SomeActivity/Document\n</code></pre> <p>Solution: Use autocomplete to find valid paths:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy autocomplete --domain household --path \"HealthManagement/\"\n</code></pre> <p>Problem: Can't find the right document type</p> <p>Solution: Use keyword search:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts taxonomy search --domain household --keywords \"medical receipt consultation\"\n</code></pre> <p>Problem: Retention requirements unclear</p> <p>Solution: Get retention with full hierarchical context:</p> <pre><code>const retention = expert.getRetentionForActivity('household', 'HealthManagement', 'MedicalCare', 'Consultations', 'Medical Receipt');\nconsole.log(retention.legalCitation);  // Shows legal basis\nconsole.log(retention.reason);  // Shows why it can't be deleted\n</code></pre>"},{"location":"user-guide/hierarchical-taxonomies/#next-steps","title":"Next Steps","text":"<ul> <li>Migration Guide - Migrate existing documents to hierarchical taxonomies</li> <li>CLI Reference - Complete CLI command reference</li> <li>API Reference - TaxonomyExpert method reference</li> <li>Contributing Taxonomies - Add new hierarchical paths</li> </ul> <p>Version: 2.0.0 Last Updated: 2026-01-22 Feature: T083-T115 (Hierarchical Taxonomy System)</p>"},{"location":"user-guide/retention/","title":"Retention and Compliance","text":"<p>Document retention is a critical legal requirement. Records Manager helps you comply with country-specific regulations by tracking how long documents must be kept and when they can be safely deleted.</p>"},{"location":"user-guide/retention/#why-retention-matters","title":"Why Retention Matters","text":""},{"location":"user-guide/retention/#legal-obligations","title":"Legal Obligations","text":"<p>Tax authorities and regulatory bodies mandate minimum retention periods:</p> <ul> <li> <p>ATO (Australia): 7 years for most tax documents</p> </li> <li> <p>IRS (United States): 3-7 years depending on document type</p> </li> <li> <p>HMRC (United Kingdom): 7 years for self-assessment records</p> </li> </ul>"},{"location":"user-guide/retention/#consequences-of-non-compliance","title":"Consequences of Non-Compliance","text":"<ul> <li> <p>Penalties for missing records during audit</p> </li> <li> <p>Inability to substantiate tax deductions</p> </li> <li> <p>Legal exposure in disputes</p> </li> <li> <p>Trust compliance issues</p> </li> </ul>"},{"location":"user-guide/retention/#how-fsa-classification-determines-retention-automatic","title":"How FSA Classification Determines Retention (AUTOMATIC)","text":"<p>CRITICAL: When you classify a document with an FSA (Function/Service/Activity) path, the system automatically determines and applies the correct retention period.</p>"},{"location":"user-guide/retention/#automatic-retention-assignment","title":"Automatic Retention Assignment","text":"<p>How it works:</p> <ol> <li>You classify a document: <code>FSA/FinancialRecords/Banking/AccountStatements</code></li> <li>System extracts Activity level: \"AccountStatements\"</li> <li>System looks up retention via <code>TaxonomyExpert.getRetentionForActivity()</code></li> <li>System applies BOTH tags atomically:</li> <li><code>FSA/FinancialRecords/Banking/AccountStatements</code></li> <li><code>RETENTION/7-years</code> (automatically determined)</li> </ol> <p>Why this matters:</p> <ul> <li>No manual retention selection - Classification drives retention automatically</li> <li>Guaranteed compliance - Retention based on legal requirements for Activity type</li> <li>Prevents gaps - Every FSA-classified document MUST have retention tag</li> <li>Country-specific - Retention varies by country (AUS/USA/GBR) but applied automatically</li> <li>Atomic application - FSA path and retention tag applied together, never separately</li> </ul>"},{"location":"user-guide/retention/#common-fsa-retention-mappings","title":"Common FSA \u2192 Retention Mappings","text":"<p>Financial Records: - <code>FSA/FinancialRecords/Banking/AccountStatements</code> \u2192 <code>RETENTION/7-years</code> (ATO) - <code>FSA/FinancialRecords/Tax/TaxReturns</code> \u2192 <code>RETENTION/7-years</code> (ATO) - <code>FSA/FinancialRecords/Investments/DividendStatements</code> \u2192 <code>RETENTION/7-years</code> (ATO)</p> <p>Trust Administration: - <code>FSA/TrustAdministration/LegalDocumentation/TrustDeed</code> \u2192 <code>RETENTION/permanent</code> - <code>FSA/TrustAdministration/Governance/TrusteeResolutions</code> \u2192 <code>RETENTION/7-years</code> (ATO) - <code>FSA/TrustAdministration/Compliance/FamilyTrustElection</code> \u2192 <code>RETENTION/5-years-from-FTE</code></p> <p>Health Management: - <code>FSA/HealthManagement/MedicalCare/Consultations</code> \u2192 <code>RETENTION/7-years</code> (ATO medical expense) - <code>FSA/HealthManagement/DentalCare/Consultations</code> \u2192 <code>RETENTION/7-years</code> (ATO medical expense) - <code>FSA/HealthManagement/Prescriptions/Medications</code> \u2192 <code>RETENTION/5-years</code></p> <p>What this means for you:</p> <p>When Records Manager suggests classifying a bank statement, you get: - Classification: <code>FSA/FinancialRecords/Banking/AccountStatements</code> - Retention: <code>RETENTION/7-years</code> (automatic, no input needed) - Legal basis: ATO Record Keeping Requirements</p> <p>You classify once, compliance is automatic.</p>"},{"location":"user-guide/retention/#retention-periods-australia","title":"Retention Periods (Australia)","text":""},{"location":"user-guide/retention/#financial-documents-7-years","title":"Financial Documents (7 years)","text":"Document Type Retention ATO Reference Tax Returns 7 years Section 254, Tax Administration Act 1953 Tax Assessments 7 years ATO requirement Invoices 7 years Income and deduction substantiation Receipts 7 years Expense substantiation Bank Statements 5 years Income and deduction evidence Investment Statements 7 years Capital gains tax calculation Superannuation Statements 7 years Contribution and balance records Dividend Statements 7 years Investment income substantiation Loan Documents 7 years Interest deduction evidence Mortgage Statements 7 years Interest deduction substantiation"},{"location":"user-guide/retention/#medical-records-7-10-years","title":"Medical Records (7-10 years)","text":"Document Type Retention Reason Medical Receipts 7 years Tax deduction substantiation Test Results 7 years Medical history and tax Prescriptions 5 years Medical expense substantiation Health Records 10 years Long-term personal health history Referral Letters 5 years Treatment substantiation"},{"location":"user-guide/retention/#insurance-documents-10-years","title":"Insurance Documents (10 years)","text":"Document Type Retention Reason Insurance Policies 10 years Until expired + claims period Insurance Claims 7 years Tax deduction + dispute period Home Insurance 10 years Current + expired policy Vehicle Insurance 10 years Current + expired policy Health Insurance 10 years Current + expired policy"},{"location":"user-guide/retention/#legal-documents-10-15-years","title":"Legal Documents (10-15 years)","text":"Document Type Retention Reason Contracts 10 years Statute of limitations Wills 15 years Permanent personal record Powers of Attorney 15 years Permanent legal record Lease Agreements 7 years Contract statute of limitations Loan Agreements 7 years Contract and tax substantiation"},{"location":"user-guide/retention/#trust-documents-5-15-years","title":"Trust Documents (5-15 years)","text":"Document Type Retention Reason Trust Deed 15 years Permanent trust record Family Trust Election (FTE) 5 years from FTE date Special ATO rule (not EOFY) Trustee Resolutions 7 years Distribution substantiation Distribution Minutes 7 years Distribution evidence Beneficiary Declarations 7 years Entitlement evidence Annual Financial Statements 7 years Income tax substantiation Unit Registry 15 years Permanent ownership record Unit Distribution Statements 7 years CGT calculation evidence"},{"location":"user-guide/retention/#identity-documents-5-15-years","title":"Identity Documents (5-15 years)","text":"Document Type Retention Reason Birth Certificate 15 years Permanent personal record Passport 10 years Until expired + travel history Driver License 5 years Until renewed Medicare Card 5 years Current card + claims evidence Marriage Certificate 15 years Permanent legal record Citizenship Certificate 15 years Permanent personal record"},{"location":"user-guide/retention/#retention-workflow","title":"Retention Workflow","text":""},{"location":"user-guide/retention/#check-individual-document","title":"Check Individual Document","text":"<pre><code>User: \"Check retention for document 1234\"\nAI: \"Document #1234: Medical Receipt - Dr Smith\"\n    \"  Created: 2024-03-15\"\n    \"  Retention: 7 years\"\n    \"  Retain Until: 2031-03-15\"\n    \"  Reason: ATO tax deduction substantiation\"\n    \"  Status: Keep - retention period active\"\n</code></pre>"},{"location":"user-guide/retention/#check-by-category","title":"Check by Category","text":"<pre><code>User: \"Check retention for all tax documents\"\nAI: \"Tax Document Retention Status:\"\n    \"  Tax Return 2018: Retention expires 2025-10-31 (safe to delete after)\"\n    \"  Tax Assessment 2020: Retention expires 2027-11-15 (keep)\"\n    \"  Invoice #4567: Retention expires 2028-03-20 (keep)\"\n    \"\"\n    \"  Documents past retention: 1\"\n    \"  Documents within retention: 2\"\n</code></pre>"},{"location":"user-guide/retention/#check-before-deletion","title":"Check Before Deletion","text":"<pre><code>User: \"Can I delete my 2018 documents?\"\nAI: \"Analyzing 2018 documents for deletion eligibility...\"\n    \"\"\n    \"SAFE TO DELETE (24):\"\n    \"  - Bank Statements (5-year retention expired)\"\n    \"  - Utility Bills (2-year retention expired)\"\n    \"  - Receipts (5-year retention expired)\"\n    \"\"\n    \"\u26a0\ufe0f  MUST KEEP (8):\"\n    \"  - Tax Return 2018 (7-year retention until 2025-10-31)\"\n    \"  - Insurance Policies (keep until expired + 10 years)\"\n    \"  - Legal Documents (10-year retention until 2028)\"\n    \"\"\n    \"Recommendation: Delete safe documents, retain others\"\n</code></pre>"},{"location":"user-guide/retention/#special-retention-cases","title":"Special Retention Cases","text":""},{"location":"user-guide/retention/#family-trust-election-fte","title":"Family Trust Election (FTE)","text":"<p>CRITICAL: FTE retention is calculated from the FTE lodgment date, NOT EOFY.</p> <p>This is a common source of confusion. The ATO specifically requires FTE documents to be retained for 5 years from the lodgment date of the FTE itself.</p> <pre><code>User: \"When can I delete my Family Trust Election document?\"\nAI: \"Family Trust Election Date: 2020-02-01\"\n    \"Retention Period: 5 years from FTE date\"\n    \"Retain Until: 2025-02-01\"\n    \"\"\n    \"\u26a0\ufe0f  DO NOT DELETE before 2025-02-01\"\n    \"ATO Requirement: Section 272-80 ITAA 1936\"\n    \"Reason: FTE must be retained for 5 years from lodgment date\"\n    \"\"\n    \"Current Date: 2025-01-20\"\n    \"Days Remaining: 12 days\"\n    \"\"\n    \"After 2025-02-01, you may safely delete this document\"\n</code></pre> <p>Why this matters: *   EOFY is June 30, but FTE lodgment could be any date *   Deleting FTE before 5 years from lodgment risks entire trust structure *   ATO can request FTE during audits to verify trust eligibility</p>"},{"location":"user-guide/retention/#pre-eofy-trustee-resolutions","title":"Pre-EOFY Trustee Resolutions","text":"<p>Trustee resolutions made before June 30 each year document the trustee's intention to distribute income. These must be retained for 7 years.</p> <pre><code>User: \"Check retention for trustee resolutions\"\nAI: \"Trustee Resolutions - Retention Status:\"\n    \"  Pre-EOFY Resolution 2023: Retention until 2030-06-30\"\n    \"  Pre-EOFY Resolution 2022: Retention until 2029-06-30\"\n    \"  \"\n    \"  Required for: ATO distribution substantiation\"\n    \"  ATO Reference: Section 100A ITAA 1936 compliance\"\n</code></pre>"},{"location":"user-guide/retention/#permanent-records","title":"Permanent Records","text":"<p>Some documents should essentially never be destroyed:</p> <ul> <li> <p>Trust Deeds: Foundational trust documents</p> </li> <li> <p>Wills: Estate planning documents</p> </li> <li> <p>Powers of Attorney: Legal authority documents</p> </li> <li> <p>Birth/Marriage/Death Certificates: Vital records</p> </li> <li> <p>Company Constitutions: Corporate governance documents</p> </li> </ul>"},{"location":"user-guide/retention/#retention-audit-workflow","title":"Retention Audit Workflow","text":""},{"location":"user-guide/retention/#annual-retention-review","title":"Annual Retention Review","text":"<pre><code>User: \"Run retention audit for all documents\"\nAI: \"Retention Audit Results:\"\n    \"\"\n    \"Total Documents: 1,247\"\n    \"Within Retention: 1,198\"\n    \"Past Retention: 49\"\n    \"\"\n    \"Documents past retention (49):\"\n    \"  Category            | Count | Earliest   | Safe to Delete\"\n    \"  ------------------- | ----- | ---------- | -------------\"\n    \"  Bank Statements     | 24    | 2018-01-01 | \u2713 Yes\"\n    \"  Utility Bills       | 18    | 2018-03-15 | \u2713 Yes\"\n    \"  Tax Returns         | 3     | 2017-07-01 | \u2713 Yes\"\n    \"  Receipts            | 4     | 2017-11-20 | \u2713 Yes\"\n    \"\"\n    \"Recommendations:\"\n    \"  1. Archive bank statements (minimal value)\"\n    \"  2. Delete utility bills (no ongoing value)\"\n    \"  3. Review tax returns with accountant before deletion\"\n    \"  4. Archive receipts with potential warranty claims\"\n</code></pre>"},{"location":"user-guide/retention/#quarterly-retention-check","title":"Quarterly Retention Check","text":"<pre><code>User: \"Check retention status for this quarter\"\nAI: \"Quarterly Retention Status:\"\n    \"\"\n    \"Expiring This Quarter:\"\n    \"  - FTE Document: Smith Family Trust (expires 2025-02-01)\"\n    \"  - Tax Return 2018: Retention expires 2025-10-31\"\n    \"\"\n    \"Action Required:\"\n    \"  1. Plan FTE archival after 2025-02-01\"\n    \"  2. Review 2018 tax return for archival\"\n</code></pre>"},{"location":"user-guide/retention/#retention-by-country","title":"Retention by Country","text":""},{"location":"user-guide/retention/#australia-default","title":"Australia (Default)","text":"<ul> <li> <p>Tax records: 7 years</p> </li> <li> <p>Trust deeds: 15 years (permanent)</p> </li> <li> <p>FTE: 5 years from FTE date (special rule)</p> </li> </ul>"},{"location":"user-guide/retention/#united-states","title":"United States","text":"<ul> <li> <p>Tax returns: 7 years (IRS recommendation)</p> </li> <li> <p>Supporting documents: 7 years</p> </li> <li> <p>Employment records: 7 years</p> </li> <li> <p>Insurance policies: Until expired + claims period</p> </li> </ul>"},{"location":"user-guide/retention/#united-kingdom","title":"United Kingdom","text":"<ul> <li> <p>Self-assessment records: 7 years (HMRC)</p> </li> <li> <p>SA302 forms: 7 years</p> </li> <li> <p>P60/P11D: 7 years</p> </li> <li> <p>Medical records: 10 years (NHS guidance)</p> </li> </ul>"},{"location":"user-guide/retention/#retention-best-practices","title":"Retention Best Practices","text":""},{"location":"user-guide/retention/#1-calculate-retention-from-document-date","title":"1. Calculate Retention from Document Date","text":"<p>Not current date. Use created or document date:</p> <pre><code>Correct: Document dated 2020-06-01 \u2192 Retention until 2027-06-01\nIncorrect: Document uploaded 2024 \u2192 Retention until 2031\n</code></pre>"},{"location":"user-guide/retention/#2-track-fte-dates-separately","title":"2. Track FTE Dates Separately","text":"<p>For Family Trust Elections, record the FTE lodgment date:</p> <pre><code>Document: Family Trust Election\nFTE Date: 2020-02-01 (not EOFY 2020-06-30)\nRetention Until: 2025-02-01 (5 years from FTE date)\n</code></pre>"},{"location":"user-guide/retention/#3-use-tags-for-retention-tracking","title":"3. Use Tags for Retention Tracking","text":"<p>Tag documents with retention requirements:</p> <pre><code>retention:7yrs\nretention:permanent\nretention:fte-2025-02-01\n</code></pre>"},{"location":"user-guide/retention/#4-set-calendar-reminders","title":"4. Set Calendar Reminders","text":"<p>For critical retention dates:</p> <pre><code>* FTE Retention Review: 30 days before expiration\n\n* EOFY Document Review: May each year\n\n* Annual Retention Audit: First week of new financial year\n</code></pre>"},{"location":"user-guide/retention/#5-archive-dont-delete","title":"5. Archive, Don't Delete","text":"<p>For documents past retention but with potential value:</p> <pre><code>* Move to archive storage\n\n* Remove from active search\n\n* Keep for \"just in case\" scenarios\n</code></pre>"},{"location":"user-guide/retention/#deletion-safety","title":"Deletion Safety","text":""},{"location":"user-guide/retention/#never-delete-without-checking","title":"Never Delete Without Checking","text":"<p>Always run retention check before deletion:</p> <pre><code>User: \"Delete old documents\"\nAI: \"\u26a0\ufe0f  WARNING: Always check retention before deletion\"\n    \"Run: 'Check retention for [documents]' first\"\n    \"\"\n    \"Some documents cannot be legally deleted even if old:\"\n    \"  - FTE documents (5 years from FTE date)\"\n    \"  - Trust deeds (permanent)\"\n    \"  - Active insurance policies\"\n</code></pre>"},{"location":"user-guide/retention/#mandatory-confirmation","title":"Mandatory Confirmation","text":"<p>Deletion always requires explicit confirmation:</p> <pre><code>I understand this cannot be undone and I want to proceed with deleting N documents\n</code></pre>"},{"location":"user-guide/retention/#audit-trail","title":"Audit Trail","text":"<p>All deletion decisions are logged:</p> <pre><code>Deletion Log Entry:\n  Date: 2025-01-20\n  User: [username]\n  Documents: 24 (Bank Statements from 2018)\n  Reason: Past 5-year retention period\n  Confirmation: Exact phrase confirmed\n</code></pre>"},{"location":"user-guide/retention/#cli-retention-commands","title":"CLI Retention Commands","text":"<pre><code># Check retention for a document\nbun run RecordManager.ts retention --doc-id 1234\n\n# Check retention for domain\nbun run RecordManager.ts retention --domain household\n\n# Check retention for document type\nbun run RecordManager.ts retention --type \"Invoice\"\n\n# Full retention audit\nbun run RecordManager.ts retention --audit\n</code></pre>"},{"location":"user-guide/retention/#retention-calendar","title":"Retention Calendar","text":""},{"location":"user-guide/retention/#monthly","title":"Monthly","text":"<ul> <li> <p>Check for documents nearing retention expiration</p> </li> <li> <p>Review FTE retention status (if applicable)</p> </li> </ul>"},{"location":"user-guide/retention/#quarterly","title":"Quarterly","text":"<ul> <li> <p>Review retention status for quarter</p> </li> <li> <p>Plan archival for expiring documents</p> </li> </ul>"},{"location":"user-guide/retention/#annually-eofy","title":"Annually (EOFY)","text":"<ul> <li> <p>Full retention audit</p> </li> <li> <p>Archive expired documents</p> </li> <li> <p>Update retention tracking</p> </li> <li> <p>Review trust document completeness</p> </li> </ul>"},{"location":"user-guide/retention/#multi-year","title":"Multi-Year","text":"<ul> <li> <p>Trust deeds: Keep forever (essentially permanent)</p> </li> <li> <p>Wills and powers of attorney: Keep forever</p> </li> <li> <p>Vital records: Keep forever</p> </li> </ul>"},{"location":"user-guide/search/","title":"Document Search","text":"<p>Effective document search is critical for maintaining an organized records system. Records Manager provides powerful search capabilities through paperless-ngx integration, combining full-text content search with tag-based filtering.</p>"},{"location":"user-guide/search/#search-basics","title":"Search Basics","text":""},{"location":"user-guide/search/#simple-search","title":"Simple Search","text":"<p>The quickest way to find documents is by describing what you're looking for:</p> <pre><code>User: \"Find my tax return\"\nAI: [Returns documents matching 'tax return']\n\nUser: \"Show me medical receipts\"\nAI: [Returns documents with 'medical' and 'receipt' tags]\n</code></pre>"},{"location":"user-guide/search/#search-by-document-id","title":"Search by Document ID","text":"<p>If you know the exact document ID:</p> <pre><code>User: \"Show me document 1234\"\nAI: [Returns detailed information for document #1234]\n</code></pre>"},{"location":"user-guide/search/#search-strategies","title":"Search Strategies","text":""},{"location":"user-guide/search/#by-content","title":"By Content","text":"<p>Paperless-ngx indexes document content, enabling full-text search:</p> <pre><code>User: \"Search for documents containing 'Smith'\"\nAI: [Returns all documents where 'Smith' appears in content]\n</code></pre> <p>Tips for content search:</p> <ul> <li>Use specific terms: \"invoice\" instead of \"payment document\"</li> <li>Include names: \"Dr Smith\" instead of \"doctor\"</li> <li>Search dates: \"January 2024\" instead of \"early this year\"</li> </ul>"},{"location":"user-guide/search/#by-tags","title":"By Tags","text":"<p>Tags are the primary organizational mechanism:</p> <pre><code>User: \"Find all documents tagged 'medical'\"\nAI: [Returns documents with 'medical' tag]\n\nUser: \"Show documents tagged 'financial' and '2024'\"\nAI: [Returns documents with both tags]\n</code></pre> <p>Tag search patterns:</p> <ul> <li>Single tag: <code>medical</code></li> <li>Multiple tags: <code>financial tax 2024</code></li> <li>Tag categories: <code>insurance vehicle</code></li> </ul>"},{"location":"user-guide/search/#by-document-type","title":"By Document Type","text":"<p>Each document has a type for classification:</p> <pre><code>User: \"Find all invoices\"\nAI: [Returns documents with type 'Invoice']\n\nUser: \"Show medical receipts\"\nAI: [Returns documents with type 'Medical Receipt']\n</code></pre> <p>Common document types: *   Invoice, Receipt, Tax Return, Bank Statement *   Insurance Policy, Contract, Legal Document *   Trust Deed, Distribution Minutes, Trustee Resolution</p>"},{"location":"user-guide/search/#by-date-range","title":"By Date Range","text":"<p>Filter documents by creation or document date:</p> <pre><code>User: \"Find invoices from January 2024\"\nAI: [Returns invoices created in January 2024]\n\nUser: \"Show tax documents from 2023\"\nAI: [Returns tax documents dated 2023]\n</code></pre>"},{"location":"user-guide/search/#combined-searches","title":"Combined Searches","text":"<p>The most powerful searches combine multiple filters:</p> <pre><code>User: \"Find medical receipts from 2024 that are tax deductible\"\nAI: \"Searching with filters:\"\n    \"  - Type: Medical Receipt\"\n    \"  - Tags: medical, receipt, tax-deductible, 2024\"\n    \"  \"\n    \"Found 8 documents:\"\n    \"  #1234: Medical Receipt - Dr Smith ($150)\"\n    \"  #1235: Pharmacy Receipt ($45)\"\n    \"  ...\"\n</code></pre>"},{"location":"user-guide/search/#search-workflow","title":"Search Workflow","text":"<p>The Search workflow follows a consistent process:</p> <ol> <li>Parse Request: Extract search criteria from natural language</li> <li>Build Query: Combine filters (tags, type, content, dates)</li> <li>Execute Search: Query paperless-ngx API</li> <li>Present Results: Show matches with key details</li> <li>Offer Refinement: Suggest ways to narrow or expand</li> </ol>"},{"location":"user-guide/search/#result-display","title":"Result Display","text":"<p>Search results include:</p> <pre><code>#1234: Medical Receipt - Dr Smith\n  Created: 2024-03-15\n  Tags: medical, receipt, tax-deductible, 2024\n  Type: Medical Receipt\n  Retention: Until 2031-03-15 (7 years)\n</code></pre>"},{"location":"user-guide/search/#cli-search","title":"CLI Search","text":"<p>For programmatic or script-based search:</p> <pre><code># Basic search\nbun run RecordManager.ts search --query \"medical\"\n\n# Search with tags\nbun run RecordManager.ts search --tags \"financial,tax,2024\"\n\n# Search by type\nbun run RecordManager.ts search --type \"Invoice\"\n\n# Combined search\nbun run RecordManager.ts search \\\n  --query \"office supplies\" \\\n  --tags \"expense,2024\" \\\n  --type \"Receipt\"\n</code></pre>"},{"location":"user-guide/search/#advanced-search-techniques","title":"Advanced Search Techniques","text":""},{"location":"user-guide/search/#fuzzy-matching","title":"Fuzzy Matching","text":"<p>Paperless-ngx supports fuzzy matching for typos and variations:</p> <pre><code>User: \"Find documents from Dr Smyth\" (note: typo)\nAI: [Finds documents from 'Dr Smith']\n</code></pre>"},{"location":"user-guide/search/#regular-expressions","title":"Regular Expressions","text":"<p>For complex pattern matching:</p> <pre><code>bun run RecordManager.ts search --query \"invoice.*2024\"\n</code></pre>"},{"location":"user-guide/search/#exclude-terms","title":"Exclude Terms","text":"<p>Use negation to exclude certain results:</p> <pre><code>User: \"Find invoices excluding cancelled ones\"\nAI: [Returns invoices without 'cancelled' tag]\n</code></pre>"},{"location":"user-guide/search/#search-within-results","title":"Search Within Results","text":"<p>Refine previous searches:</p> <pre><code>User: \"Find all 2024 documents\"\nAI: [Returns 156 documents]\n\nUser: \"Now show only the medical ones\"\nAI: [Refines to 23 medical documents from 2024]\n</code></pre>"},{"location":"user-guide/search/#search-best-practices","title":"Search Best Practices","text":""},{"location":"user-guide/search/#be-specific","title":"Be Specific","text":"<p>Vague searches return too many results:</p> <p>Poor: <pre><code>User: \"Find old documents\"\nAI: [Returns hundreds of documents]\n</code></pre></p> <p>Better: <pre><code>User: \"Find tax returns from before 2020\"\nAI: [Returns specific documents]\n</code></pre></p>"},{"location":"user-guide/search/#use-filters","title":"Use Filters","text":"<p>Combine multiple filters for precision:</p> <pre><code>User: \"Find medical receipts from 2024 that are tax deductible over $100\"\n</code></pre>"},{"location":"user-guide/search/#search-content-not-just-titles","title":"Search Content, Not Just Titles","text":"<p>Paperless-ngx indexes document content:</p> <pre><code>User: \"Search for documents mentioning 'John Smith'\"\nAI: [Finds contracts, invoices, letters naming John Smith]\n</code></pre>"},{"location":"user-guide/search/#leverage-tags","title":"Leverage Tags","text":"<p>Well-tagged documents are searchable documents:</p> <pre><code>User: \"Show all household documents from 2024\"\nAI: [Uses 'household' and '2024' tags for fast filtering]\n</code></pre>"},{"location":"user-guide/search/#search-shortcuts","title":"Search Shortcuts","text":"<p>Create aliases for common searches:</p> <pre><code># Common searches\nalias rm-tax='bun run RecordManager.ts search --tags \"tax\"'\nalias rm-medical='bun run RecordManager.ts search --tags \"medical\"'\nalias rm-2024='bun run RecordManager.ts search --tags \"2024\"'\nalias rm-invoices='bun run RecordManager.ts search --type \"Invoice\"'\n\n# Combined searches\nalias rm-tax-2024='bun run RecordManager.ts search --tags \"tax,2024\"'\nalias rm-deductions='bun run RecordManager.ts search --tags \"tax-deductible\"'\n</code></pre>"},{"location":"user-guide/search/#organizing-for-better-search","title":"Organizing for Better Search","text":"<p>Good search starts with good organization:</p>"},{"location":"user-guide/search/#tag-strategy","title":"Tag Strategy","text":"<ul> <li>Category tags: financial, medical, insurance, legal</li> <li>Year tags: 2024, 2023, 2022</li> <li>Status tags: tax-deductible, paid, pending, archived</li> <li>Entity tags: household, corporate, trust-name</li> </ul>"},{"location":"user-guide/search/#document-type-assignment","title":"Document Type Assignment","text":"<p>Always assign document types (not just tags):</p> <ul> <li>Invoices should have type \"Invoice\"</li> <li>Tax documents should have type \"Tax Return\" or \"Tax Assessment\"</li> <li>Insurance documents should have type \"Insurance Policy\"</li> </ul>"},{"location":"user-guide/search/#consistent-naming","title":"Consistent Naming","text":"<p>Use consistent document titles:</p> <pre><code>Good: \"Invoice - Supplier Name - YYYY-MM-DD\"\nBad: \"Scan001.pdf\"\nBad: \"Document (1)\"\n</code></pre>"},{"location":"user-guide/search/#search-examples-by-use-case","title":"Search Examples by Use Case","text":""},{"location":"user-guide/search/#tax-preparation","title":"Tax Preparation","text":"<pre><code>User: \"Find all tax deductible medical expenses from 2024\"\nAI: \"Searching with filters:\"\n    \"  - Tags: medical, tax-deductible, 2024\"\n    \"  - Types: Medical Receipt\"\n    \"  \"\n    \"Found 12 documents totaling $1,847\"\n</code></pre>"},{"location":"user-guide/search/#insurance-claims","title":"Insurance Claims","text":"<pre><code>User: \"Find home insurance documents and related receipts\"\nAI: \"Found documents:\"\n    \"  Policy: #1234 - Home Insurance (expires 2024-12-31)\"\n    \"  Receipts: 8 documents related to home repairs\"\n</code></pre>"},{"location":"user-guide/search/#trust-administration","title":"Trust Administration","text":"<pre><code>User: \"Find all Smith Family Trust documents for 2024\"\nAI: \"Found 34 documents:\"\n    \"  Financial Statements (1)\"\n    \"  Distribution Minutes (1)\"\n    \"  Correspondence (12)\"\n    \"  Tax documents (4)\"\n    \"  Other (16)\"\n</code></pre>"},{"location":"user-guide/search/#audit-preparation","title":"Audit Preparation","text":"<pre><code>User: \"Find all documents I need for a 2024 financial audit\"\nAI: \"Compiling audit documents...\"\n    \"  Financial Statements: \u2713\"\n    \"  Invoices: 127 documents\"\n    \"  Receipts: 234 documents\"\n    \"  Bank Statements: 12 documents\"\n    \"  Tax Documents: 8 documents\"\n    \"  \"\n    \"  Total: 386 documents ready for export\"\n</code></pre>"},{"location":"user-guide/search/#troubleshooting-search","title":"Troubleshooting Search","text":""},{"location":"user-guide/search/#too-many-results","title":"Too Many Results","text":"<p>Narrow with more filters:</p> <pre><code>User: \"Find invoices\" (returns 500+ results)\nAI: \"Try refining by:\"\n    \"  - Year: 'invoices from 2024'\"\n    \"  - Tag: 'invoices tagged unpaid'\"\n    \"  - Amount: 'invoices over $1000'\"\n</code></pre>"},{"location":"user-guide/search/#no-results","title":"No Results","text":"<p>Broaden the search:</p> <pre><code>User: \"Find invoice from Acme Corp dated March 15 2024\" (no results)\nAI: \"Try broader searches:\"\n    \"  - 'Find Acme Corp invoices'\"\n    \"  - 'Find invoices from March 2024'\"\n    \"  - 'Search for Acme'\"\n</code></pre>"},{"location":"user-guide/search/#unexpected-results","title":"Unexpected Results","text":"<p>Check document tags:</p> <pre><code>User: \"Why did this document appear?\"\nAI: \"Document #1234 matched because:\"\n    \"  - Content contains: 'search term'\"\n    \"  - Tags include: 'matching tag'\"\n    \"  - Type is: 'matching type'\"\n</code></pre>"},{"location":"user-guide/search/#search-performance-tips","title":"Search Performance Tips","text":"<ol> <li> <p>Use tags first: Tag-based search is faster than content search</p> </li> <li> <p>Add year filters: Reduces search space significantly</p> </li> <li> <p>Specify document types: Narrowing by type improves results</p> </li> <li> <p>Search recent first: Limit to recent years when possible</p> </li> <li> <p>Combine filters: Multiple specific filters beat one vague filter</p> </li> </ol>"},{"location":"user-guide/tagging/","title":"Tag-Based Organization","text":"<p>Tags are the foundation of document organization in Records Manager. A well-designed tagging strategy makes your documents instantly searchable and manageable.</p>"},{"location":"user-guide/tagging/#tag-philosophy","title":"Tag Philosophy","text":"<p>Tags are permanent. Well-tagged documents are findable documents.</p> <p>Unlike folders where a document can only exist in one location, tags allow documents to exist in multiple contexts simultaneously. An invoice can be both <code>financial</code> and <code>tax-deductible</code> and <code>2024</code> and relate to a specific trust.</p>"},{"location":"user-guide/tagging/#tag-categories","title":"Tag Categories","text":"<p>Records Manager uses several tag categories:</p>"},{"location":"user-guide/tagging/#domain-tags","title":"Domain Tags","text":"<p>Identify the entity or context:</p> <ul> <li> <p><code>household</code> - Personal records</p> </li> <li> <p><code>corporate</code> - Business records</p> </li> <li> <p><code>unit-trust</code> - Unit trust documents</p> </li> <li> <p><code>discretionary-trust</code> - Discretionary trust documents</p> </li> <li> <p><code>family-trust</code> - Family trust documents</p> </li> <li> <p><code>project</code> - Project-based documents</p> </li> </ul>"},{"location":"user-guide/tagging/#category-tags","title":"Category Tags","text":"<p>High-level document classification:</p> <ul> <li> <p><code>financial</code> - Money-related documents</p> </li> <li> <p><code>medical</code> - Health and medical records</p> </li> <li> <p><code>insurance</code> - Insurance policies and claims</p> </li> <li> <p><code>legal</code> - Contracts and legal documents</p> </li> <li> <p><code>hr</code> - Human resources records</p> </li> <li> <p><code>compliance</code> - Regulatory and audit documents</p> </li> <li> <p><code>reporting</code> - Financial statements and reports</p> </li> <li> <p><code>governance</code> - Trust governance documents</p> </li> <li> <p><code>household</code> - Home and utility records</p> </li> <li> <p><code>vehicle</code> - Car and vehicle records</p> </li> <li> <p><code>pet</code> - Pet-related documents</p> </li> <li> <p><code>identity</code> - Identity documents</p> </li> </ul>"},{"location":"user-guide/tagging/#document-type-tags","title":"Document Type Tags","text":"<p>Specific document identification:</p> <ul> <li> <p><code>invoice</code>, <code>receipt</code>, <code>contract</code></p> </li> <li> <p><code>tax-return</code>, <code>bank-statement</code></p> </li> <li> <p><code>insurance-policy</code>, <code>insurance-claim</code></p> </li> <li> <p><code>trust-deed</code>, <code>trustee-resolution</code></p> </li> <li> <p><code>distribution-minutes</code></p> </li> </ul>"},{"location":"user-guide/tagging/#status-tags","title":"Status Tags","text":"<p>Document state or purpose:</p> <ul> <li> <p><code>tax-deductible</code> - Claimable on tax return</p> </li> <li> <p><code>paid</code>, <code>unpaid</code> - Payment status</p> </li> <li> <p><code>pending</code> - Awaiting action</p> </li> <li> <p><code>archived</code> - No longer active</p> </li> <li> <p><code>critical</code> - Important documents (FTE, trust deeds)</p> </li> </ul>"},{"location":"user-guide/tagging/#temporal-tags","title":"Temporal Tags","text":"<p>Time-based organization:</p> <ul> <li> <p><code>2024</code>, <code>2023</code>, <code>2022</code> - Financial years</p> </li> <li> <p><code>q1</code>, <code>q2</code>, <code>q3</code>, <code>q4</code> - Quarters</p> </li> <li> <p><code>january</code>, <code>february</code>, etc. - Months</p> </li> </ul>"},{"location":"user-guide/tagging/#tag-suggestion-system","title":"Tag Suggestion System","text":"<p>Records Manager automatically suggests tags based on:</p>"},{"location":"user-guide/tagging/#filename-analysis","title":"Filename Analysis","text":"<pre><code>File: \"medical-receipt-dr-smith-2024.pdf\"\nSuggested tags:\n*   medical (from \"medical\")\n\n*   receipt (from \"receipt\")\n\n*   2024 (from \"2024\")\n</code></pre>"},{"location":"user-guide/tagging/#content-analysis","title":"Content Analysis","text":"<pre><code>File: \"scan001.pdf\" (content includes \"Tax Return for 2023\")\nSuggested tags:\n*   tax (from content)\n\n*   2023 (from content)\n</code></pre>"},{"location":"user-guide/tagging/#domain-patterns","title":"Domain Patterns","text":"<p>Each domain has characteristic tag patterns:</p> <p>Household: <pre><code>financial: tax, income, expense, investment, superannuation\nmedical: doctor, hospital, pharmacy, insurance, receipt\ninsurance: home, contents, vehicle, health, life\n</code></pre></p> <p>Corporate: <pre><code>financial: accounts-payable, accounts-receivable, expense, revenue\nhr: employee, payroll, leave, performance\ncompliance: audit, report, certificate, permit\n</code></pre></p> <p>Trusts: <pre><code>governance: trustee-resolution, minutes, variation\nfinancial: distribution, income, capital-gain\nregulatory: abn, tfn, ato, lodgment\n</code></pre></p>"},{"location":"user-guide/tagging/#tagging-workflow","title":"Tagging Workflow","text":""},{"location":"user-guide/tagging/#upload-tagging","title":"Upload Tagging","text":"<p>When uploading documents, tags are suggested automatically:</p> <pre><code>User: \"Upload medical-receipt.pdf\"\nAI: \"Suggested tags:\"\n    \"  - medical (category)\"\n    \"\"\n    \"  - receipt (document type)\"\n    \"\"\n    \"  - 2024 (year)\"\n    \"\"\n    \"  - tax-deductible (potential deduction)\"\n    \"\"\n    \"Accept these tags? (yes/no/modify)\"\n</code></pre>"},{"location":"user-guide/tagging/#adding-tags-later","title":"Adding Tags Later","text":"<p>Apply tags to existing documents:</p> <pre><code>User: \"Tag documents 1234, 1235 as tax-deductible\"\nAI: \"Applying 'tax-deductible' tag to 2 documents...\"\n    \"\u2705 Complete\"\n</code></pre>"},{"location":"user-guide/tagging/#bulk-tagging","title":"Bulk Tagging","text":"<p>Tag multiple documents at once:</p> <pre><code># Tag all search results\nbun run RecordManager.ts search --query \"office supplies\" --tag \"expense\"\n</code></pre>"},{"location":"user-guide/tagging/#tag-strategies-by-domain","title":"Tag Strategies by Domain","text":""},{"location":"user-guide/tagging/#household-domain","title":"Household Domain","text":"<p>Essential Tags: <pre><code>financial, medical, insurance, legal, household, vehicle, pet, identity\n</code></pre></p> <p>Year Tags: <pre><code>2024, 2023, 2022, etc.\n</code></pre></p> <p>Household-Specific: <pre><code># Financial\ntax, income, expense, investment, superannuation, dividend, loan, mortgage\n\n# Medical\ndoctor, hospital, pharmacy, receipt, referral, test-results, prescription\n\n# Insurance\nhome, contents, vehicle, health, life, claim, pet-insurance\n\n# Household\nutility, maintenance, warranty, manual, rate-notice\n\n# Vehicle\ncar, registration, lease, insurance\n\n# Pet\nvaccination, microchip, vet, pet-registration\n\n# Identity\npassport, license, medicare, citizenship, marriage, divorce\n</code></pre></p>"},{"location":"user-guide/tagging/#corporate-domain","title":"Corporate Domain","text":"<p>Essential Tags: <pre><code>financial, hr, legal, compliance, corporate, reporting\n</code></pre></p> <p>Corporate-Specific: <pre><code># Financial\naccounts-payable, accounts-receivable, expense, revenue, purchase-order\n\n# HR\nemployee, payroll, leave, performance, pay-slip, timesheet\n\n# Compliance\naudit, report, certificate, permit, license\n\n# Reporting\nbalance-sheet, cash-flow, income-statement, equity\n</code></pre></p>"},{"location":"user-guide/tagging/#trust-domains","title":"Trust Domains","text":"<p>Essential Tags: <pre><code>governance, financial, regulatory, [trust-type]\n</code></pre></p> <p>Unit Trust Tags: <pre><code>unit-trust, unit-registry, distribution, unitholder, unit-transfer\ncapital-account, unit-statement\n</code></pre></p> <p>Discretionary Trust Tags: <pre><code>discretionary-trust, beneficiary, distribution, pre-eofy, streaming\ntrustee-resolution, minutes, variation\n</code></pre></p> <p>Family Trust Tags: <pre><code>family-trust, fte, family-trust-election, beneficiary, interposed-entity\ntrustee-resolution, pre-eofy, distribution-minutes\n</code></pre></p> <p>Critical Trust Tags: <pre><code>critical - For FTE, trust deeds, appointments\npermanent - For documents never to be deleted\n</code></pre></p>"},{"location":"user-guide/tagging/#tag-organization-principles","title":"Tag Organization Principles","text":""},{"location":"user-guide/tagging/#1-category-first","title":"1. Category First","text":"<p>Always include a category tag:</p> <pre><code>Good: medical, receipt, 2024\nBad: dr-smith-receipt\n</code></pre>"},{"location":"user-guide/tagging/#2-add-context","title":"2. Add Context","text":"<p>Include domain and purpose tags:</p> <pre><code>Good: household, financial, tax-deductible, 2024\nBad: receipt, 2024\n</code></pre>"},{"location":"user-guide/tagging/#3-use-consistent-naming","title":"3. Use Consistent Naming","text":"<p>Establish tag naming conventions:</p> <pre><code>Good: tax-deductible (always hyphenated)\nBad: tax_deductible, taxdeductible, Tax Deductible\n</code></pre>"},{"location":"user-guide/tagging/#4-tag-for-findability","title":"4. Tag for Findability","text":"<p>Tag for how you'll search, not just describe:</p> <pre><code>Good: tax-deductible (you'll search for this)\nBad: receipt-from-dr-smith-in-march (too specific)\n</code></pre>"},{"location":"user-guide/tagging/#5-year-tags-are-essential","title":"5. Year Tags Are Essential","text":"<p>Always tag with financial year:</p> <pre><code>Good: 2024, tax, income\nBad: tax, income (which year?)\n</code></pre>"},{"location":"user-guide/tagging/#tag-management","title":"Tag Management","text":""},{"location":"user-guide/tagging/#creating-tags","title":"Creating Tags","text":"<p>Tags are created automatically when needed:</p> <pre><code>User: \"Tag 1234 as new-tag\"\nAI: \"Tag 'new-tag' created and applied to document #1234\"\n</code></pre>"},{"location":"user-guide/tagging/#renaming-tags","title":"Renaming Tags","text":"<p>Rename through paperless-ngx UI for bulk changes:</p> <ol> <li> <p>Access paperless-ngx</p> </li> <li> <p>Go to Tags section</p> </li> <li> <p>Edit tag name</p> </li> <li> <p>All documents update automatically</p> </li> </ol>"},{"location":"user-guide/tagging/#merging-tags","title":"Merging Tags","text":"<p>Combine similar tags:</p> <ol> <li> <p>Identify duplicates: <code>receipt</code> and <code>receipts</code></p> </li> <li> <p>Choose primary tag</p> </li> <li> <p>Use Tag workflow to reapply</p> </li> <li> <p>Remove unused tag</p> </li> </ol>"},{"location":"user-guide/tagging/#deleting-tags","title":"Deleting Tags","text":"<p>Remove unused tags through paperless-ngx: * Tag deletion doesn't delete documents</p> <ul> <li>Documents simply lose that tag</li> </ul>"},{"location":"user-guide/tagging/#tag-cleanup-workflow","title":"Tag Cleanup Workflow","text":""},{"location":"user-guide/tagging/#find-untagged-documents","title":"Find Untagged Documents","text":"<pre><code>User: \"Find untagged documents\"\nAI: \"Found 23 untagged documents:\"\n    \"  #4567: [Untitled]\"\n    \"  #4568: scan001.pdf\"\n    \"  ...\"\n</code></pre>"},{"location":"user-guide/tagging/#organize-poorly-tagged-documents","title":"Organize Poorly Tagged Documents","text":"<pre><code>User: \"Organize household documents\"\nAI: \"Found 15 documents with inconsistent tagging:\"\n    \"  #5678: Only tagged 'receipt' \u2192 Suggest: financial, receipt, 2024\"\n    \"  #5679: Only tagged 'pdf' \u2192 Suggest: remove 'pdf', add appropriate tags\"\n</code></pre>"},{"location":"user-guide/tagging/#tag-best-practices","title":"Tag Best Practices","text":""},{"location":"user-guide/tagging/#do","title":"DO","text":"<ul> <li> <p>Use lowercase: <code>tax-deductible</code>, not <code>Tax-Deductible</code></p> </li> <li> <p>Hyphenate multi-word: <code>tax-deductible</code>, not <code>tax deductible</code></p> </li> <li> <p>Use year tags: Always include <code>2024</code>, <code>2023</code>, etc.</p> </li> <li> <p>Tag by category: Always include category tag</p> </li> <li> <p>Tag for search: Tag how you'll search later</p> </li> <li> <p>Be consistent: Use same tags for similar documents</p> </li> </ul>"},{"location":"user-guide/tagging/#dont","title":"DON'T","text":"<ul> <li> <p>Don't over-tag: 3-5 tags is usually enough</p> </li> <li> <p>Don't use vague tags: <code>document</code>, <code>pdf</code>, <code>file</code> are useless</p> </li> <li> <p>Don't tag for content: Content search finds words; tags find categories</p> </li> <li> <p>Don't create single-use tags: Tags should apply to multiple documents</p> </li> <li> <p>Don't tag everything: Not every document needs every relevant tag</p> </li> </ul>"},{"location":"user-guide/tagging/#tag-examples-by-document-type","title":"Tag Examples by Document Type","text":""},{"location":"user-guide/tagging/#invoice","title":"Invoice","text":"<pre><code>File: \"invoice-acme-supply-2024-03-15.pdf\"\nTags:\n  * financial (category)\n\n  * invoice (type)\n\n  * 2024 (year)\n\n  * unpaid (status)\n</code></pre>"},{"location":"user-guide/tagging/#medical-receipt","title":"Medical Receipt","text":"<pre><code>File: \"receipt-dr-smith-2024-02-20.pdf\"\nTags:\n  * medical (category)\n\n  * receipt (type)\n\n  * 2024 (year)\n\n  * tax-deductible (purpose)\n</code></pre>"},{"location":"user-guide/tagging/#insurance-policy","title":"Insurance Policy","text":"<pre><code>File: \"home-insurance-policy-2024.pdf\"\nTags:\n  * insurance (category)\n\n  * home (type)\n\n  * household (domain)\n\n  * 2024 (year)\n\n  * insurance-policy (type)\n</code></pre>"},{"location":"user-guide/tagging/#trust-deed","title":"Trust Deed","text":"<pre><code>File: \"smith-family-trust-deed.pdf\"\nTags:\n  * family-trust (domain)\n\n  * governance (category)\n\n  * trust-deed (type)\n\n  * critical (importance)\n\n  * permanent (retention)\n</code></pre>"},{"location":"user-guide/tagging/#tax-return","title":"Tax Return","text":"<pre><code>File: \"tax-return-2024.pdf\"\nTags:\n  * household (domain)\n\n  * financial (category)\n\n  * tax-return (type)\n\n  * 2024 (year)\n\n  * tax (purpose)\n</code></pre>"},{"location":"user-guide/tagging/#advanced-tagging","title":"Advanced Tagging","text":""},{"location":"user-guide/tagging/#entity-tags","title":"Entity Tags","text":"<p>For multi-entity management:</p> <pre><code>entity:smith-family-trust\nentity:jones-unit-trust\nentity:abc-corporation\n</code></pre>"},{"location":"user-guide/tagging/#workflow-tags","title":"Workflow Tags","text":"<p>Track document processing:</p> <pre><code>uploaded:2024-03-15\nprocessed:2024-03-16\nreviewed:2024-03-17\n</code></pre>"},{"location":"user-guide/tagging/#sensitivity-tags","title":"Sensitivity Tags","text":"<p>For document classification:</p> <pre><code>sensitivity:public\nsensitivity:confidential\nsensitivity:secret\n</code></pre>"},{"location":"user-guide/tagging/#tag-maintenance-schedule","title":"Tag Maintenance Schedule","text":""},{"location":"user-guide/tagging/#weekly","title":"Weekly","text":"<ul> <li> <p>Tag new uploads properly</p> </li> <li> <p>Fix any mis-tagged documents</p> </li> </ul>"},{"location":"user-guide/tagging/#monthly","title":"Monthly","text":"<ul> <li> <p>Review tag consistency</p> </li> <li> <p>Merge duplicate tags</p> </li> <li> <p>Remove unused tags</p> </li> </ul>"},{"location":"user-guide/tagging/#quarterly","title":"Quarterly","text":"<ul> <li> <p>Audit tag usage</p> </li> <li> <p>Identify tag gaps</p> </li> <li> <p>Update tag conventions</p> </li> </ul>"},{"location":"user-guide/tagging/#annually","title":"Annually","text":"<ul> <li> <p>Archive old year tags</p> </li> <li> <p>Create new year tags</p> </li> <li> <p>Review entire tag structure</p> </li> </ul>"},{"location":"user-guide/taxonomy-updates/","title":"Taxonomy Updates &amp; Synchronization","text":"<p>This guide explains how to keep your taxonomies up to date with the latest regulatory requirements and taxonomy definitions.</p>"},{"location":"user-guide/taxonomy-updates/#overview","title":"Overview","text":"<p>The Records Manager skill includes country-specific taxonomies that evolve over time. As regulations change (e.g., ATO updates retention periods from 5 to 7 years), you need a safe way to update your paperless-ngx instance without losing existing customizations.</p> <p>The update workflow provides:</p> <ul> <li>Change Detection: See what's new before applying updates</li> <li>Manual Review: Explicit approval required for retention rule changes</li> <li>Atomic Updates: Rollback on failure prevents partial state</li> <li>Preservation: Existing user customizations are never overwritten</li> </ul>"},{"location":"user-guide/taxonomy-updates/#when-to-update-taxonomies","title":"When to Update Taxonomies","text":"<p>Update your taxonomies when:</p> <ol> <li>Regulatory Changes: Tax authorities update retention requirements</li> <li>New Document Types: Skill adds support for new document types</li> <li>New Tags: New classification tags become available</li> <li>Country Expansion: New countries or entity types added</li> </ol> <p>Recommendation: Check for updates quarterly or after major skill version updates.</p>"},{"location":"user-guide/taxonomy-updates/#update-workflow","title":"Update Workflow","text":""},{"location":"user-guide/taxonomy-updates/#step-1-check-for-updates","title":"Step 1: Check for Updates","text":"<p>Before applying any changes, check what's available:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates --country Australia\n</code></pre> <p>Output Example:</p> <pre><code>\ud83d\udd0d Checking for taxonomy updates for Australia...\n\n\ud83d\udcca Changes detected:\n\n\ud83d\udccc New Tags (3):\n   \u2022 pet (household)\n   \u2022 vaccination (household)\n   \u2022 microchip (household)\n\n\ud83d\udcc4 New Document Types (5):\n   \u2022 Pet Vaccination Record (household)\n   \u2022 Pet Medical Record (household)\n   \u2022 Pet Insurance Policy (household)\n   \u2022 Pet Microchip Registration (household)\n   \u2022 Pet Registration (household)\n\n\u26a0\ufe0f  Retention Rule Changes (1) - REQUIRES MANUAL REVIEW:\n   \u2022 Tax Return (household)\n     Old: 5 years - Previous ATO guidance\n     New: 7 years - ATO Section 254 of Tax Administration Act 1953\n\n\u26a0\ufe0f  Run with --approve-retention-changes to apply these updates\n</code></pre> <p>This is a dry run - nothing is changed in your paperless-ngx instance.</p>"},{"location":"user-guide/taxonomy-updates/#step-2-review-changes","title":"Step 2: Review Changes","text":"<p>Pay special attention to:</p> <p>Retention Rule Changes \u26a0\ufe0f</p> <ul> <li>Impact: May affect deletion policies for existing documents</li> <li>Compliance: Verify changes align with latest official regulations</li> <li>Legal Review: Consult with tax advisor if unsure</li> </ul> <p>Example Scenario:</p> <pre><code>Tax Return retention changed from 5 to 7 years:\n  Old: \"Previous ATO guidance\"\n  New: \"ATO Section 254 of Tax Administration Act 1953\"\n\nAction Required:\n  \u2705 Verify this matches current ATO website guidance\n  \u2705 Check if you have any Tax Returns older than 5 years\n  \u2705 Update your deletion review process\n  \u26a0\ufe0f  DO NOT approve if uncertain about regulatory compliance\n</code></pre>"},{"location":"user-guide/taxonomy-updates/#step-3-apply-updates","title":"Step 3: Apply Updates","text":""},{"location":"user-guide/taxonomy-updates/#scenario-a-no-retention-changes","title":"Scenario A: No Retention Changes","text":"<p>If only tags/document types/paths are new:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --country Australia\n</code></pre> <p>Updates apply automatically with no additional approval needed.</p>"},{"location":"user-guide/taxonomy-updates/#scenario-b-retention-changes-detected","title":"Scenario B: Retention Changes Detected","text":"<p>If retention rules changed, explicit approval is required:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --country Australia --approve-retention-changes\n</code></pre> <p>Warning: Only use <code>--approve-retention-changes</code> after verifying regulatory compliance.</p>"},{"location":"user-guide/taxonomy-updates/#step-4-verify-results","title":"Step 4: Verify Results","text":"<p>After applying updates, verify:</p> <pre><code># Check taxonomy version\nbun run src/skills/RecordsManager/Tools/RecordManager.ts diff-taxonomies\n\n# Verify new tags exist\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --tags \"pet\"\n\n# Test new document types\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain household\n</code></pre>"},{"location":"user-guide/taxonomy-updates/#version-history","title":"Version History","text":"<p>View taxonomy version history and all changes:</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts diff-taxonomies\n</code></pre> <p>Output:</p> <pre><code>\ud83d\udccb Taxonomy Version History\n\nCurrent Version: 1.1.0\nLast Updated: 2026-01-22\n\n\ud83d\udcdc Changelog:\n\nVersion 1.1.0 (2026-01-22)\n   \u2022 Added Pet documents to household domain\n   \u2022 Updated Tax Return retention from 5 to 7 years (ATO)\n   \u2022 Added medical records category for family-trust domain\n\nVersion 1.0.0 (2026-01-01)\n   \u2022 Initial taxonomy definitions for Australia, United States, United Kingdom\n   \u2022 Complete household, corporate, and trust domain taxonomies\n   \u2022 Country-specific retention rules with legal citations\n</code></pre>"},{"location":"user-guide/taxonomy-updates/#safety-features","title":"Safety Features","text":""},{"location":"user-guide/taxonomy-updates/#atomic-transactions","title":"Atomic Transactions","text":"<p>All updates use atomic transactions:</p> <pre><code>1. Detect changes\n2. Begin transaction\n3. Create tags \u2192 Create document types \u2192 Create storage paths \u2192 Create custom fields\n4. Commit transaction\n\nIf ANY step fails: Rollback ALL changes\n</code></pre> <p>Result: Your paperless-ngx instance is never left in a partial state.</p>"},{"location":"user-guide/taxonomy-updates/#preservation-of-customizations","title":"Preservation of Customizations","text":"<p>The update process never overwrites existing resources:</p> <ul> <li>Existing Tags: Skipped (keeps your custom colors, matching rules)</li> <li>Existing Document Types: Skipped (preserves your modifications)</li> <li>Existing Storage Paths: Skipped (maintains your folder structure)</li> <li>Existing Custom Fields: Skipped (retains your field definitions)</li> </ul> <p>Only NEW resources are created.</p>"},{"location":"user-guide/taxonomy-updates/#manual-review-for-retention-changes","title":"Manual Review for Retention Changes","text":"<p>Retention rule changes require explicit approval because they affect:</p> <ul> <li>Compliance: Must align with current regulations</li> <li>Deletion Policies: May extend or shorten retention periods</li> <li>Existing Documents: Could change when documents can be deleted</li> </ul> <p>The system forces you to review and approve these changes separately.</p>"},{"location":"user-guide/taxonomy-updates/#common-scenarios","title":"Common Scenarios","text":""},{"location":"user-guide/taxonomy-updates/#scenario-1-regular-quarterly-update","title":"Scenario 1: Regular Quarterly Update","text":"<p>Goal: Stay current with taxonomy improvements</p> <pre><code># 1. Check what's new\nbun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates\n\n# 2. Review output (no retention changes)\n\n# 3. Apply updates\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies\n\n# 4. Verify version\nbun run src/skills/RecordsManager/Tools/RecordManager.ts diff-taxonomies\n</code></pre> <p>Frequency: Quarterly or after skill version updates</p>"},{"location":"user-guide/taxonomy-updates/#scenario-2-regulatory-update-eg-ato-changes","title":"Scenario 2: Regulatory Update (e.g., ATO Changes)","text":"<p>Goal: Update retention rules to comply with new ATO guidance</p> <pre><code># 1. Check for updates\nbun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates\n\n# 2. Review retention changes\n#    \u26a0\ufe0f  Tax Return: 5 years \u2192 7 years (ATO Section 254)\n\n# 3. Verify against official ATO website\n#    \u2705 Confirmed: https://www.ato.gov.au/general/keeping-records/\n\n# 4. Apply with explicit approval\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --approve-retention-changes\n\n# 5. Update deletion review processes\n#    \u2022 Extend deletion review for Tax Returns to 7 years\n#    \u2022 Update workflow documentation\n</code></pre> <p>Frequency: As needed when regulations change</p>"},{"location":"user-guide/taxonomy-updates/#scenario-3-after-skill-version-upgrade","title":"Scenario 3: After Skill Version Upgrade","text":"<p>Goal: Get new features from skill update</p> <pre><code># 1. Pull latest skill version\ngit pull origin main\n\n# 2. Check taxonomy changes\nbun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates\n\n# 3. Review new entity types, document types, tags\n\n# 4. Apply updates\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies\n\n# 5. Test new features\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload test-pet-vaccine.pdf --domain household\n</code></pre> <p>Frequency: After each skill version update</p>"},{"location":"user-guide/taxonomy-updates/#scenario-4-no-changes-available","title":"Scenario 4: No Changes Available","text":"<p>Goal: Verify you're up to date</p> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates\n\n# Output:\n# \u2705 No updates available - taxonomies are up to date\n</code></pre> <p>Frequency: Anytime you want to verify currency</p>"},{"location":"user-guide/taxonomy-updates/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/taxonomy-updates/#error-manual-review-required-for-retention-changes","title":"Error: \"Manual review required for retention changes\"","text":"<p>Cause: Retention rules changed but <code>--approve-retention-changes</code> flag not provided</p> <p>Solution:</p> <pre><code># Review the changes first\nbun run src/skills/RecordsManager/Tools/RecordManager.ts check-updates\n\n# After verifying compliance, approve\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies --approve-retention-changes\n</code></pre>"},{"location":"user-guide/taxonomy-updates/#error-update-failed-and-was-rolled-back","title":"Error: \"Update failed and was rolled back\"","text":"<p>Cause: API error during update (network, permissions, etc.)</p> <p>Solution:</p> <ol> <li>Check paperless-ngx is running and accessible</li> <li>Verify API token has write permissions</li> <li>Check network connectivity</li> <li>Retry the update</li> </ol> <pre><code>bun run src/skills/RecordsManager/Tools/RecordManager.ts status  # Verify connection\nbun run src/skills/RecordsManager/Tools/RecordManager.ts sync-taxonomies  # Retry\n</code></pre>"},{"location":"user-guide/taxonomy-updates/#error-no-taxonomy-metadata-available","title":"Error: \"No taxonomy metadata available\"","text":"<p>Cause: taxonomies.yaml file missing metadata section</p> <p>Solution: Ensure you're running the latest version of the skill with metadata support.</p>"},{"location":"user-guide/taxonomy-updates/#best-practices","title":"Best Practices","text":"<ol> <li>Check Before Applying: Always run <code>check-updates</code> first to see what will change</li> <li>Read Retention Changes: Never blindly approve retention changes - verify against official sources</li> <li>Quarterly Reviews: Schedule quarterly taxonomy update checks</li> <li>Version Tracking: Keep a log of when you update and what version you're on</li> <li>Test After Updates: Verify new tags/document types work as expected</li> <li>Backup First: Consider backing up your paperless-ngx database before major updates</li> </ol>"},{"location":"user-guide/taxonomy-updates/#related-documentation","title":"Related Documentation","text":"<ul> <li>CLI Reference - Complete command syntax</li> <li>Extending Taxonomies - Custom taxonomy development</li> <li>Retention Management - Understanding retention policies</li> <li>Workflows - Taxonomy update workflow integration</li> </ul>"},{"location":"user-guide/taxonomy-updates/#need-help","title":"Need Help?","text":"<ul> <li>Compliance Questions: Consult your tax advisor or legal counsel</li> <li>Technical Issues: Check Troubleshooting</li> <li>Feature Requests: Open an issue on GitHub</li> <li>Regulatory Updates: Monitor official government websites (ATO, IRS, HMRC)</li> </ul>"},{"location":"user-guide/trusts/","title":"Trust Document Management","text":"<p>Trust structures require specialized document management to maintain ATO compliance and ensure proper governance. Records Manager provides expertise for Unit Trusts, Discretionary Trusts, and Family Trusts.</p>"},{"location":"user-guide/trusts/#trust-document-relationships-er-diagram","title":"Trust Document Relationships ER Diagram","text":"<pre><code>erDiagram\n    Trust {\n        string name PK \"Trust name\"\n        string type \"unit|discretionary|family\"\n        string trustee \"Primary trustee\"\n        string appointor \"Appointor name\"\n        string abn \"Trust ABN\"\n        string tfn \"Trust TFN\"\n        date creation_date \"Trust setup date\"\n        date fte_date \"Family Trust Election date\"\n    }\n\n    TrustDeed {\n        int id PK \"Document ID\"\n        string title \"Trust Deed title\"\n        date execution_date \"Execution date\"\n        date retention_until \"Retention end date\"\n        string document_type \"Trust Deed\"\n    }\n\n    FamilyTrustElection {\n        int id PK \"Document ID\"\n        string fte_number \"FTE reference\"\n        date fte_lodgment_date \"FTE lodgment date\"\n        date retention_until \"5 years from FTE date\"\n        string document_type \"Family Trust Election\"\n    }\n\n    TrusteeAppointment {\n        int id PK \"Document ID\"\n        string appointee \"Appointed trustee\"\n        date appointment_date \"Appointment date\"\n        date retention_until \"15 years from appointment\"\n        string document_type \"Trustee Appointment\"\n    }\n\n    BeneficiaryDeclaration {\n        int id PK \"Document ID\"\n        string beneficiary_name \"Beneficiary name\"\n        string relationship \"Relationship to trust\"\n        date declaration_date \"Declaration date\"\n        date retention_until \"7 years\"\n        string document_type \"Beneficiary Declaration\"\n    }\n\n    TrusteeResolution {\n        int id PK \"Document ID\"\n        string resolution_type \"pre-eofy|other\"\n        date resolution_date \"Resolution date\"\n        string fiscal_year \"Financial year\"\n        date retention_until \"7 years\"\n        string document_type \"Trustee Resolution\"\n    }\n\n    DistributionMinutes {\n        int id PK \"Document ID\"\n        string fiscal_year \"Financial year\"\n        date meeting_date \"Meeting date\"\n        string distributions_summary \"Summary of distributions\"\n        date retention_until \"7 years\"\n        string document_type \"Distribution Minutes\"\n    }\n\n    FinancialStatement {\n        int id PK \"Document ID\"\n        string fiscal_year \"Financial year\"\n        date preparation_date \"Statement preparation date\"\n        string auditor_name \"Auditor name (if applicable)\"\n        date retention_until \"7 years\"\n        string document_type \"Financial Statement\"\n    }\n\n    TaxReturn {\n        int id PK \"Document ID\"\n        string fiscal_year \"Financial year\"\n        date lodgment_date \"Lodgment date\"\n        string tax_agent \"Tax agent name\"\n        date retention_until \"7 years\"\n        string document_type \"Tax Return\"\n    }\n\n    ABNRegistration {\n        int id PK \"Document ID\"\n        string abn_number \"ABN number\"\n        date registration_date \"Registration date\"\n        date expiry_date \"Registration expiry\"\n        date retention_until \"7 years\"\n        string document_type \"ABN Registration\"\n    }\n\n    TFNRegistration {\n        int id PK \"Document ID\"\n        string tfn_number \"TFN number\"\n        date registration_date \"Registration date\"\n        date retention_until \"7 years\"\n        string document_type \"TFN Registration\"\n    }\n\n    UnitRegistry {\n        int id PK \"Document ID\"\n        date registry_date \"Registry establishment date\"\n        string total_units \"Total units issued\"\n        date retention_until \"15 years\"\n        string document_type \"Unit Registry\"\n    }\n\n    Variation {\n        int id PK \"Document ID\"\n        string variation_type \"deed|beneficiary|trustee\"\n        date effective_date \"Effective date\"\n        string description \"Variation description\"\n        date retention_until \"15 years\"\n        string document_type \"Trust Deed Variation\"\n    }\n\n    %% Trust relationships\n    Trust ||--o{ TrustDeed : \"contains\"\n    Trust ||--o{ FamilyTrustElection : \"has (Family Trust only)\"\n    Trust ||--o{ TrusteeAppointment : \"requires\"\n    Trust ||--o{ BeneficiaryDeclaration : \"requires\"\n    Trust ||--o{ TrusteeResolution : \"generates\"\n    Trust ||--o{ DistributionMinutes : \"generates\"\n    Trust ||--o{ FinancialStatement : \"generates\"\n    Trust ||--o{ TaxReturn : \"generates\"\n    Trust ||--o{ ABNRegistration : \"requires\"\n    Trust ||--o{ TFNRegistration : \"requires\"\n    Trust ||--o{ UnitRegistry : \"has (Unit Trust only)\"\n    Trust ||--o{ Variation : \"may have\"\n\n    %% Special relationships\n    FamilyTrustElection }o--|| Trust : \"part of\"\n    TrusteeResolution }o--|| Trust : \"documents\"\n    DistributionMinutes }o--|| Trust : \"documents\"\n\n    %% Financial relationship\n    Trust ||--o{ FinancialStatement : \"produces\"\n    Trust ||--o{ TaxReturn : \"produces\"\n\n    %% Unit Trust specific\n    UnitRegistry }o--|| Trust : \"maintains\"\n\n    %% Time-based relationships\n    FamilyTrustEletion ||--o{ RetentionMonitor : \"monitors\"\n    TrusteeResolution ||--o{ RetentionMonitor : \"tracks\"\n    DistributionMinutes ||--o{ RetentionMonitor : \"tracks\"\n\n    %% Compliance relationships\n    BeneficiaryDeclaration ||--o{ ComplianceGuardian : \"validates\"\n    ABNRegistration ||--o{ ComplianceGuardian : \"validates\"\n    TFNRegistration ||--o{ ComplianceGuardian : \"validates\"\n\n    %% Governance relationships\n    TrusteeAppointment ||--o{ ComplianceGuardian : \"validates\"\n    TrustDeed ||--o{ ArchiveArchitect : \"preserves\"\n    FamilyTrustElection ||--o{ ArchiveArchitect : \"preserves\"\n\n    %% Retention rules\n    TrustDeed ||--o{ RetentionRules : \"15 years (permanent)\"\n    FamilyTrustElection ||--o{ RetentionRules : \"5 years from FTE date\"\n    TrusteeAppointment ||--o{ RetentionRules : \"15 years (permanent)\"\n    BeneficiaryDeclaration ||--o{ RetentionRules : \"7 years\"\n    TrusteeResolution ||--o{ RetentionRules : \"7 years\"\n    DistributionMinutes ||--o{ RetentionRules : \"7 years\"\n    FinancialStatement ||--o{ RetentionRules : \"7 years\"\n    TaxReturn ||--o{ RetentionRules : \"7 years\"\n    ABNRegistration ||--o{ RetentionRules : \"7 years\"\n    TFNRegistration ||--o{ RetentionRules : \"7 years\"\n    UnitRegistry ||--o{ RetentionRules : \"15 years (permanent)\"\n    Variation ||--o{ RetentionRules : \"15 years (permanent)\"</code></pre>  Use mouse to pan and zoom"},{"location":"user-guide/trusts/#trust-types","title":"Trust Types","text":"<p>Records Manager supports three Australian trust types:</p> Trust Type Purpose Key Documents Unit Trust Fixed entitlement investing Unit registry, distribution statements Discretionary Trust Flexible family wealth distribution Trustee resolutions, distribution minutes Family Trust Tax flow-through with FTE Family Trust Election, pre-EOFY resolutions"},{"location":"user-guide/trusts/#family-trust-election-fte","title":"Family Trust Election (FTE)","text":""},{"location":"user-guide/trusts/#what-is-an-fte","title":"What is an FTE?","text":"<p>The Family Trust Election (FTE) is a critical ATO election that allows a trust to be treated as a \"family group\" for tax purposes. It enables tax flow-through to family beneficiaries.</p>"},{"location":"user-guide/trusts/#fte-retention-rule","title":"FTE Retention Rule","text":"<p>CRITICAL: FTE retention is 5 years from the FTE lodgment date, NOT EOFY.</p> <p>This is a special ATO rule that differs from normal document retention:</p> <pre><code>Normal Document: 7 years from EOFY (June 30)\nFTE Document: 5 years from FTE lodgment date (any date)\n</code></pre>"},{"location":"user-guide/trusts/#example-fte-retention-calculation","title":"Example FTE Retention Calculation","text":"<pre><code>FTE Lodgment Date: February 1, 2020\nRetention Period: 5 years\nRetain Until: February 1, 2025\n\nDO NOT DELETE before February 1, 2025\nATO Reference: TD 2007/D23, Section 272-80 ITAA 1936\n</code></pre>"},{"location":"user-guide/trusts/#checking-fte-retention","title":"Checking FTE Retention","text":"<pre><code>User: \"Check FTE retention for Smith Family Trust\"\nAI: \"Family Trust Election - Smith Family Trust:\"\n    \"  FTE Date: 2020-02-01\"\n    \"  Retention Period: 5 years from FTE date\"\n    \"  Retain Until: 2025-02-01\"\n    \"  \"\n    \"  \u26a0\ufe0f  RETENTION STATUS: Expires in 12 days\"\n    \"  \"\n    \"  After 2025-02-01, you may:\"\n    \"    - Archive the document (recommended)\"\n    \"    - Retain permanently (trust records)\"\n    \"  \"\n    \"  Current Date: 2025-01-20\"\n    \"  Days Until Safe: 12\"\n</code></pre>"},{"location":"user-guide/trusts/#trust-document-checklists","title":"Trust Document Checklists","text":""},{"location":"user-guide/trusts/#unit-trust-documents","title":"Unit Trust Documents","text":"<p>Required Documents: * Trust Deed</p> <ul> <li> <p>Unit Registry</p> </li> <li> <p>Trustee Appointment</p> </li> <li> <p>ABN Registration</p> </li> <li> <p>TFN Registration</p> </li> <li> <p>Annual Financial Statements</p> </li> <li> <p>Unit Distribution Statement</p> </li> <li> <p>Tax Return</p> </li> </ul> <p>Optional Documents: * Unit Application Form</p> <ul> <li> <p>Unit Transfer Documentation</p> </li> <li> <p>Unitholder Agreement</p> </li> <li> <p>Trustee Resolution</p> </li> </ul> <p>Retention Periods: * Trust Deed: 15 years (permanent)</p> <ul> <li> <p>Unit Registry: 15 years (permanent)</p> </li> <li> <p>Distribution Statements: 7 years</p> </li> <li> <p>Tax Returns: 7 years</p> </li> </ul>"},{"location":"user-guide/trusts/#discretionary-trust-documents","title":"Discretionary Trust Documents","text":"<p>Required Documents: * Trust Deed</p> <ul> <li> <p>Trustee Appointment</p> </li> <li> <p>Beneficiary Declaration</p> </li> <li> <p>ABN Registration</p> </li> <li> <p>TFN Registration</p> </li> <li> <p>Annual Financial Statements</p> </li> <li> <p>Trustee Resolution (Pre-EOFY) - Critical!</p> </li> <li> <p>Distribution Minutes - Critical!</p> </li> <li> <p>Tax Return</p> </li> </ul> <p>Optional Documents: * Variation to Trust Deed</p> <ul> <li> <p>Beneficiary Consent Forms</p> </li> <li> <p>Trustee Change Notification</p> </li> <li> <p>Asset Register</p> </li> </ul> <p>Retention Periods: * Trust Deed: 15 years (permanent)</p> <ul> <li> <p>Trustee Appointments: 15 years (permanent)</p> </li> <li> <p>Pre-EOFY Resolutions: 7 years</p> </li> <li> <p>Distribution Minutes: 7 years</p> </li> </ul>"},{"location":"user-guide/trusts/#family-trust-documents","title":"Family Trust Documents","text":"<p>Required Documents: * Trust Deed</p> <ul> <li> <p>Family Trust Election (FTE) - Critical!</p> </li> <li> <p>Trustee Appointment</p> </li> <li> <p>Beneficiary Declaration</p> </li> <li> <p>ABN Registration</p> </li> <li> <p>TFN Registration</p> </li> <li> <p>Annual Financial Statements</p> </li> <li> <p>Trustee Resolution (Pre-EOFY) - Critical!</p> </li> <li> <p>Distribution Minutes - Critical!</p> </li> <li> <p>Tax Return</p> </li> </ul> <p>Optional Documents: * Variation to Trust Deed</p> <ul> <li> <p>Beneficiary Consent Forms</p> </li> <li> <p>Interposed Entity Election</p> </li> <li> <p>Trustee Change Notification</p> </li> <li> <p>Asset Register</p> </li> </ul> <p>Retention Periods: * Trust Deed: 15 years (permanent)</p> <ul> <li> <p>FTE: 5 years from FTE date - Special rule!</p> </li> <li> <p>Pre-EOFY Resolutions: 7 years</p> </li> <li> <p>Distribution Minutes: 7 years</p> </li> </ul>"},{"location":"user-guide/trusts/#trust-validation-workflow","title":"Trust Validation Workflow","text":""},{"location":"user-guide/trusts/#running-trust-validation","title":"Running Trust Validation","text":"<pre><code>User: \"Validate Smith Family Trust documents\"\nAI: \"Smith Family Trust - Document Validation\"\n    \"\"\n    \"Required Documents: 10\"\n    \"Found: 8/10 (80% complete)\"\n    \"\"\n    \"\u2705 Complete Documents:\"\n    \"  1. Trust Deed (retention: 15 years - permanent)\"\n    \"  2. Family Trust Election (retention until 2025-02-01)\"\n    \"  3. Trustee Appointment (retention: 15 years - permanent)\"\n    \"  4. ABN Registration (retention: 7 years)\"\n    \"  5. Annual Financial Statements 2023 (retention: 7 years)\"\n    \"  6. Tax Return 2023 (retention: 7 years)\"\n    \"  7. Trustee Resolution 2023 (retention: 7 years)\"\n    \"  8. Distribution Minutes 2023 (retention: 7 years)\"\n    \"\"\n    \"\u26a0\ufe0f  Missing Documents:\"\n    \"  1. Beneficiary Declaration\"\n    \"  2. TFN Registration\"\n    \"\"\n    \"\u26a0\ufe0f  Warnings:\"\n    \"  - Pre-EOFY Trustee Resolution not created for 2024\"\n    \"  - Distribution Minutes not documented for 2024\"\n    \"  - FTE retention expires 2025-02-01 (12 days)\"\n    \"\"\n    \"Action Items:\"\n    \"  1. Upload Beneficiary Declaration\"\n    \"  2. Upload TFN Registration\"\n    \"  3. Create Pre-EOFY Trustee Resolution before June 30\"\n    \"  4. Document 2024 distributions in minutes\"\n    \"  5. Plan FTE archival after 2025-02-01\"\n</code></pre>"},{"location":"user-guide/trusts/#pre-eofy-requirements","title":"Pre-EOFY Requirements","text":""},{"location":"user-guide/trusts/#why-pre-eofy-resolutions-matter","title":"Why Pre-EOFY Resolutions Matter","text":"<p>Trustee resolutions made before June 30 document the trustee's intention to distribute income for the financial year. These are critical for:</p> <ul> <li>ATO Compliance: Evidence of distribution decisions</li> <li>Section 100A: Protects against reallocating distributions</li> <li>Beneficiary Entitlements: Documents who receives what</li> </ul>"},{"location":"user-guide/trusts/#creating-pre-eofy-resolutions","title":"Creating Pre-EOFY Resolutions","text":"<pre><code>User: \"Create pre-EOFY resolution for Smith Family Trust\"\nAI: \"Generating Pre-EOFY Trustee Resolution Template\"\n    \"\"\n    \"SMITH FAMILY TRUST\"\n    \"TRUSTEE RESOLUTION - 2024 FINANCIAL YEAR\"\n    \"\"\n    \"Date: [Date before June 30, 2024]\"\n    \"Trustee: [Trustee Name]\"\n    \"\"\n    \"RESOLVED THAT:\"\n    \"\"\n    \"1. The trustee intends to distribute the trust's income for the\"\n    \"   2023-2024 financial year as follows:\"\n    \"\"\n    \"   Beneficiary              | Income      | Capital Gains\"\n    \"   ------------------------- | ----------- | -------------\"\n    \"   [Beneficiary 1]          | $XX,XXX     | $X,XXX\"\n    \"   [Beneficiary 2]          | $XX,XXX     | $X,XXX\"\n    \"   [Beneficiary 3]          | $XX,XXX     | $X,XXX\"\n    \"   TOTAL                    | $XXX,XXX    | $XX,XXX\"\n    \"\"\n    \"2. This resolution is made before June 30, 2024 to document\"\n    \"   the trustee's intention for income distribution.\"\n    \"\"\n    \"3. The trustee may make final distributions after year-end\"\n    \"   based on actual trust income.\"\n    \"\"\n    \"SIGNED: _______________________\"\n    \"[Trustee Name]\"\n    \"Date: _________________________\"\n    \"\"\n    \"WITNESS: _____________________\"\n    \"[Witness Name]\"\n    \"Date: _________________________\"\n    \"\"\n    \"Upload signed document to trust records.\"\n</code></pre>"},{"location":"user-guide/trusts/#distribution-minutes","title":"Distribution Minutes","text":"<p>After EOFY, document actual distributions:</p> <pre><code>User: \"Create distribution minutes for Smith Family Trust 2024\"\nAI: \"Generating Distribution Minutes Template\"\n    \"\"\n    \"SMITH FAMILY TRUST\"\n    \"MINUTES OF TRUSTEE - DISTRIBUTION 2024\"\n    \"\"\n    \"Meeting Date: [Date after June 30, 2024]\"\n    \"Trustee: [Trustee Name]\"\n    \"\"\n    \"DISTRIBUTION CONFIRMED:\"\n    \"\"\n    \"For the 2023-2024 financial year, the following distributions\"\n    \"are confirmed:\"\n    \"\"\n    \"   Beneficiary              | Income      | Capital Gains | Total\"\n    \"   ------------------------- | ----------- | ------------- | -----\"\n    \"   [Beneficiary 1]          | $XX,XXX     | $X,XXX        | $XX,XXX\"\n    \"   [Beneficiary 2]          | $XX,XXX     | $X,XXX        | $XX,XXX\"\n    \"   [Beneficiary 3]          | $XX,XXX     | $X,XXX        | $XX,XXX\"\n    \"   TOTAL                    | $XXX,XXX    | $XX,XXX       | $XXX,XXX\"\n    \"\"\n    \"These distributions align with the Pre-EOFY Trustee Resolution\"\n    \"dated [Date].\"\n    \"\"\n    \"SIGNED: _______________________\"\n    \"[Trustee Name]\"\n    \"Date: _________________________\"\n</code></pre>"},{"location":"user-guide/trusts/#trust-document-tagging","title":"Trust Document Tagging","text":""},{"location":"user-guide/trusts/#recommended-tag-structure","title":"Recommended Tag Structure","text":"<pre><code># Family Trust Tags\nfamily-trust                    # Domain\nfte                            # Family Trust Election\nfamily-trust-election           # FTE synonym\nbeneficiary                    # Beneficiary documents\ntrustee-resolution             # Trustee decisions\npre-eofy                       # Pre-EOFY resolutions\ndistribution-minutes           # Distribution records\ngovernance                     # Governance category\nfinancial                      # Financial category\nregulatory                     # ATO/ABN/TFN\ncritical                       # Important documents\n</code></pre>"},{"location":"user-guide/trusts/#unit-trust-tags","title":"Unit Trust Tags","text":"<pre><code>unit-trust                     # Domain\nunit-registry                  # Unit ownership\ndistribution                   # Income distributions\nunitholder                     # Unitholder documents\nunit-transfer                  # Unit transfers\ncapital-account                # Capital accounts\ngovernance                     # Governance\nfinancial                      # Financial\n</code></pre>"},{"location":"user-guide/trusts/#discretionary-trust-tags","title":"Discretionary Trust Tags","text":"<pre><code>discretionary-trust            # Domain\nbeneficiary                    # Beneficiary documents\ndistribution                   # Income distributions\ntrustee-resolution             # Trustee decisions\npre-eofy                       # Pre-EOFY resolutions\nstreaming                      # CGT streaming\ngovernance                     # Governance\n</code></pre>"},{"location":"user-guide/trusts/#trust-setup-workflow","title":"Trust Setup Workflow","text":""},{"location":"user-guide/trusts/#creating-a-new-trust-entity","title":"Creating a New Trust Entity","text":"<pre><code>User: \"Add a family trust for Smith family\"\nAI: \"Creating Smith Family Trust entity...\"\n    \"\"\n    \"I'll need some information:\"\n    \"\"\n    \"1. Trust Name: Smith Family Trust\"\n    \"2. Trustee: [Individual or Corporate Trustee]\"\n    \"3. Appointor: [Who controls the trust]\"\n    \"4. ABN: [Trust ABN]\"\n    \"5. TFN: [Trust TFN]\"\n    \"6. Family Trust Election Date: [FTE lodgment date]\"\n    \"\"\n    [After gathering information:]\n    \"\"\n    \"\u2705 Entity created: smith-family-trust-2024\"\n    \"\"\n    \"Created in paperless-ngx:\"\n    \"  - Entity tag: family-trust:smith-family-trust\"\n    \"  - Storage path: /Trusts/Family/Smith Family Trust\"\n    \"  - Custom fields: FTE date, ABN, TFN\"\n    \"\"\n    \"Next steps:\"\n    \"  1. Upload Trust Deed\"\n    \"  2. Upload Family Trust Election document\"\n    \"  3. Upload Trustee Appointment\"\n    \"  4. Upload Beneficiary Declaration\"\n    \"  5. Upload ABN/TFN registrations\"\n    \"\"\n    \"Run trust validation after uploading all documents.\"\n</code></pre>"},{"location":"user-guide/trusts/#trust-eofy-checklist","title":"Trust EOFY Checklist","text":""},{"location":"user-guide/trusts/#before-june-30-eofy","title":"Before June 30 (EOFY)","text":"<ul> <li> <p> Create Pre-EOFY Trustee Resolution</p> </li> <li> <p> Document intended beneficiary distributions</p> </li> <li> <p> Confirm all income documents uploaded</p> </li> <li> <p> Verify capital gains calculations</p> </li> <li> <p> Review trust deed for any changes</p> </li> </ul>"},{"location":"user-guide/trusts/#after-july-1-post-eofy","title":"After July 1 (Post-EOFY)","text":"<ul> <li> <p> Prepare Annual Financial Statements</p> </li> <li> <p> Create Distribution Minutes</p> </li> <li> <p> Document actual distributions made</p> </li> <li> <p> Prepare Tax Return</p> </li> <li> <p> Upload all documents to trust records</p> </li> <li> <p> Run trust validation</p> </li> </ul>"},{"location":"user-guide/trusts/#ongoing","title":"Ongoing","text":"<ul> <li> <p> Monitor FTE retention (check quarterly)</p> </li> <li> <p> Upload trust correspondence as received</p> </li> <li> <p> Document any trust deed variations</p> </li> <li> <p> Record trustee changes</p> </li> </ul>"},{"location":"user-guide/trusts/#fte-compliance-best-practices","title":"FTE Compliance Best Practices","text":""},{"location":"user-guide/trusts/#1-record-fte-date-accurately","title":"1. Record FTE Date Accurately","text":"<p>Always record the FTE lodgment date (not EOFY):</p> <pre><code>FTE Lodgment: February 1, 2020 (actual lodgment)\nNOT: June 30, 2020 (EOFY)\n</code></pre>"},{"location":"user-guide/trusts/#2-set-retention-reminders","title":"2. Set Retention Reminders","text":"<p>Set reminders 30 days before FTE expiration:</p> <pre><code>FTE Date: 2020-02-01\nRetention Until: 2025-02-01\nReminder: 2025-01-02 (30 days before)\n</code></pre>"},{"location":"user-guide/trusts/#3-never-delete-fte-early","title":"3. Never Delete FTE Early","text":"<p>The FTE is the foundation of the trust's tax structure:</p> <p>``\u26a0\ufe0f  DO NOT DELETE before 2025-02-01 Deleting FTE early risks: *   Loss of family group tax status *   ATO audit issues *   Trust structure invalidation <pre><code>### 4. Archive After Retention\n\nAfter 5 years, archive rather than delete:\n</code></pre> After 2025-02-01: *   Move FTE to archive storage *   Tag as 'archived' *   Keep for trust records (permanent) <pre><code>## Trust Document CLI Commands\n\n```bash\n# Validate trust documents\nbun run RecordManager.ts trust validate \\\n  --trust-type family-trust \\\n  --entity \"smith-family-trust\"\n\n# Check FTE retention\nbun run RecordManager.ts trust fte-check \\\n  --fte-date \"2020-02-01\"\n\n# Create pre-EOFY resolution template\nbun run RecordManager.ts trust resolution-template \\\n  --trust-type family-trust \\\n  --year 2024\n\n# Create distribution minutes template\nbun run RecordManager.ts trust distribution-template \\\n  --trust-type family-trust \\\n  --year 2024\n</code></pre></p>"},{"location":"user-guide/trusts/#common-trust-scenarios","title":"Common Trust Scenarios","text":""},{"location":"user-guide/trusts/#new-trust-establishment","title":"New Trust Establishment","text":"<pre><code>User: \"I just set up a new family trust. What documents do I need?\"\nAI: \"New Family Trust Document Checklist:\"\n    \"\"\n    \"Essential Documents (upload immediately):\"\n    \"  1. Trust Deed (15-year retention - permanent)\"\n    \"  2. Family Trust Election (5-year from FTE date)\"\n    \"  3. Trustee Appointment (15-year retention)\"\n    \"  4. Beneficiary Declaration (7-year retention)\"\n    \"  5. ABN Registration (7-year retention)\"\n    \"  6. TFN Registration (7-year retention)\"\n    \"\"\n    \"Upload these documents, then run trust validation\"\n    \"to verify completeness.\"\n</code></pre>"},{"location":"user-guide/trusts/#annual-compliance-review","title":"Annual Compliance Review","text":"<pre><code>User: \"Review my trust compliance for EOFY\"\nAI: \"EOFY Trust Compliance Review:\"\n    \"\"\n    \"Required for 2024 EOFY:\"\n    \"  \u2705 Annual Financial Statements (prepare)\"\n    \"  \u26a0\ufe0f  Pre-EOFY Trustee Resolution (create before June 30)\"\n    \"  \u26a0\ufe0f  Distribution Minutes (create after June 30)\"\n    \"  \u2705 Tax Return (lodge by October 31)\"\n    \"\"\n    \"FTE Status:\"\n    \"  \u26a0\ufe0f  FTE expires 2025-02-01 (12 days)\"\n    \"  Action: Plan archival after expiration\"\n    \"\"\n    \"Current Compliance: 75% (3/4 annual documents)\"\n</code></pre>"},{"location":"user-guide/trusts/#trust-transfer-or-sale","title":"Trust Transfer or Sale","text":"<pre><code>User: \"What documents do I need for trust transfer?\"\nAI: \"Trust Transfer Documentation:\"\n    \"\"\n    \"Required Documents:\"\n    \"  \u2705 Trust Deed (current)\"\n    \"  \u2705 Unit Registry (if unit trust)\"\n    \"  \u26a0\ufe0f  Transfer Documentation (prepare)\"\n    \"  \u26a0\ufe0f  Beneficiary Consents (obtain)\"\n    \"  \u2705 Trustee Resolution (documenting transfer)\"\n    \"\"\n    \"Post-Transfer:\"\n    \"  - Update Unit Registry\"\n    \"  - Create new beneficiary declarations\"\n    \"  - Document variation to trust deed (if applicable)\"\n</code></pre>"},{"location":"user-guide/workflows/","title":"Workflows","text":"<p>Workflows are the primary mechanism for interacting with Records Manager. Each workflow handles a specific type of task, from uploading documents to validating trust compliance.</p>"},{"location":"user-guide/workflows/#available-workflows","title":"Available Workflows","text":"<p>Records Manager provides 13 specialized workflows:</p> Workflow Purpose Trigger Upload Add documents with intelligent tagging \"Upload this document\" Search Find documents by tags, content, type \"Search for [query]\" Organize Improve document structure \"Organize my records\" Tag Add or modify tags \"Tag these documents\" Delete Confirmation Required approval for all deletions \"Delete documents\" Retention Check retention requirements \"What can I shred?\" Info Get document details \"Show me document [ID]\" Add Entity Create new entity \"Add a new entity\" Workflow Creator Create automated workflows \"Create a workflow\" Workflow Review Analyze workflow effectiveness \"Review workflow\" Trust Validation Validate trust documents \"Validate trust documents\" FTE Check Check FTE retention \"Check FTE retention\" Status Check Test system connection \"Check status\""},{"location":"user-guide/workflows/#upload-workflow","title":"Upload Workflow","text":"<p>The Upload workflow handles document ingestion with automatic tagging and classification.</p>"},{"location":"user-guide/workflows/#when-to-use","title":"When to Use","text":"<ul> <li>Adding new documents to your records</li> <li>Scanning and storing receipts, invoices, or statements</li> <li>Archiving important documents</li> </ul>"},{"location":"user-guide/workflows/#process","title":"Process","text":"<ol> <li> <p>Provide File: Specify the file path or document to upload</p> </li> <li> <p>Determine Domain: System identifies domain (household/corporate/trust) from context or asks</p> </li> <li> <p>Suggest Tags: TaxonomyExpert analyzes filename and suggests appropriate tags</p> </li> <li> <p>Create Tags: Tags are created in paperless-ngx if they don't exist</p> </li> <li> <p>Upload: Document is uploaded with all metadata</p> </li> <li> <p>Confirm: System returns document ID and applied tags</p> </li> </ol>"},{"location":"user-guide/workflows/#example","title":"Example","text":"<pre><code># CLI usage\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts upload \\\n  /path/to/tax-return-2024.pdf --domain household\n</code></pre>"},{"location":"user-guide/workflows/#natural-language","title":"Natural Language","text":"<pre><code>User: \"Store this medical receipt for tax\"\nAI: \"Analyzing document...\"\n    \"Suggested tags: medical, receipt, tax-deductible, 2024\"\n    \"Uploading to paperless-ngx...\"\n    \"\u2705 Document uploaded as #1234\"\n</code></pre>"},{"location":"user-guide/workflows/#search-workflow","title":"Search Workflow","text":"<p>The Search workflow finds documents matching your criteria.</p>"},{"location":"user-guide/workflows/#when-to-use_1","title":"When to Use","text":"<ul> <li>Locating specific documents</li> <li>Reviewing documents by category or date</li> <li>Preparing for tax time or audits</li> </ul>"},{"location":"user-guide/workflows/#process_1","title":"Process","text":"<ol> <li> <p>Parse Criteria: Extract search terms from your request</p> </li> <li> <p>Build Query: Combine tags, types, dates, and text search</p> </li> <li> <p>Execute Search: Query paperless-ngx API</p> </li> <li> <p>Present Results: Show matches with document details</p> </li> <li> <p>Refine Option: Offer to narrow or expand search</p> </li> </ol>"},{"location":"user-guide/workflows/#example_1","title":"Example","text":"<pre><code># CLI usage\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts search \\\n  --query \"medical\" --tags \"receipt\" --type \"Medical Receipt\"\n</code></pre>"},{"location":"user-guide/workflows/#search-tips","title":"Search Tips","text":"<ul> <li>Use specific terms: \"invoice 2024\" instead of \"recent documents\"</li> <li>Combine filters: tags + date range for precise results</li> <li>Use document types: \"Tax Return\" for official tax documents</li> <li>Search content: paperless-ngx indexes document text</li> </ul>"},{"location":"user-guide/workflows/#organize-workflow","title":"Organize Workflow","text":"<p>The Organize workflow analyzes and improves document structure.</p>"},{"location":"user-guide/workflows/#when-to-use_2","title":"When to Use","text":"<ul> <li>Cleaning up untagged or poorly tagged documents</li> <li>Improving overall document organization</li> <li>Implementing consistent tagging practices</li> </ul>"},{"location":"user-guide/workflows/#process_2","title":"Process","text":"<ol> <li> <p>Scan Documents: Find untagged or sparsely tagged documents</p> </li> <li> <p>Analyze Patterns: TaxonomyExpert suggests improvements</p> </li> <li> <p>Show Suggestions: Display proposed tags and types</p> </li> <li> <p>Get Approval: Ask before applying changes</p> </li> <li> <p>Update Metadata: Apply approved changes in paperless-ngx</p> </li> <li> <p>Report Changes: Summary of modifications made</p> </li> </ol>"},{"location":"user-guide/workflows/#example_2","title":"Example","text":"<pre><code># CLI usage - dry run\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts organize \\\n  --domain household\n\n# CLI usage - apply changes\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts organize \\\n  --domain household --apply\n</code></pre>"},{"location":"user-guide/workflows/#tag-workflow","title":"Tag Workflow","text":"<p>The Tag workflow adds or modifies tags on existing documents.</p>"},{"location":"user-guide/workflows/#when-to-use_3","title":"When to Use","text":"<ul> <li>Adding category tags to multiple documents</li> <li>Implementing new tagging scheme</li> <li>Correcting incorrect tags</li> </ul>"},{"location":"user-guide/workflows/#process_3","title":"Process","text":"<ol> <li> <p>Identify Documents: Get document IDs to tag</p> </li> <li> <p>Verify Existence: Confirm documents exist in paperless-ngx</p> </li> <li> <p>Create Tags: Create new tags if needed</p> </li> <li> <p>Apply Tags: Update document metadata</p> </li> <li> <p>Confirm Changes: Show what was tagged</p> </li> </ol>"},{"location":"user-guide/workflows/#example_3","title":"Example","text":"<pre><code># CLI usage\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts tag \\\n  1234,5678 \"tax-deductible\" \"2024\"\n</code></pre>"},{"location":"user-guide/workflows/#delete-confirmation-workflow","title":"Delete Confirmation Workflow","text":"<p>CRITICAL SAFETY FEATURE: This is the ONLY workflow that can delete documents.</p>"},{"location":"user-guide/workflows/#deletion-safety-sequence-diagram","title":"Deletion Safety Sequence Diagram","text":"<pre><code>sequenceDiagram\n    participant User as User\n    participant RMC as RecordManager CLI\n    participant DC as DeleteConfirmation Workflow\n    participant DA as Deletion Auditor Agent\n    participant CG as Compliance Guardian Agent\n    participant RM as Retention Monitor Agent\n    participant RK as Records Keeper Agent\n    participant PC as PaperlessClient\n    participant PNX as paperless-ngx API\n\n    User-&gt;&gt;+RMC: Delete command (e.g., \"delete 2018 bank statements\")\n    RMC-&gt;&gt;RMC: Parse deletion request\n    RMC-&gt;&gt;+DC: Trigger DeleteConfirmation workflow\n\n    DC-&gt;&gt;DC: Display warning message\n    DC-&gt;&gt;DC: List all documents for deletion\n    DC--&gt;&gt;-User: Show deletion preview with exact details\n\n    User-&gt;&gt;+DC: Request proceed with deletion\n    DC-&gt;&gt;+DA: Initiate Deletion Auditor review\n\n    %% Deletion Auditor Safety Review\n    DA-&gt;&gt;DA: Stress-test deletion request\n    DA-&gt;&gt;DA: Check for catastrophic loss scenarios\n    DA-&gt;&gt;+CG: Request compliance validation\n    CG-&gt;&gt;CG: Verify retention periods\n    CG-&gt;&gt;CG: Check regulatory requirements\n    CG--&gt;&gt;-DA: Compliance status\n\n    DA-&gt;&gt;+RM: Request retention validation\n    RM-&gt;&gt;RM: Check retention periods against deletion list\n    RM--&gt;&gt;-DA: Retention validation results\n\n    DA-&gt;&gt;+RK: Request document impact assessment\n    RK-&gt;&gt;RK: Analyze document relationships\n    RK-&gt;&gt;RK: Assess business impact\n    RK--&gt;&gt;-DA: Impact assessment\n\n    DA-&gt;&gt;DA: Compile safety assessment report\n    DA-&gt;&gt;DA: Generate explicit warnings\n    DA-&gt;&gt;DA: Create exact confirmation requirement\n    DA--&gt;&gt;-DC: Safety review complete\n\n    DC-&gt;&gt;DC: Present safety warnings and requirements\n    DC--&gt;&gt;-User: Show exact confirmation phrase required\n\n    alt User provides exact confirmation\n        User-&gt;&gt;+DC: Type exact phrase: \"I understand this cannot be undone and I want to proceed with deleting N documents\"\n        DC-&gt;&gt;DC: Verify exact match\n        DC-&gt;&gt;+PC: Execute deletion via PaperlessClient\n        PC-&gt;&gt;+PNX: DELETE /api/documents/{ids}/\n        PNX--&gt;&gt;-PC: Deletion confirmation\n        PC--&gt;&gt;-DC: Deletion successful\n        DC-&gt;&gt;DC: Log deletion to audit trail\n        DC--&gt;&gt;-User: Confirm deletion with summary\n    else User does not provide exact confirmation\n        DC-&gt;&gt;DC: Rejection logged\n        DC--&gt;&gt;-User: Deletion cancelled\n    end\n\n    %% Post-deletion\n    DC-&gt;&gt;DC: Update document indexes\n    DC-&gt;&gt;DC: Trigger retention monitoring updates\n    DC-&gt;&gt;DC: Notify other agents of changes\n    DC--&gt;&gt;-RM: Workflow complete\n    RM--&gt;&gt;-User: Final confirmation</code></pre>  Use mouse to pan and zoom  <p>Warning</p> <p>DELETION DISCLAIMER</p> <p>While the Records Manager Skill and the Deletion Auditor agent provide safety checks and retention guidance, you are ultimately responsible for verifying deletions and understanding retention requirements before deleting documents.</p> <p>The system provides recommendations based on general taxonomies and common retention periods, but these may not apply to your specific situation. You should:</p> <ul> <li>Verify retention periods apply to your jurisdiction and use case</li> <li>Consult with legal or tax professionals for compliance-critical documents</li> <li>Understand that deletion is permanent - once deleted, documents cannot be recovered</li> <li>Consider maintaining backups of important documents, even after retention expires</li> <li> <p>Review audit trails regularly to track deletion decisions</p> <p>The Records Manager Skill and its agents provide tools to assist with document management, but compliance is your responsibility.</p> </li> </ul>"},{"location":"user-guide/workflows/#when-to-use_4","title":"When to Use","text":"<ul> <li>Removing documents past retention period</li> <li>Cleaning up duplicate documents</li> <li>Purging obsolete records</li> </ul>"},{"location":"user-guide/workflows/#mandatory-approval-process","title":"Mandatory Approval Process","text":"<ol> <li> <p>Show Documents: Display all documents that will be deleted (ID, title, date, tags)</p> </li> <li> <p>Check Retention: Warn if any documents are within retention period</p> </li> <li> <p>Explain Consequences: Explicitly state deletion is permanent and irreversible</p> </li> <li> <p>Require Exact Phrase: You must type the exact confirmation phrase</p> </li> <li> <p>Execute Deletion: Only after confirmation, delete documents</p> </li> <li> <p>Log Decision: Record deletion to audit trail</p> </li> </ol>"},{"location":"user-guide/workflows/#safety-features","title":"Safety Features","text":""},{"location":"user-guide/workflows/#deletion-auditor-agent-review","title":"Deletion Auditor Agent Review","text":"<ul> <li> <p>Adversarial Analysis: Agent actively looks for what could go wrong</p> </li> <li> <p>Risk Assessment: Identifies potential business impact and data loss</p> </li> <li> <p>Compliance Check: Validates retention periods and regulatory requirements</p> </li> <li> <p>Relationship Analysis: Ensures dependent documents aren't affected</p> </li> </ul>"},{"location":"user-guide/workflows/#multi-agent-validation","title":"Multi-Agent Validation","text":"<ul> <li> <p>Compliance Guardian: Verifies legal compliance of deletion</p> </li> <li> <p>Retention Monitor: Confirms documents are past retention periods</p> </li> <li> <p>Records Keeper: Assesses impact on document relationships</p> </li> </ul>"},{"location":"user-guide/workflows/#emergency-safeguards","title":"Emergency Safeguards","text":"<ul> <li> <p>Exact Phrase Requirement: Cannot be bypassed or automated</p> </li> <li> <p>Explicit Warnings: Clear statement of permanent consequences</p> </li> <li> <p>Audit Trail: Complete documentation of deletion decision</p> </li> <li> <p>Rollback Capability: System state can be restored from backups</p> </li> </ul>"},{"location":"user-guide/workflows/#mandatory-confirmation-phrase","title":"Mandatory Confirmation Phrase","text":"<pre><code>I understand this cannot be undone and I want to proceed with deleting N documents\n</code></pre> <p>The system will NOT accept: * \"yes\"</p> <ul> <li> <p>\"do it\"</p> </li> <li> <p>\"proceed\"</p> </li> <li> <p>\"delete them\"</p> </li> <li> <p>Any casual confirmation</p> </li> </ul>"},{"location":"user-guide/workflows/#example_4","title":"Example","text":"<pre><code>User: \"Delete my 2018 bank statements\"\nAI: \"Found 12 documents matching criteria:\"\n    \"  #4567: Bank Statement Jan 2018 (tags: financial, bank)\"\n    \"  #4568: Bank Statement Feb 2018 (tags: financial, bank)\"\n    \"  ...\"\n    \"\"\n    \"\u26a0\ufe0f  RETENTION CHECK: These documents are past the 5-year retention period.\"\n    \"\"\n    \"This action CANNOT be undone. Deleted documents are permanently removed.\"\n    \"\"\n    \"To proceed, type exactly:\"\n    \"  I understand this cannot be undone and I want to proceed with deleting 12 documents\"\n</code></pre>"},{"location":"user-guide/workflows/#retention-workflow","title":"Retention Workflow","text":"<p>The Retention workflow checks how long documents must be kept.</p>"},{"location":"user-guide/workflows/#when-to-use_5","title":"When to Use","text":"<ul> <li>Determining what documents can be shredded</li> <li>Planning document storage</li> <li>Preparing for end of financial year</li> </ul>"},{"location":"user-guide/workflows/#process_4","title":"Process","text":"<ol> <li> <p>Get Document Type: Identify category or specific documents</p> </li> <li> <p>Lookup Requirements: Query retention rules for country and type</p> </li> <li> <p>Show Retention Period: Display years and legal reason</p> </li> <li> <p>Calculate Date: Show when retention expires</p> </li> <li> <p>Advise Action: Recommend archive, keep, or safe to delete</p> </li> </ol>"},{"location":"user-guide/workflows/#retention-periods-australia","title":"Retention Periods (Australia)","text":"Document Type Retention Legal Basis Tax Returns 7 years ATO Section 254 Invoices/Receipts 7 years ATO substantiation Bank Statements 5 years ATO evidence Insurance Policies 10 years Until expired + claims Trust Deed 15 years Permanent trust record Family Trust Election 5 years From FTE date, not EOFY"},{"location":"user-guide/workflows/#info-workflow","title":"Info Workflow","text":"<p>The Info workflow retrieves detailed metadata for a specific document.</p>"},{"location":"user-guide/workflows/#when-to-use_6","title":"When to Use","text":"<ul> <li>Checking document tags and metadata</li> <li>Verifying document details before operations</li> <li>Reviewing retention status</li> </ul>"},{"location":"user-guide/workflows/#example_5","title":"Example","text":"<pre><code># CLI usage\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts info 1234\n</code></pre>"},{"location":"user-guide/workflows/#add-entity-workflow","title":"Add Entity Workflow","text":"<p>The Add Entity workflow creates new entity structures in paperless-ngx.</p>"},{"location":"user-guide/workflows/#when-to-use_7","title":"When to Use","text":"<ul> <li>Setting up a new trust</li> <li>Adding a business entity</li> <li>Creating project organization</li> </ul>"},{"location":"user-guide/workflows/#entity-types","title":"Entity Types","text":"<ul> <li>Household: Personal records organization</li> <li>Corporate: Business entity with ABN/TFN tracking</li> <li>Unit Trust: Unit trust with unit registry</li> <li>Discretionary Trust: Discretionary trust with beneficiary management</li> <li>Family Trust: Family trust with FTE tracking</li> <li>Project: Project-based document organization</li> </ul>"},{"location":"user-guide/workflows/#example_6","title":"Example","text":"<pre><code>User: \"Add a family trust for Smith family\"\nAI: \"Creating Smith Family Trust entity...\"\n    \"I'll need some information:\"\n    \"  - Trustee name?\"\n    \"  - ABN?\"\n    \"  - Family Trust Election date?\"\n    \"  - TFN (optional)?\"\n    [Gathers information and creates entity]\n    \"\u2705 Entity created: smith-family-trust-2024\"\n</code></pre>"},{"location":"user-guide/workflows/#workflow-creator","title":"Workflow Creator","text":"<p>The Workflow Creator analyzes document patterns and recommends automated workflows.</p>"},{"location":"user-guide/workflows/#when-to-use_8","title":"When to Use","text":"<ul> <li>Automating repetitive document tagging</li> <li>Creating consistent document processing</li> <li>Reducing manual organization effort</li> </ul>"},{"location":"user-guide/workflows/#process_5","title":"Process","text":"<ol> <li> <p>Get Sample Documents: Analyze existing documents</p> </li> <li> <p>Detect Patterns: Identify commonalities in filename, content, tags</p> </li> <li> <p>Recommend Configuration: Suggest match patterns and assignments</p> </li> <li> <p>Show Confidence: Indicate reliability of recommendation</p> </li> <li> <p>Create Workflow: Build workflow in paperless-ngx after approval</p> </li> <li> <p>Test Effectiveness: Report match rate and accuracy</p> </li> </ol>"},{"location":"user-guide/workflows/#workflow-review","title":"Workflow Review","text":"<p>The Workflow Review analyzes existing workflow performance.</p>"},{"location":"user-guide/workflows/#when-to-use_9","title":"When to Use","text":"<ul> <li>Troubleshooting workflow issues</li> <li>Improving match accuracy</li> <li>Optimizing automated processing</li> </ul>"},{"location":"user-guide/workflows/#trust-validation","title":"Trust Validation","text":"<p>The Trust Validation workflow verifies trust document completeness.</p>"},{"location":"user-guide/workflows/#when-to-use_10","title":"When to Use","text":"<ul> <li>End of financial year preparation</li> <li>Trust establishment review</li> <li>Compliance auditing</li> </ul>"},{"location":"user-guide/workflows/#process_6","title":"Process","text":"<ol> <li> <p>Get Trust Type: Identify trust structure</p> </li> <li> <p>Load Checklist: Retrieve required documents for trust type</p> </li> <li> <p>Search Documents: Find existing documents in paperless-ngx</p> </li> <li> <p>Compare Results: Identify missing documents</p> </li> <li> <p>Report Status: Show completeness with warnings</p> </li> </ol>"},{"location":"user-guide/workflows/#example_7","title":"Example","text":"<pre><code>User: \"Validate Smith Family Trust documents\"\nAI: \"Checking Smith Family Trust completeness...\"\n    \"Required documents (10):\"\n    \"  \u2705 Trust Deed\"\n    \"  \u2705 Family Trust Election (FTE) - Retain until 2025-02-01\"\n    \"  \u26a0\ufe0f  Beneficiary Declaration - MISSING\"\n    \"  \u274c TFN Registration - NOT FOUND\"\n    \"\"\n    \"Action items:\"\n    \"  1. Upload Beneficiary Declaration\"\n    \"  2. Upload TFN Registration\"\n    \"  3. Create pre-EOFY trustee resolution (before June 30)\"\n</code></pre>"},{"location":"user-guide/workflows/#fte-check","title":"FTE Check","text":"<p>The FTE Check workflow verifies Family Trust Election retention compliance.</p>"},{"location":"user-guide/workflows/#critical-distinction","title":"Critical Distinction","text":"<p>FTE retention is calculated from the FTE lodgment date, NOT EOFY.</p>"},{"location":"user-guide/workflows/#example_8","title":"Example","text":"<pre><code>User: \"When can I delete my Family Trust Election document?\"\nAI: \"Family Trust Election Date: 2020-02-01\"\n    \"Retention Period: 5 years from FTE date\"\n    \"Retain Until: 2025-02-01\"\n    \"\"\n    \"\u26a0\ufe0f  DO NOT DELETE before 2025-02-01\"\n    \"ATO Requirement: Section 272-80 ITAA 1936\"\n    \"Current Date: 2025-01-20\"\n    \"Days Remaining: 12 days\"\n</code></pre>"},{"location":"user-guide/workflows/#status-check","title":"Status Check","text":"<p>The Status Check workflow verifies paperless-ngx connectivity and system health.</p>"},{"location":"user-guide/workflows/#when-to-use_11","title":"When to Use","text":"<ul> <li>Troubleshooting connection issues</li> <li>Verifying installation</li> <li>Pre-operation system check</li> </ul>"},{"location":"user-guide/workflows/#example_9","title":"Example","text":"<pre><code># CLI usage\nbun run $PAI_DIR/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre>"},{"location":"user-guide/workflows/#cli-reference","title":"CLI Reference","text":"<p>All workflows are accessible via the RecordManager CLI tool:</p> <pre><code># Show help\nbun run src/skills/RecordsManager/Tools/RecordManager.ts --help\n\n# Common commands\nbun run src/skills/RecordsManager/Tools/RecordManager.ts upload &lt;file&gt;\nbun run src/skills/RecordsManager/Tools/RecordManager.ts search --query &lt;text&gt;\nbun run src/skills/RecordsManager/Tools/RecordManager.ts retention --domain &lt;domain&gt;\nbun run src/skills/RecordsManager/Tools/RecordManager.ts status\n</code></pre>"},{"location":"user-guide/workflows/#workflow-best-practices","title":"Workflow Best Practices","text":"<ol> <li> <p>Always Review Suggestions: Upload workflow suggests tags\u2014review before confirming</p> </li> <li> <p>Check Retention First: Use Retention workflow before any deletion</p> </li> <li> <p>Validate Regularly: Run Trust Validation before EOFY for compliance</p> </li> <li> <p>Monitor Workflows: Review workflow effectiveness monthly</p> </li> <li> <p>Use Specific Search: Combine filters for faster document location</p> </li> </ol>"}]}